(function() {
    function r(e, n, t) {
        function o(i, f) {
            if (!n[i]) {
                if (!e[i]) {
                    var c = "function" == typeof require && require;
                    if (!f && c) return c(i, !0);
                    if (u) return u(i, !0);
                    var a = new Error("Cannot find module '" + i + "'");
                    throw a.code = "MODULE_NOT_FOUND", a
                }
                var p = n[i] = {
                    exports: {}
                };
                e[i][0].call(p.exports, function(r) {
                    var n = e[i][1][r];
                    return o(n || r)
                }, p, p.exports, r, e, n, t)
            }
            return n[i].exports
        }
        for (var u = "function" == typeof require && require, i = 0; i < t.length; i++) o(t[i]);
        return o
    }
    return r
})()({
    1: [function(require, module, exports) {
        module.exports = require("cssify")
    }, {
        cssify: 4
    }],
    2: [function(require, module, exports) {
        "use strict";
        var GetIntrinsic = require("get-intrinsic");
        var callBind = require("./");
        var $indexOf = callBind(GetIntrinsic("String.prototype.indexOf"));
        module.exports = function callBoundIntrinsic(name, allowMissing) {
            var intrinsic = GetIntrinsic(name, !!allowMissing);
            if (typeof intrinsic === "function" && $indexOf(name, ".prototype.") > -1) {
                return callBind(intrinsic)
            }
            return intrinsic
        }
    }, {
        "./": 3,
        "get-intrinsic": 11
    }],
    3: [function(require, module, exports) {
        "use strict";
        var bind = require("function-bind");
        var GetIntrinsic = require("get-intrinsic");
        var $apply = GetIntrinsic("%Function.prototype.apply%");
        var $call = GetIntrinsic("%Function.prototype.call%");
        var $reflectApply = GetIntrinsic("%Reflect.apply%", true) || bind.call($call, $apply);
        var $gOPD = GetIntrinsic("%Object.getOwnPropertyDescriptor%", true);
        var $defineProperty = GetIntrinsic("%Object.defineProperty%", true);
        var $max = GetIntrinsic("%Math.max%");
        if ($defineProperty) {
            try {
                $defineProperty({}, "a", {
                    value: 1
                })
            } catch (e) {
                $defineProperty = null
            }
        }
        module.exports = function callBind(originalFunction) {
            var func = $reflectApply(bind, $call, arguments);
            if ($gOPD && $defineProperty) {
                var desc = $gOPD(func, "length");
                if (desc.configurable) {
                    $defineProperty(func, "length", {
                        value: 1 + $max(0, originalFunction.length - (arguments.length - 1))
                    })
                }
            }
            return func
        };
        var applyBind = function applyBind() {
            return $reflectApply(bind, $apply, arguments)
        };
        if ($defineProperty) {
            $defineProperty(module.exports, "apply", {
                value: applyBind
            })
        } else {
            module.exports.apply = applyBind
        }
    }, {
        "function-bind": 10,
        "get-intrinsic": 11
    }],
    4: [function(require, module, exports) {
        "use strict";

        function injectStyleTag(document, fileName, cb) {
            var style = document.getElementById(fileName);
            if (style) {
                cb(style)
            } else {
                var head = document.getElementsByTagName("head")[0];
                style = document.createElement("style");
                if (fileName != null) style.id = fileName;
                cb(style);
                head.appendChild(style)
            }
            return style
        }
        module.exports = function(css, customDocument, fileName) {
            var doc = customDocument || document;
            if (doc.createStyleSheet) {
                var sheet = doc.createStyleSheet();
                sheet.cssText = css;
                return sheet.ownerNode
            } else {
                return injectStyleTag(doc, fileName, function(style) {
                    if (style.styleSheet) {
                        style.styleSheet.cssText = css
                    } else {
                        style.innerHTML = css
                    }
                })
            }
        };
        module.exports.byUrl = function(url) {
            if (document.createStyleSheet) {
                return document.createStyleSheet(url).ownerNode
            } else {
                var head = document.getElementsByTagName("head")[0];
                var link = document.createElement("link");
                link.rel = "stylesheet";
                link.href = url;
                head.appendChild(link);
                return link
            }
        }
    }, {}],
    5: [function(require, module, exports) {
        (function(global, factory) {
            typeof exports === "object" && typeof module !== "undefined" ? factory(exports) : typeof define === "function" && define.amd ? define(["exports"], factory) : factory(global.dat = {})
        })(this, function(exports) {
            "use strict";

            function ___$insertStyle(css) {
                if (!css) {
                    return
                }
                if (typeof window === "undefined") {
                    return
                }
                var style = document.createElement("style");
                style.setAttribute("type", "text/css");
                style.innerHTML = css;
                document.head.appendChild(style);
                return css
            }

            function colorToString(color, forceCSSHex) {
                var colorFormat = color.__state.conversionName.toString();
                var r = Math.round(color.r);
                var g = Math.round(color.g);
                var b = Math.round(color.b);
                var a = color.a;
                var h = Math.round(color.h);
                var s = color.s.toFixed(1);
                var v = color.v.toFixed(1);
                if (forceCSSHex || colorFormat === "THREE_CHAR_HEX" || colorFormat === "SIX_CHAR_HEX") {
                    var str = color.hex.toString(16);
                    while (str.length < 6) {
                        str = "0" + str
                    }
                    return "#" + str
                } else if (colorFormat === "CSS_RGB") {
                    return "rgb(" + r + "," + g + "," + b + ")"
                } else if (colorFormat === "CSS_RGBA") {
                    return "rgba(" + r + "," + g + "," + b + "," + a + ")"
                } else if (colorFormat === "HEX") {
                    return "0x" + color.hex.toString(16)
                } else if (colorFormat === "RGB_ARRAY") {
                    return "[" + r + "," + g + "," + b + "]"
                } else if (colorFormat === "RGBA_ARRAY") {
                    return "[" + r + "," + g + "," + b + "," + a + "]"
                } else if (colorFormat === "RGB_OBJ") {
                    return "{r:" + r + ",g:" + g + ",b:" + b + "}"
                } else if (colorFormat === "RGBA_OBJ") {
                    return "{r:" + r + ",g:" + g + ",b:" + b + ",a:" + a + "}"
                } else if (colorFormat === "HSV_OBJ") {
                    return "{h:" + h + ",s:" + s + ",v:" + v + "}"
                } else if (colorFormat === "HSVA_OBJ") {
                    return "{h:" + h + ",s:" + s + ",v:" + v + ",a:" + a + "}"
                }
                return "unknown format"
            }
            var ARR_EACH = Array.prototype.forEach;
            var ARR_SLICE = Array.prototype.slice;
            var Common = {
                BREAK: {},
                extend: function extend(target) {
                    this.each(ARR_SLICE.call(arguments, 1), function(obj) {
                        var keys = this.isObject(obj) ? Object.keys(obj) : [];
                        keys.forEach(function(key) {
                            if (!this.isUndefined(obj[key])) {
                                target[key] = obj[key]
                            }
                        }.bind(this))
                    }, this);
                    return target
                },
                defaults: function defaults(target) {
                    this.each(ARR_SLICE.call(arguments, 1), function(obj) {
                        var keys = this.isObject(obj) ? Object.keys(obj) : [];
                        keys.forEach(function(key) {
                            if (this.isUndefined(target[key])) {
                                target[key] = obj[key]
                            }
                        }.bind(this))
                    }, this);
                    return target
                },
                compose: function compose() {
                    var toCall = ARR_SLICE.call(arguments);
                    return function() {
                        var args = ARR_SLICE.call(arguments);
                        for (var i = toCall.length - 1; i >= 0; i--) {
                            args = [toCall[i].apply(this, args)]
                        }
                        return args[0]
                    }
                },
                each: function each(obj, itr, scope) {
                    if (!obj) {
                        return
                    }
                    if (ARR_EACH && obj.forEach && obj.forEach === ARR_EACH) {
                        obj.forEach(itr, scope)
                    } else if (obj.length === obj.length + 0) {
                        var key = void 0;
                        var l = void 0;
                        for (key = 0, l = obj.length; key < l; key++) {
                            if (key in obj && itr.call(scope, obj[key], key) === this.BREAK) {
                                return
                            }
                        }
                    } else {
                        for (var _key in obj) {
                            if (itr.call(scope, obj[_key], _key) === this.BREAK) {
                                return
                            }
                        }
                    }
                },
                defer: function defer(fnc) {
                    setTimeout(fnc, 0)
                },
                debounce: function debounce(func, threshold, callImmediately) {
                    var timeout = void 0;
                    return function() {
                        var obj = this;
                        var args = arguments;

                        function delayed() {
                            timeout = null;
                            if (!callImmediately) func.apply(obj, args)
                        }
                        var callNow = callImmediately || !timeout;
                        clearTimeout(timeout);
                        timeout = setTimeout(delayed, threshold);
                        if (callNow) {
                            func.apply(obj, args)
                        }
                    }
                },
                toArray: function toArray(obj) {
                    if (obj.toArray) return obj.toArray();
                    return ARR_SLICE.call(obj)
                },
                isUndefined: function isUndefined(obj) {
                    return obj === undefined
                },
                isNull: function isNull(obj) {
                    return obj === null
                },
                isNaN: function(_isNaN) {
                    function isNaN(_x) {
                        return _isNaN.apply(this, arguments)
                    }
                    isNaN.toString = function() {
                        return _isNaN.toString()
                    };
                    return isNaN
                }(function(obj) {
                    return isNaN(obj)
                }),
                isArray: Array.isArray || function(obj) {
                    return obj.constructor === Array
                },
                isObject: function isObject(obj) {
                    return obj === Object(obj)
                },
                isNumber: function isNumber(obj) {
                    return obj === obj + 0
                },
                isString: function isString(obj) {
                    return obj === obj + ""
                },
                isBoolean: function isBoolean(obj) {
                    return obj === false || obj === true
                },
                isFunction: function isFunction(obj) {
                    return obj instanceof Function
                }
            };
            var INTERPRETATIONS = [{
                litmus: Common.isString,
                conversions: {
                    THREE_CHAR_HEX: {
                        read: function read(original) {
                            var test = original.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);
                            if (test === null) {
                                return false
                            }
                            return {
                                space: "HEX",
                                hex: parseInt("0x" + test[1].toString() + test[1].toString() + test[2].toString() + test[2].toString() + test[3].toString() + test[3].toString(), 0)
                            }
                        },
                        write: colorToString
                    },
                    SIX_CHAR_HEX: {
                        read: function read(original) {
                            var test = original.match(/^#([A-F0-9]{6})$/i);
                            if (test === null) {
                                return false
                            }
                            return {
                                space: "HEX",
                                hex: parseInt("0x" + test[1].toString(), 0)
                            }
                        },
                        write: colorToString
                    },
                    CSS_RGB: {
                        read: function read(original) {
                            var test = original.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);
                            if (test === null) {
                                return false
                            }
                            return {
                                space: "RGB",
                                r: parseFloat(test[1]),
                                g: parseFloat(test[2]),
                                b: parseFloat(test[3])
                            }
                        },
                        write: colorToString
                    },
                    CSS_RGBA: {
                        read: function read(original) {
                            var test = original.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);
                            if (test === null) {
                                return false
                            }
                            return {
                                space: "RGB",
                                r: parseFloat(test[1]),
                                g: parseFloat(test[2]),
                                b: parseFloat(test[3]),
                                a: parseFloat(test[4])
                            }
                        },
                        write: colorToString
                    }
                }
            }, {
                litmus: Common.isNumber,
                conversions: {
                    HEX: {
                        read: function read(original) {
                            return {
                                space: "HEX",
                                hex: original,
                                conversionName: "HEX"
                            }
                        },
                        write: function write(color) {
                            return color.hex
                        }
                    }
                }
            }, {
                litmus: Common.isArray,
                conversions: {
                    RGB_ARRAY: {
                        read: function read(original) {
                            if (original.length !== 3) {
                                return false
                            }
                            return {
                                space: "RGB",
                                r: original[0],
                                g: original[1],
                                b: original[2]
                            }
                        },
                        write: function write(color) {
                            return [color.r, color.g, color.b]
                        }
                    },
                    RGBA_ARRAY: {
                        read: function read(original) {
                            if (original.length !== 4) return false;
                            return {
                                space: "RGB",
                                r: original[0],
                                g: original[1],
                                b: original[2],
                                a: original[3]
                            }
                        },
                        write: function write(color) {
                            return [color.r, color.g, color.b, color.a]
                        }
                    }
                }
            }, {
                litmus: Common.isObject,
                conversions: {
                    RGBA_OBJ: {
                        read: function read(original) {
                            if (Common.isNumber(original.r) && Common.isNumber(original.g) && Common.isNumber(original.b) && Common.isNumber(original.a)) {
                                return {
                                    space: "RGB",
                                    r: original.r,
                                    g: original.g,
                                    b: original.b,
                                    a: original.a
                                }
                            }
                            return false
                        },
                        write: function write(color) {
                            return {
                                r: color.r,
                                g: color.g,
                                b: color.b,
                                a: color.a
                            }
                        }
                    },
                    RGB_OBJ: {
                        read: function read(original) {
                            if (Common.isNumber(original.r) && Common.isNumber(original.g) && Common.isNumber(original.b)) {
                                return {
                                    space: "RGB",
                                    r: original.r,
                                    g: original.g,
                                    b: original.b
                                }
                            }
                            return false
                        },
                        write: function write(color) {
                            return {
                                r: color.r,
                                g: color.g,
                                b: color.b
                            }
                        }
                    },
                    HSVA_OBJ: {
                        read: function read(original) {
                            if (Common.isNumber(original.h) && Common.isNumber(original.s) && Common.isNumber(original.v) && Common.isNumber(original.a)) {
                                return {
                                    space: "HSV",
                                    h: original.h,
                                    s: original.s,
                                    v: original.v,
                                    a: original.a
                                }
                            }
                            return false
                        },
                        write: function write(color) {
                            return {
                                h: color.h,
                                s: color.s,
                                v: color.v,
                                a: color.a
                            }
                        }
                    },
                    HSV_OBJ: {
                        read: function read(original) {
                            if (Common.isNumber(original.h) && Common.isNumber(original.s) && Common.isNumber(original.v)) {
                                return {
                                    space: "HSV",
                                    h: original.h,
                                    s: original.s,
                                    v: original.v
                                }
                            }
                            return false
                        },
                        write: function write(color) {
                            return {
                                h: color.h,
                                s: color.s,
                                v: color.v
                            }
                        }
                    }
                }
            }];
            var result = void 0;
            var toReturn = void 0;
            var interpret = function interpret() {
                toReturn = false;
                var original = arguments.length > 1 ? Common.toArray(arguments) : arguments[0];
                Common.each(INTERPRETATIONS, function(family) {
                    if (family.litmus(original)) {
                        Common.each(family.conversions, function(conversion, conversionName) {
                            result = conversion.read(original);
                            if (toReturn === false && result !== false) {
                                toReturn = result;
                                result.conversionName = conversionName;
                                result.conversion = conversion;
                                return Common.BREAK
                            }
                        });
                        return Common.BREAK
                    }
                });
                return toReturn
            };
            var tmpComponent = void 0;
            var ColorMath = {
                hsv_to_rgb: function hsv_to_rgb(h, s, v) {
                    var hi = Math.floor(h / 60) % 6;
                    var f = h / 60 - Math.floor(h / 60);
                    var p = v * (1 - s);
                    var q = v * (1 - f * s);
                    var t = v * (1 - (1 - f) * s);
                    var c = [
                        [v, t, p],
                        [q, v, p],
                        [p, v, t],
                        [p, q, v],
                        [t, p, v],
                        [v, p, q]
                    ][hi];
                    return {
                        r: c[0] * 255,
                        g: c[1] * 255,
                        b: c[2] * 255
                    }
                },
                rgb_to_hsv: function rgb_to_hsv(r, g, b) {
                    var min = Math.min(r, g, b);
                    var max = Math.max(r, g, b);
                    var delta = max - min;
                    var h = void 0;
                    var s = void 0;
                    if (max !== 0) {
                        s = delta / max
                    } else {
                        return {
                            h: NaN,
                            s: 0,
                            v: 0
                        }
                    }
                    if (r === max) {
                        h = (g - b) / delta
                    } else if (g === max) {
                        h = 2 + (b - r) / delta
                    } else {
                        h = 4 + (r - g) / delta
                    }
                    h /= 6;
                    if (h < 0) {
                        h += 1
                    }
                    return {
                        h: h * 360,
                        s: s,
                        v: max / 255
                    }
                },
                rgb_to_hex: function rgb_to_hex(r, g, b) {
                    var hex = this.hex_with_component(0, 2, r);
                    hex = this.hex_with_component(hex, 1, g);
                    hex = this.hex_with_component(hex, 0, b);
                    return hex
                },
                component_from_hex: function component_from_hex(hex, componentIndex) {
                    return hex >> componentIndex * 8 & 255
                },
                hex_with_component: function hex_with_component(hex, componentIndex, value) {
                    return value << (tmpComponent = componentIndex * 8) | hex & ~(255 << tmpComponent)
                }
            };
            var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            };
            var classCallCheck = function(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function")
                }
            };
            var createClass = function() {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor)
                    }
                }
                return function(Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor
                }
            }();
            var get = function get(object, property, receiver) {
                if (object === null) object = Function.prototype;
                var desc = Object.getOwnPropertyDescriptor(object, property);
                if (desc === undefined) {
                    var parent = Object.getPrototypeOf(object);
                    if (parent === null) {
                        return undefined
                    } else {
                        return get(parent, property, receiver)
                    }
                } else if ("value" in desc) {
                    return desc.value
                } else {
                    var getter = desc.get;
                    if (getter === undefined) {
                        return undefined
                    }
                    return getter.call(receiver)
                }
            };
            var inherits = function(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass)
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass
            };
            var possibleConstructorReturn = function(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self
            };
            var Color = function() {
                function Color() {
                    classCallCheck(this, Color);
                    this.__state = interpret.apply(this, arguments);
                    if (this.__state === false) {
                        throw new Error("Failed to interpret color arguments")
                    }
                    this.__state.a = this.__state.a || 1
                }
                createClass(Color, [{
                    key: "toString",
                    value: function toString() {
                        return colorToString(this)
                    }
                }, {
                    key: "toHexString",
                    value: function toHexString() {
                        return colorToString(this, true)
                    }
                }, {
                    key: "toOriginal",
                    value: function toOriginal() {
                        return this.__state.conversion.write(this)
                    }
                }]);
                return Color
            }();

            function defineRGBComponent(target, component, componentHexIndex) {
                Object.defineProperty(target, component, {
                    get: function get$$1() {
                        if (this.__state.space === "RGB") {
                            return this.__state[component]
                        }
                        Color.recalculateRGB(this, component, componentHexIndex);
                        return this.__state[component]
                    },
                    set: function set$$1(v) {
                        if (this.__state.space !== "RGB") {
                            Color.recalculateRGB(this, component, componentHexIndex);
                            this.__state.space = "RGB"
                        }
                        this.__state[component] = v
                    }
                })
            }

            function defineHSVComponent(target, component) {
                Object.defineProperty(target, component, {
                    get: function get$$1() {
                        if (this.__state.space === "HSV") {
                            return this.__state[component]
                        }
                        Color.recalculateHSV(this);
                        return this.__state[component]
                    },
                    set: function set$$1(v) {
                        if (this.__state.space !== "HSV") {
                            Color.recalculateHSV(this);
                            this.__state.space = "HSV"
                        }
                        this.__state[component] = v
                    }
                })
            }
            Color.recalculateRGB = function(color, component, componentHexIndex) {
                if (color.__state.space === "HEX") {
                    color.__state[component] = ColorMath.component_from_hex(color.__state.hex, componentHexIndex)
                } else if (color.__state.space === "HSV") {
                    Common.extend(color.__state, ColorMath.hsv_to_rgb(color.__state.h, color.__state.s, color.__state.v))
                } else {
                    throw new Error("Corrupted color state")
                }
            };
            Color.recalculateHSV = function(color) {
                var result = ColorMath.rgb_to_hsv(color.r, color.g, color.b);
                Common.extend(color.__state, {
                    s: result.s,
                    v: result.v
                });
                if (!Common.isNaN(result.h)) {
                    color.__state.h = result.h
                } else if (Common.isUndefined(color.__state.h)) {
                    color.__state.h = 0
                }
            };
            Color.COMPONENTS = ["r", "g", "b", "h", "s", "v", "hex", "a"];
            defineRGBComponent(Color.prototype, "r", 2);
            defineRGBComponent(Color.prototype, "g", 1);
            defineRGBComponent(Color.prototype, "b", 0);
            defineHSVComponent(Color.prototype, "h");
            defineHSVComponent(Color.prototype, "s");
            defineHSVComponent(Color.prototype, "v");
            Object.defineProperty(Color.prototype, "a", {
                get: function get$$1() {
                    return this.__state.a
                },
                set: function set$$1(v) {
                    this.__state.a = v
                }
            });
            Object.defineProperty(Color.prototype, "hex", {
                get: function get$$1() {
                    if (this.__state.space !== "HEX") {
                        this.__state.hex = ColorMath.rgb_to_hex(this.r, this.g, this.b);
                        this.__state.space = "HEX"
                    }
                    return this.__state.hex
                },
                set: function set$$1(v) {
                    this.__state.space = "HEX";
                    this.__state.hex = v
                }
            });
            var Controller = function() {
                function Controller(object, property) {
                    classCallCheck(this, Controller);
                    this.initialValue = object[property];
                    this.domElement = document.createElement("div");
                    this.object = object;
                    this.property = property;
                    this.__onChange = undefined;
                    this.__onFinishChange = undefined
                }
                createClass(Controller, [{
                    key: "onChange",
                    value: function onChange(fnc) {
                        this.__onChange = fnc;
                        return this
                    }
                }, {
                    key: "onFinishChange",
                    value: function onFinishChange(fnc) {
                        this.__onFinishChange = fnc;
                        return this
                    }
                }, {
                    key: "setValue",
                    value: function setValue(newValue) {
                        this.object[this.property] = newValue;
                        if (this.__onChange) {
                            this.__onChange.call(this, newValue)
                        }
                        this.updateDisplay();
                        return this
                    }
                }, {
                    key: "getValue",
                    value: function getValue() {
                        return this.object[this.property]
                    }
                }, {
                    key: "updateDisplay",
                    value: function updateDisplay() {
                        return this
                    }
                }, {
                    key: "isModified",
                    value: function isModified() {
                        return this.initialValue !== this.getValue()
                    }
                }]);
                return Controller
            }();
            var EVENT_MAP = {
                HTMLEvents: ["change"],
                MouseEvents: ["click", "mousemove", "mousedown", "mouseup", "mouseover"],
                KeyboardEvents: ["keydown"]
            };
            var EVENT_MAP_INV = {};
            Common.each(EVENT_MAP, function(v, k) {
                Common.each(v, function(e) {
                    EVENT_MAP_INV[e] = k
                })
            });
            var CSS_VALUE_PIXELS = /(\d+(\.\d+)?)px/;

            function cssValueToPixels(val) {
                if (val === "0" || Common.isUndefined(val)) {
                    return 0
                }
                var match = val.match(CSS_VALUE_PIXELS);
                if (!Common.isNull(match)) {
                    return parseFloat(match[1])
                }
                return 0
            }
            var dom = {
                makeSelectable: function makeSelectable(elem, selectable) {
                    if (elem === undefined || elem.style === undefined) return;
                    elem.onselectstart = selectable ? function() {
                        return false
                    } : function() {};
                    elem.style.MozUserSelect = selectable ? "auto" : "none";
                    elem.style.KhtmlUserSelect = selectable ? "auto" : "none";
                    elem.unselectable = selectable ? "on" : "off"
                },
                makeFullscreen: function makeFullscreen(elem, hor, vert) {
                    var vertical = vert;
                    var horizontal = hor;
                    if (Common.isUndefined(horizontal)) {
                        horizontal = true
                    }
                    if (Common.isUndefined(vertical)) {
                        vertical = true
                    }
                    elem.style.position = "absolute";
                    if (horizontal) {
                        elem.style.left = 0;
                        elem.style.right = 0
                    }
                    if (vertical) {
                        elem.style.top = 0;
                        elem.style.bottom = 0
                    }
                },
                fakeEvent: function fakeEvent(elem, eventType, pars, aux) {
                    var params = pars || {};
                    var className = EVENT_MAP_INV[eventType];
                    if (!className) {
                        throw new Error("Event type " + eventType + " not supported.")
                    }
                    var evt = document.createEvent(className);
                    switch (className) {
                        case "MouseEvents": {
                            var clientX = params.x || params.clientX || 0;
                            var clientY = params.y || params.clientY || 0;
                            evt.initMouseEvent(eventType, params.bubbles || false, params.cancelable || true, window, params.clickCount || 1, 0, 0, clientX, clientY, false, false, false, false, 0, null);
                            break
                        }
                        case "KeyboardEvents": {
                            var init = evt.initKeyboardEvent || evt.initKeyEvent;
                            Common.defaults(params, {
                                cancelable: true,
                                ctrlKey: false,
                                altKey: false,
                                shiftKey: false,
                                metaKey: false,
                                keyCode: undefined,
                                charCode: undefined
                            });
                            init(eventType, params.bubbles || false, params.cancelable, window, params.ctrlKey, params.altKey, params.shiftKey, params.metaKey, params.keyCode, params.charCode);
                            break
                        }
                        default: {
                            evt.initEvent(eventType, params.bubbles || false, params.cancelable || true);
                            break
                        }
                    }
                    Common.defaults(evt, aux);
                    elem.dispatchEvent(evt)
                },
                bind: function bind(elem, event, func, newBool) {
                    var bool = newBool || false;
                    if (elem.addEventListener) {
                        elem.addEventListener(event, func, bool)
                    } else if (elem.attachEvent) {
                        elem.attachEvent("on" + event, func)
                    }
                    return dom
                },
                unbind: function unbind(elem, event, func, newBool) {
                    var bool = newBool || false;
                    if (elem.removeEventListener) {
                        elem.removeEventListener(event, func, bool)
                    } else if (elem.detachEvent) {
                        elem.detachEvent("on" + event, func)
                    }
                    return dom
                },
                addClass: function addClass(elem, className) {
                    if (elem.className === undefined) {
                        elem.className = className
                    } else if (elem.className !== className) {
                        var classes = elem.className.split(/ +/);
                        if (classes.indexOf(className) === -1) {
                            classes.push(className);
                            elem.className = classes.join(" ").replace(/^\s+/, "").replace(/\s+$/, "")
                        }
                    }
                    return dom
                },
                removeClass: function removeClass(elem, className) {
                    if (className) {
                        if (elem.className === className) {
                            elem.removeAttribute("class")
                        } else {
                            var classes = elem.className.split(/ +/);
                            var index = classes.indexOf(className);
                            if (index !== -1) {
                                classes.splice(index, 1);
                                elem.className = classes.join(" ")
                            }
                        }
                    } else {
                        elem.className = undefined
                    }
                    return dom
                },
                hasClass: function hasClass(elem, className) {
                    return new RegExp("(?:^|\\s+)" + className + "(?:\\s+|$)").test(elem.className) || false
                },
                getWidth: function getWidth(elem) {
                    var style = getComputedStyle(elem);
                    return cssValueToPixels(style["border-left-width"]) + cssValueToPixels(style["border-right-width"]) + cssValueToPixels(style["padding-left"]) + cssValueToPixels(style["padding-right"]) + cssValueToPixels(style.width)
                },
                getHeight: function getHeight(elem) {
                    var style = getComputedStyle(elem);
                    return cssValueToPixels(style["border-top-width"]) + cssValueToPixels(style["border-bottom-width"]) + cssValueToPixels(style["padding-top"]) + cssValueToPixels(style["padding-bottom"]) + cssValueToPixels(style.height)
                },
                getOffset: function getOffset(el) {
                    var elem = el;
                    var offset = {
                        left: 0,
                        top: 0
                    };
                    if (elem.offsetParent) {
                        do {
                            offset.left += elem.offsetLeft;
                            offset.top += elem.offsetTop;
                            elem = elem.offsetParent
                        } while (elem)
                    }
                    return offset
                },
                isActive: function isActive(elem) {
                    return elem === document.activeElement && (elem.type || elem.href)
                }
            };
            var BooleanController = function(_Controller) {
                inherits(BooleanController, _Controller);

                function BooleanController(object, property) {
                    classCallCheck(this, BooleanController);
                    var _this2 = possibleConstructorReturn(this, (BooleanController.__proto__ || Object.getPrototypeOf(BooleanController)).call(this, object, property));
                    var _this = _this2;
                    _this2.__prev = _this2.getValue();
                    _this2.__checkbox = document.createElement("input");
                    _this2.__checkbox.setAttribute("type", "checkbox");

                    function onChange() {
                        _this.setValue(!_this.__prev)
                    }
                    dom.bind(_this2.__checkbox, "change", onChange, false);
                    _this2.domElement.appendChild(_this2.__checkbox);
                    _this2.updateDisplay();
                    return _this2
                }
                createClass(BooleanController, [{
                    key: "setValue",
                    value: function setValue(v) {
                        var toReturn = get(BooleanController.prototype.__proto__ || Object.getPrototypeOf(BooleanController.prototype), "setValue", this).call(this, v);
                        if (this.__onFinishChange) {
                            this.__onFinishChange.call(this, this.getValue())
                        }
                        this.__prev = this.getValue();
                        return toReturn
                    }
                }, {
                    key: "updateDisplay",
                    value: function updateDisplay() {
                        if (this.getValue() === true) {
                            this.__checkbox.setAttribute("checked", "checked");
                            this.__checkbox.checked = true;
                            this.__prev = true
                        } else {
                            this.__checkbox.checked = false;
                            this.__prev = false
                        }
                        return get(BooleanController.prototype.__proto__ || Object.getPrototypeOf(BooleanController.prototype), "updateDisplay", this).call(this)
                    }
                }]);
                return BooleanController
            }(Controller);
            var OptionController = function(_Controller) {
                inherits(OptionController, _Controller);

                function OptionController(object, property, opts) {
                    classCallCheck(this, OptionController);
                    var _this2 = possibleConstructorReturn(this, (OptionController.__proto__ || Object.getPrototypeOf(OptionController)).call(this, object, property));
                    var options = opts;
                    var _this = _this2;
                    _this2.__select = document.createElement("select");
                    if (Common.isArray(options)) {
                        var map = {};
                        Common.each(options, function(element) {
                            map[element] = element
                        });
                        options = map
                    }
                    Common.each(options, function(value, key) {
                        var opt = document.createElement("option");
                        opt.innerHTML = key;
                        opt.setAttribute("value", value);
                        _this.__select.appendChild(opt)
                    });
                    _this2.updateDisplay();
                    dom.bind(_this2.__select, "change", function() {
                        var desiredValue = this.options[this.selectedIndex].value;
                        _this.setValue(desiredValue)
                    });
                    _this2.domElement.appendChild(_this2.__select);
                    return _this2
                }
                createClass(OptionController, [{
                    key: "setValue",
                    value: function setValue(v) {
                        var toReturn = get(OptionController.prototype.__proto__ || Object.getPrototypeOf(OptionController.prototype), "setValue", this).call(this, v);
                        if (this.__onFinishChange) {
                            this.__onFinishChange.call(this, this.getValue())
                        }
                        return toReturn
                    }
                }, {
                    key: "updateDisplay",
                    value: function updateDisplay() {
                        if (dom.isActive(this.__select)) return this;
                        this.__select.value = this.getValue();
                        return get(OptionController.prototype.__proto__ || Object.getPrototypeOf(OptionController.prototype), "updateDisplay", this).call(this)
                    }
                }]);
                return OptionController
            }(Controller);
            var StringController = function(_Controller) {
                inherits(StringController, _Controller);

                function StringController(object, property) {
                    classCallCheck(this, StringController);
                    var _this2 = possibleConstructorReturn(this, (StringController.__proto__ || Object.getPrototypeOf(StringController)).call(this, object, property));
                    var _this = _this2;

                    function onChange() {
                        _this.setValue(_this.__input.value)
                    }

                    function onBlur() {
                        if (_this.__onFinishChange) {
                            _this.__onFinishChange.call(_this, _this.getValue())
                        }
                    }
                    _this2.__input = document.createElement("input");
                    _this2.__input.setAttribute("type", "text");
                    dom.bind(_this2.__input, "keyup", onChange);
                    dom.bind(_this2.__input, "change", onChange);
                    dom.bind(_this2.__input, "blur", onBlur);
                    dom.bind(_this2.__input, "keydown", function(e) {
                        if (e.keyCode === 13) {
                            this.blur()
                        }
                    });
                    _this2.updateDisplay();
                    _this2.domElement.appendChild(_this2.__input);
                    return _this2
                }
                createClass(StringController, [{
                    key: "updateDisplay",
                    value: function updateDisplay() {
                        if (!dom.isActive(this.__input)) {
                            this.__input.value = this.getValue()
                        }
                        return get(StringController.prototype.__proto__ || Object.getPrototypeOf(StringController.prototype), "updateDisplay", this).call(this)
                    }
                }]);
                return StringController
            }(Controller);

            function numDecimals(x) {
                var _x = x.toString();
                if (_x.indexOf(".") > -1) {
                    return _x.length - _x.indexOf(".") - 1
                }
                return 0
            }
            var NumberController = function(_Controller) {
                inherits(NumberController, _Controller);

                function NumberController(object, property, params) {
                    classCallCheck(this, NumberController);
                    var _this = possibleConstructorReturn(this, (NumberController.__proto__ || Object.getPrototypeOf(NumberController)).call(this, object, property));
                    var _params = params || {};
                    _this.__min = _params.min;
                    _this.__max = _params.max;
                    _this.__step = _params.step;
                    if (Common.isUndefined(_this.__step)) {
                        if (_this.initialValue === 0) {
                            _this.__impliedStep = 1
                        } else {
                            _this.__impliedStep = Math.pow(10, Math.floor(Math.log(Math.abs(_this.initialValue)) / Math.LN10)) / 10
                        }
                    } else {
                        _this.__impliedStep = _this.__step
                    }
                    _this.__precision = numDecimals(_this.__impliedStep);
                    return _this
                }
                createClass(NumberController, [{
                    key: "setValue",
                    value: function setValue(v) {
                        var _v = v;
                        if (this.__min !== undefined && _v < this.__min) {
                            _v = this.__min
                        } else if (this.__max !== undefined && _v > this.__max) {
                            _v = this.__max
                        }
                        if (this.__step !== undefined && _v % this.__step !== 0) {
                            _v = Math.round(_v / this.__step) * this.__step
                        }
                        return get(NumberController.prototype.__proto__ || Object.getPrototypeOf(NumberController.prototype), "setValue", this).call(this, _v)
                    }
                }, {
                    key: "min",
                    value: function min(minValue) {
                        this.__min = minValue;
                        return this
                    }
                }, {
                    key: "max",
                    value: function max(maxValue) {
                        this.__max = maxValue;
                        return this
                    }
                }, {
                    key: "step",
                    value: function step(stepValue) {
                        this.__step = stepValue;
                        this.__impliedStep = stepValue;
                        this.__precision = numDecimals(stepValue);
                        return this
                    }
                }]);
                return NumberController
            }(Controller);

            function roundToDecimal(value, decimals) {
                var tenTo = Math.pow(10, decimals);
                return Math.round(value * tenTo) / tenTo
            }
            var NumberControllerBox = function(_NumberController) {
                inherits(NumberControllerBox, _NumberController);

                function NumberControllerBox(object, property, params) {
                    classCallCheck(this, NumberControllerBox);
                    var _this2 = possibleConstructorReturn(this, (NumberControllerBox.__proto__ || Object.getPrototypeOf(NumberControllerBox)).call(this, object, property, params));
                    _this2.__truncationSuspended = false;
                    var _this = _this2;
                    var prevY = void 0;

                    function onChange() {
                        var attempted = parseFloat(_this.__input.value);
                        if (!Common.isNaN(attempted)) {
                            _this.setValue(attempted)
                        }
                    }

                    function onFinish() {
                        if (_this.__onFinishChange) {
                            _this.__onFinishChange.call(_this, _this.getValue())
                        }
                    }

                    function onBlur() {
                        onFinish()
                    }

                    function onMouseDrag(e) {
                        var diff = prevY - e.clientY;
                        _this.setValue(_this.getValue() + diff * _this.__impliedStep);
                        prevY = e.clientY
                    }

                    function onMouseUp() {
                        dom.unbind(window, "mousemove", onMouseDrag);
                        dom.unbind(window, "mouseup", onMouseUp);
                        onFinish()
                    }

                    function onMouseDown(e) {
                        dom.bind(window, "mousemove", onMouseDrag);
                        dom.bind(window, "mouseup", onMouseUp);
                        prevY = e.clientY
                    }
                    _this2.__input = document.createElement("input");
                    _this2.__input.setAttribute("type", "text");
                    dom.bind(_this2.__input, "change", onChange);
                    dom.bind(_this2.__input, "blur", onBlur);
                    dom.bind(_this2.__input, "mousedown", onMouseDown);
                    dom.bind(_this2.__input, "keydown", function(e) {
                        if (e.keyCode === 13) {
                            _this.__truncationSuspended = true;
                            this.blur();
                            _this.__truncationSuspended = false;
                            onFinish()
                        }
                    });
                    _this2.updateDisplay();
                    _this2.domElement.appendChild(_this2.__input);
                    return _this2
                }
                createClass(NumberControllerBox, [{
                    key: "updateDisplay",
                    value: function updateDisplay() {
                        this.__input.value = this.__truncationSuspended ? this.getValue() : roundToDecimal(this.getValue(), this.__precision);
                        return get(NumberControllerBox.prototype.__proto__ || Object.getPrototypeOf(NumberControllerBox.prototype), "updateDisplay", this).call(this)
                    }
                }]);
                return NumberControllerBox
            }(NumberController);

            function map(v, i1, i2, o1, o2) {
                return o1 + (o2 - o1) * ((v - i1) / (i2 - i1))
            }
            var NumberControllerSlider = function(_NumberController) {
                inherits(NumberControllerSlider, _NumberController);

                function NumberControllerSlider(object, property, min, max, step) {
                    classCallCheck(this, NumberControllerSlider);
                    var _this2 = possibleConstructorReturn(this, (NumberControllerSlider.__proto__ || Object.getPrototypeOf(NumberControllerSlider)).call(this, object, property, {
                        min: min,
                        max: max,
                        step: step
                    }));
                    var _this = _this2;
                    _this2.__background = document.createElement("div");
                    _this2.__foreground = document.createElement("div");
                    dom.bind(_this2.__background, "mousedown", onMouseDown);
                    dom.bind(_this2.__background, "touchstart", onTouchStart);
                    dom.addClass(_this2.__background, "slider");
                    dom.addClass(_this2.__foreground, "slider-fg");

                    function onMouseDown(e) {
                        document.activeElement.blur();
                        dom.bind(window, "mousemove", onMouseDrag);
                        dom.bind(window, "mouseup", onMouseUp);
                        onMouseDrag(e)
                    }

                    function onMouseDrag(e) {
                        e.preventDefault();
                        var bgRect = _this.__background.getBoundingClientRect();
                        _this.setValue(map(e.clientX, bgRect.left, bgRect.right, _this.__min, _this.__max));
                        return false
                    }

                    function onMouseUp() {
                        dom.unbind(window, "mousemove", onMouseDrag);
                        dom.unbind(window, "mouseup", onMouseUp);
                        if (_this.__onFinishChange) {
                            _this.__onFinishChange.call(_this, _this.getValue())
                        }
                    }

                    function onTouchStart(e) {
                        if (e.touches.length !== 1) {
                            return
                        }
                        dom.bind(window, "touchmove", onTouchMove);
                        dom.bind(window, "touchend", onTouchEnd);
                        onTouchMove(e)
                    }

                    function onTouchMove(e) {
                        var clientX = e.touches[0].clientX;
                        var bgRect = _this.__background.getBoundingClientRect();
                        _this.setValue(map(clientX, bgRect.left, bgRect.right, _this.__min, _this.__max))
                    }

                    function onTouchEnd() {
                        dom.unbind(window, "touchmove", onTouchMove);
                        dom.unbind(window, "touchend", onTouchEnd);
                        if (_this.__onFinishChange) {
                            _this.__onFinishChange.call(_this, _this.getValue())
                        }
                    }
                    _this2.updateDisplay();
                    _this2.__background.appendChild(_this2.__foreground);
                    _this2.domElement.appendChild(_this2.__background);
                    return _this2
                }
                createClass(NumberControllerSlider, [{
                    key: "updateDisplay",
                    value: function updateDisplay() {
                        var pct = (this.getValue() - this.__min) / (this.__max - this.__min);
                        this.__foreground.style.width = pct * 100 + "%";
                        return get(NumberControllerSlider.prototype.__proto__ || Object.getPrototypeOf(NumberControllerSlider.prototype), "updateDisplay", this).call(this)
                    }
                }]);
                return NumberControllerSlider
            }(NumberController);
            var FunctionController = function(_Controller) {
                inherits(FunctionController, _Controller);

                function FunctionController(object, property, text) {
                    classCallCheck(this, FunctionController);
                    var _this2 = possibleConstructorReturn(this, (FunctionController.__proto__ || Object.getPrototypeOf(FunctionController)).call(this, object, property));
                    var _this = _this2;
                    _this2.__button = document.createElement("div");
                    _this2.__button.innerHTML = text === undefined ? "Fire" : text;
                    dom.bind(_this2.__button, "click", function(e) {
                        e.preventDefault();
                        _this.fire();
                        return false
                    });
                    dom.addClass(_this2.__button, "button");
                    _this2.domElement.appendChild(_this2.__button);
                    return _this2
                }
                createClass(FunctionController, [{
                    key: "fire",
                    value: function fire() {
                        if (this.__onChange) {
                            this.__onChange.call(this)
                        }
                        this.getValue().call(this.object);
                        if (this.__onFinishChange) {
                            this.__onFinishChange.call(this, this.getValue())
                        }
                    }
                }]);
                return FunctionController
            }(Controller);
            var ColorController = function(_Controller) {
                inherits(ColorController, _Controller);

                function ColorController(object, property) {
                    classCallCheck(this, ColorController);
                    var _this2 = possibleConstructorReturn(this, (ColorController.__proto__ || Object.getPrototypeOf(ColorController)).call(this, object, property));
                    _this2.__color = new Color(_this2.getValue());
                    _this2.__temp = new Color(0);
                    var _this = _this2;
                    _this2.domElement = document.createElement("div");
                    dom.makeSelectable(_this2.domElement, false);
                    _this2.__selector = document.createElement("div");
                    _this2.__selector.className = "selector";
                    _this2.__saturation_field = document.createElement("div");
                    _this2.__saturation_field.className = "saturation-field";
                    _this2.__field_knob = document.createElement("div");
                    _this2.__field_knob.className = "field-knob";
                    _this2.__field_knob_border = "2px solid ";
                    _this2.__hue_knob = document.createElement("div");
                    _this2.__hue_knob.className = "hue-knob";
                    _this2.__hue_field = document.createElement("div");
                    _this2.__hue_field.className = "hue-field";
                    _this2.__input = document.createElement("input");
                    _this2.__input.type = "text";
                    _this2.__input_textShadow = "0 1px 1px ";
                    dom.bind(_this2.__input, "keydown", function(e) {
                        if (e.keyCode === 13) {
                            onBlur.call(this)
                        }
                    });
                    dom.bind(_this2.__input, "blur", onBlur);
                    dom.bind(_this2.__selector, "mousedown", function() {
                        dom.addClass(this, "drag").bind(window, "mouseup", function() {
                            dom.removeClass(_this.__selector, "drag")
                        })
                    });
                    dom.bind(_this2.__selector, "touchstart", function() {
                        dom.addClass(this, "drag").bind(window, "touchend", function() {
                            dom.removeClass(_this.__selector, "drag")
                        })
                    });
                    var valueField = document.createElement("div");
                    Common.extend(_this2.__selector.style, {
                        width: "122px",
                        height: "102px",
                        padding: "3px",
                        backgroundColor: "#222",
                        boxShadow: "0px 1px 3px rgba(0,0,0,0.3)"
                    });
                    Common.extend(_this2.__field_knob.style, {
                        position: "absolute",
                        width: "12px",
                        height: "12px",
                        border: _this2.__field_knob_border + (_this2.__color.v < .5 ? "#fff" : "#000"),
                        boxShadow: "0px 1px 3px rgba(0,0,0,0.5)",
                        borderRadius: "12px",
                        zIndex: 1
                    });
                    Common.extend(_this2.__hue_knob.style, {
                        position: "absolute",
                        width: "15px",
                        height: "2px",
                        borderRight: "4px solid #fff",
                        zIndex: 1
                    });
                    Common.extend(_this2.__saturation_field.style, {
                        width: "100px",
                        height: "100px",
                        border: "1px solid #555",
                        marginRight: "3px",
                        display: "inline-block",
                        cursor: "pointer"
                    });
                    Common.extend(valueField.style, {
                        width: "100%",
                        height: "100%",
                        background: "none"
                    });
                    linearGradient(valueField, "top", "rgba(0,0,0,0)", "#000");
                    Common.extend(_this2.__hue_field.style, {
                        width: "15px",
                        height: "100px",
                        border: "1px solid #555",
                        cursor: "ns-resize",
                        position: "absolute",
                        top: "3px",
                        right: "3px"
                    });
                    hueGradient(_this2.__hue_field);
                    Common.extend(_this2.__input.style, {
                        outline: "none",
                        textAlign: "center",
                        color: "#fff",
                        border: 0,
                        fontWeight: "bold",
                        textShadow: _this2.__input_textShadow + "rgba(0,0,0,0.7)"
                    });
                    dom.bind(_this2.__saturation_field, "mousedown", fieldDown);
                    dom.bind(_this2.__saturation_field, "touchstart", fieldDown);
                    dom.bind(_this2.__field_knob, "mousedown", fieldDown);
                    dom.bind(_this2.__field_knob, "touchstart", fieldDown);
                    dom.bind(_this2.__hue_field, "mousedown", fieldDownH);
                    dom.bind(_this2.__hue_field, "touchstart", fieldDownH);

                    function fieldDown(e) {
                        setSV(e);
                        dom.bind(window, "mousemove", setSV);
                        dom.bind(window, "touchmove", setSV);
                        dom.bind(window, "mouseup", fieldUpSV);
                        dom.bind(window, "touchend", fieldUpSV)
                    }

                    function fieldDownH(e) {
                        setH(e);
                        dom.bind(window, "mousemove", setH);
                        dom.bind(window, "touchmove", setH);
                        dom.bind(window, "mouseup", fieldUpH);
                        dom.bind(window, "touchend", fieldUpH)
                    }

                    function fieldUpSV() {
                        dom.unbind(window, "mousemove", setSV);
                        dom.unbind(window, "touchmove", setSV);
                        dom.unbind(window, "mouseup", fieldUpSV);
                        dom.unbind(window, "touchend", fieldUpSV);
                        onFinish()
                    }

                    function fieldUpH() {
                        dom.unbind(window, "mousemove", setH);
                        dom.unbind(window, "touchmove", setH);
                        dom.unbind(window, "mouseup", fieldUpH);
                        dom.unbind(window, "touchend", fieldUpH);
                        onFinish()
                    }

                    function onBlur() {
                        var i = interpret(this.value);
                        if (i !== false) {
                            _this.__color.__state = i;
                            _this.setValue(_this.__color.toOriginal())
                        } else {
                            this.value = _this.__color.toString()
                        }
                    }

                    function onFinish() {
                        if (_this.__onFinishChange) {
                            _this.__onFinishChange.call(_this, _this.__color.toOriginal())
                        }
                    }
                    _this2.__saturation_field.appendChild(valueField);
                    _this2.__selector.appendChild(_this2.__field_knob);
                    _this2.__selector.appendChild(_this2.__saturation_field);
                    _this2.__selector.appendChild(_this2.__hue_field);
                    _this2.__hue_field.appendChild(_this2.__hue_knob);
                    _this2.domElement.appendChild(_this2.__input);
                    _this2.domElement.appendChild(_this2.__selector);
                    _this2.updateDisplay();

                    function setSV(e) {
                        if (e.type.indexOf("touch") === -1) {
                            e.preventDefault()
                        }
                        var fieldRect = _this.__saturation_field.getBoundingClientRect();
                        var _ref = e.touches && e.touches[0] || e,
                            clientX = _ref.clientX,
                            clientY = _ref.clientY;
                        var s = (clientX - fieldRect.left) / (fieldRect.right - fieldRect.left);
                        var v = 1 - (clientY - fieldRect.top) / (fieldRect.bottom - fieldRect.top);
                        if (v > 1) {
                            v = 1
                        } else if (v < 0) {
                            v = 0
                        }
                        if (s > 1) {
                            s = 1
                        } else if (s < 0) {
                            s = 0
                        }
                        _this.__color.v = v;
                        _this.__color.s = s;
                        _this.setValue(_this.__color.toOriginal());
                        return false
                    }

                    function setH(e) {
                        if (e.type.indexOf("touch") === -1) {
                            e.preventDefault()
                        }
                        var fieldRect = _this.__hue_field.getBoundingClientRect();
                        var _ref2 = e.touches && e.touches[0] || e,
                            clientY = _ref2.clientY;
                        var h = 1 - (clientY - fieldRect.top) / (fieldRect.bottom - fieldRect.top);
                        if (h > 1) {
                            h = 1
                        } else if (h < 0) {
                            h = 0
                        }
                        _this.__color.h = h * 360;
                        _this.setValue(_this.__color.toOriginal());
                        return false
                    }
                    return _this2
                }
                createClass(ColorController, [{
                    key: "updateDisplay",
                    value: function updateDisplay() {
                        var i = interpret(this.getValue());
                        if (i !== false) {
                            var mismatch = false;
                            Common.each(Color.COMPONENTS, function(component) {
                                if (!Common.isUndefined(i[component]) && !Common.isUndefined(this.__color.__state[component]) && i[component] !== this.__color.__state[component]) {
                                    mismatch = true;
                                    return {}
                                }
                            }, this);
                            if (mismatch) {
                                Common.extend(this.__color.__state, i)
                            }
                        }
                        Common.extend(this.__temp.__state, this.__color.__state);
                        this.__temp.a = 1;
                        var flip = this.__color.v < .5 || this.__color.s > .5 ? 255 : 0;
                        var _flip = 255 - flip;
                        Common.extend(this.__field_knob.style, {
                            marginLeft: 100 * this.__color.s - 7 + "px",
                            marginTop: 100 * (1 - this.__color.v) - 7 + "px",
                            backgroundColor: this.__temp.toHexString(),
                            border: this.__field_knob_border + "rgb(" + flip + "," + flip + "," + flip + ")"
                        });
                        this.__hue_knob.style.marginTop = (1 - this.__color.h / 360) * 100 + "px";
                        this.__temp.s = 1;
                        this.__temp.v = 1;
                        linearGradient(this.__saturation_field, "left", "#fff", this.__temp.toHexString());
                        this.__input.value = this.__color.toString();
                        Common.extend(this.__input.style, {
                            backgroundColor: this.__color.toHexString(),
                            color: "rgb(" + flip + "," + flip + "," + flip + ")",
                            textShadow: this.__input_textShadow + "rgba(" + _flip + "," + _flip + "," + _flip + ",.7)"
                        })
                    }
                }]);
                return ColorController
            }(Controller);
            var vendors = ["-moz-", "-o-", "-webkit-", "-ms-", ""];

            function linearGradient(elem, x, a, b) {
                elem.style.background = "";
                Common.each(vendors, function(vendor) {
                    elem.style.cssText += "background: " + vendor + "linear-gradient(" + x + ", " + a + " 0%, " + b + " 100%); "
                })
            }

            function hueGradient(elem) {
                elem.style.background = "";
                elem.style.cssText += "background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);";
                elem.style.cssText += "background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);";
                elem.style.cssText += "background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);";
                elem.style.cssText += "background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);";
                elem.style.cssText += "background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"
            }
            var css = {
                load: function load(url, indoc) {
                    var doc = indoc || document;
                    var link = doc.createElement("link");
                    link.type = "text/css";
                    link.rel = "stylesheet";
                    link.href = url;
                    doc.getElementsByTagName("head")[0].appendChild(link)
                },
                inject: function inject(cssContent, indoc) {
                    var doc = indoc || document;
                    var injected = document.createElement("style");
                    injected.type = "text/css";
                    injected.innerHTML = cssContent;
                    var head = doc.getElementsByTagName("head")[0];
                    try {
                        head.appendChild(injected)
                    } catch (e) {}
                }
            };
            var saveDialogContents = '<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>';
            var ControllerFactory = function ControllerFactory(object, property) {
                var initialValue = object[property];
                if (Common.isArray(arguments[2]) || Common.isObject(arguments[2])) {
                    return new OptionController(object, property, arguments[2])
                }
                if (Common.isNumber(initialValue)) {
                    if (Common.isNumber(arguments[2]) && Common.isNumber(arguments[3])) {
                        if (Common.isNumber(arguments[4])) {
                            return new NumberControllerSlider(object, property, arguments[2], arguments[3], arguments[4])
                        }
                        return new NumberControllerSlider(object, property, arguments[2], arguments[3])
                    }
                    if (Common.isNumber(arguments[4])) {
                        return new NumberControllerBox(object, property, {
                            min: arguments[2],
                            max: arguments[3],
                            step: arguments[4]
                        })
                    }
                    return new NumberControllerBox(object, property, {
                        min: arguments[2],
                        max: arguments[3]
                    })
                }
                if (Common.isString(initialValue)) {
                    return new StringController(object, property)
                }
                if (Common.isFunction(initialValue)) {
                    return new FunctionController(object, property, "")
                }
                if (Common.isBoolean(initialValue)) {
                    return new BooleanController(object, property)
                }
                return null
            };

            function requestAnimationFrame(callback) {
                setTimeout(callback, 1e3 / 60)
            }
            var requestAnimationFrame$1 = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || requestAnimationFrame;
            var CenteredDiv = function() {
                function CenteredDiv() {
                    classCallCheck(this, CenteredDiv);
                    this.backgroundElement = document.createElement("div");
                    Common.extend(this.backgroundElement.style, {
                        backgroundColor: "rgba(0,0,0,0.8)",
                        top: 0,
                        left: 0,
                        display: "none",
                        zIndex: "1000",
                        opacity: 0,
                        WebkitTransition: "opacity 0.2s linear",
                        transition: "opacity 0.2s linear"
                    });
                    dom.makeFullscreen(this.backgroundElement);
                    this.backgroundElement.style.position = "fixed";
                    this.domElement = document.createElement("div");
                    Common.extend(this.domElement.style, {
                        position: "fixed",
                        display: "none",
                        zIndex: "1001",
                        opacity: 0,
                        WebkitTransition: "-webkit-transform 0.2s ease-out, opacity 0.2s linear",
                        transition: "transform 0.2s ease-out, opacity 0.2s linear"
                    });
                    document.body.appendChild(this.backgroundElement);
                    document.body.appendChild(this.domElement);
                    var _this = this;
                    dom.bind(this.backgroundElement, "click", function() {
                        _this.hide()
                    })
                }
                createClass(CenteredDiv, [{
                    key: "show",
                    value: function show() {
                        var _this = this;
                        this.backgroundElement.style.display = "block";
                        this.domElement.style.display = "block";
                        this.domElement.style.opacity = 0;
                        this.domElement.style.webkitTransform = "scale(1.1)";
                        this.layout();
                        Common.defer(function() {
                            _this.backgroundElement.style.opacity = 1;
                            _this.domElement.style.opacity = 1;
                            _this.domElement.style.webkitTransform = "scale(1)"
                        })
                    }
                }, {
                    key: "hide",
                    value: function hide() {
                        var _this = this;
                        var hide = function hide() {
                            _this.domElement.style.display = "none";
                            _this.backgroundElement.style.display = "none";
                            dom.unbind(_this.domElement, "webkitTransitionEnd", hide);
                            dom.unbind(_this.domElement, "transitionend", hide);
                            dom.unbind(_this.domElement, "oTransitionEnd", hide)
                        };
                        dom.bind(this.domElement, "webkitTransitionEnd", hide);
                        dom.bind(this.domElement, "transitionend", hide);
                        dom.bind(this.domElement, "oTransitionEnd", hide);
                        this.backgroundElement.style.opacity = 0;
                        this.domElement.style.opacity = 0;
                        this.domElement.style.webkitTransform = "scale(1.1)"
                    }
                }, {
                    key: "layout",
                    value: function layout() {
                        this.domElement.style.left = window.innerWidth / 2 - dom.getWidth(this.domElement) / 2 + "px";
                        this.domElement.style.top = window.innerHeight / 2 - dom.getHeight(this.domElement) / 2 + "px"
                    }
                }]);
                return CenteredDiv
            }();
            var styleSheet = ___$insertStyle(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n");
            css.inject(styleSheet);
            var CSS_NAMESPACE = "dg";
            var HIDE_KEY_CODE = 72;
            var CLOSE_BUTTON_HEIGHT = 20;
            var DEFAULT_DEFAULT_PRESET_NAME = "Default";
            var SUPPORTS_LOCAL_STORAGE = function() {
                try {
                    return !!window.localStorage
                } catch (e) {
                    return false
                }
            }();
            var SAVE_DIALOGUE = void 0;
            var autoPlaceVirgin = true;
            var autoPlaceContainer = void 0;
            var hide = false;
            var hideableGuis = [];
            var GUI = function GUI(pars) {
                var _this = this;
                var params = pars || {};
                this.domElement = document.createElement("div");
                this.__ul = document.createElement("ul");
                this.domElement.appendChild(this.__ul);
                dom.addClass(this.domElement, CSS_NAMESPACE);
                this.__folders = {};
                this.__controllers = [];
                this.__rememberedObjects = [];
                this.__rememberedObjectIndecesToControllers = [];
                this.__listening = [];
                params = Common.defaults(params, {
                    closeOnTop: false,
                    autoPlace: true,
                    width: GUI.DEFAULT_WIDTH
                });
                params = Common.defaults(params, {
                    resizable: params.autoPlace,
                    hideable: params.autoPlace
                });
                if (!Common.isUndefined(params.load)) {
                    if (params.preset) {
                        params.load.preset = params.preset
                    }
                } else {
                    params.load = {
                        preset: DEFAULT_DEFAULT_PRESET_NAME
                    }
                }
                if (Common.isUndefined(params.parent) && params.hideable) {
                    hideableGuis.push(this)
                }
                params.resizable = Common.isUndefined(params.parent) && params.resizable;
                if (params.autoPlace && Common.isUndefined(params.scrollable)) {
                    params.scrollable = true
                }
                var useLocalStorage = SUPPORTS_LOCAL_STORAGE && localStorage.getItem(getLocalStorageHash(this, "isLocal")) === "true";
                var saveToLocalStorage = void 0;
                var titleRow = void 0;
                Object.defineProperties(this, {
                    parent: {
                        get: function get$$1() {
                            return params.parent
                        }
                    },
                    scrollable: {
                        get: function get$$1() {
                            return params.scrollable
                        }
                    },
                    autoPlace: {
                        get: function get$$1() {
                            return params.autoPlace
                        }
                    },
                    closeOnTop: {
                        get: function get$$1() {
                            return params.closeOnTop
                        }
                    },
                    preset: {
                        get: function get$$1() {
                            if (_this.parent) {
                                return _this.getRoot().preset
                            }
                            return params.load.preset
                        },
                        set: function set$$1(v) {
                            if (_this.parent) {
                                _this.getRoot().preset = v
                            } else {
                                params.load.preset = v
                            }
                            setPresetSelectIndex(this);
                            _this.revert()
                        }
                    },
                    width: {
                        get: function get$$1() {
                            return params.width
                        },
                        set: function set$$1(v) {
                            params.width = v;
                            setWidth(_this, v)
                        }
                    },
                    name: {
                        get: function get$$1() {
                            return params.name
                        },
                        set: function set$$1(v) {
                            params.name = v;
                            if (titleRow) {
                                titleRow.innerHTML = params.name
                            }
                        }
                    },
                    closed: {
                        get: function get$$1() {
                            return params.closed
                        },
                        set: function set$$1(v) {
                            params.closed = v;
                            if (params.closed) {
                                dom.addClass(_this.__ul, GUI.CLASS_CLOSED)
                            } else {
                                dom.removeClass(_this.__ul, GUI.CLASS_CLOSED)
                            }
                            this.onResize();
                            if (_this.__closeButton) {
                                _this.__closeButton.innerHTML = v ? GUI.TEXT_OPEN : GUI.TEXT_CLOSED
                            }
                        }
                    },
                    load: {
                        get: function get$$1() {
                            return params.load
                        }
                    },
                    useLocalStorage: {
                        get: function get$$1() {
                            return useLocalStorage
                        },
                        set: function set$$1(bool) {
                            if (SUPPORTS_LOCAL_STORAGE) {
                                useLocalStorage = bool;
                                if (bool) {
                                    dom.bind(window, "unload", saveToLocalStorage)
                                } else {
                                    dom.unbind(window, "unload", saveToLocalStorage)
                                }
                                localStorage.setItem(getLocalStorageHash(_this, "isLocal"), bool)
                            }
                        }
                    }
                });
                if (Common.isUndefined(params.parent)) {
                    this.closed = params.closed || false;
                    dom.addClass(this.domElement, GUI.CLASS_MAIN);
                    dom.makeSelectable(this.domElement, false);
                    if (SUPPORTS_LOCAL_STORAGE) {
                        if (useLocalStorage) {
                            _this.useLocalStorage = true;
                            var savedGui = localStorage.getItem(getLocalStorageHash(this, "gui"));
                            if (savedGui) {
                                params.load = JSON.parse(savedGui)
                            }
                        }
                    }
                    this.__closeButton = document.createElement("div");
                    this.__closeButton.innerHTML = GUI.TEXT_CLOSED;
                    dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_BUTTON);
                    if (params.closeOnTop) {
                        dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_TOP);
                        this.domElement.insertBefore(this.__closeButton, this.domElement.childNodes[0])
                    } else {
                        dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_BOTTOM);
                        this.domElement.appendChild(this.__closeButton)
                    }
                    dom.bind(this.__closeButton, "click", function() {
                        _this.closed = !_this.closed
                    })
                } else {
                    if (params.closed === undefined) {
                        params.closed = true
                    }
                    var titleRowName = document.createTextNode(params.name);
                    dom.addClass(titleRowName, "controller-name");
                    titleRow = addRow(_this, titleRowName);
                    var onClickTitle = function onClickTitle(e) {
                        e.preventDefault();
                        _this.closed = !_this.closed;
                        return false
                    };
                    dom.addClass(this.__ul, GUI.CLASS_CLOSED);
                    dom.addClass(titleRow, "title");
                    dom.bind(titleRow, "click", onClickTitle);
                    if (!params.closed) {
                        this.closed = false
                    }
                }
                if (params.autoPlace) {
                    if (Common.isUndefined(params.parent)) {
                        if (autoPlaceVirgin) {
                            autoPlaceContainer = document.createElement("div");
                            dom.addClass(autoPlaceContainer, CSS_NAMESPACE);
                            dom.addClass(autoPlaceContainer, GUI.CLASS_AUTO_PLACE_CONTAINER);
                            document.body.appendChild(autoPlaceContainer);
                            autoPlaceVirgin = false
                        }
                        autoPlaceContainer.appendChild(this.domElement);
                        dom.addClass(this.domElement, GUI.CLASS_AUTO_PLACE)
                    }
                    if (!this.parent) {
                        setWidth(_this, params.width)
                    }
                }
                this.__resizeHandler = function() {
                    _this.onResizeDebounced()
                };
                dom.bind(window, "resize", this.__resizeHandler);
                dom.bind(this.__ul, "webkitTransitionEnd", this.__resizeHandler);
                dom.bind(this.__ul, "transitionend", this.__resizeHandler);
                dom.bind(this.__ul, "oTransitionEnd", this.__resizeHandler);
                this.onResize();
                if (params.resizable) {
                    addResizeHandle(this)
                }
                saveToLocalStorage = function saveToLocalStorage() {
                    if (SUPPORTS_LOCAL_STORAGE && localStorage.getItem(getLocalStorageHash(_this, "isLocal")) === "true") {
                        localStorage.setItem(getLocalStorageHash(_this, "gui"), JSON.stringify(_this.getSaveObject()))
                    }
                };
                this.saveToLocalStorageIfPossible = saveToLocalStorage;

                function resetWidth() {
                    var root = _this.getRoot();
                    root.width += 1;
                    Common.defer(function() {
                        root.width -= 1
                    })
                }
                if (!params.parent) {
                    resetWidth()
                }
            };
            GUI.toggleHide = function() {
                hide = !hide;
                Common.each(hideableGuis, function(gui) {
                    gui.domElement.style.display = hide ? "none" : ""
                })
            };
            GUI.CLASS_AUTO_PLACE = "a";
            GUI.CLASS_AUTO_PLACE_CONTAINER = "ac";
            GUI.CLASS_MAIN = "main";
            GUI.CLASS_CONTROLLER_ROW = "cr";
            GUI.CLASS_TOO_TALL = "taller-than-window";
            GUI.CLASS_CLOSED = "closed";
            GUI.CLASS_CLOSE_BUTTON = "close-button";
            GUI.CLASS_CLOSE_TOP = "close-top";
            GUI.CLASS_CLOSE_BOTTOM = "close-bottom";
            GUI.CLASS_DRAG = "drag";
            GUI.DEFAULT_WIDTH = 245;
            GUI.TEXT_CLOSED = "Close Controls";
            GUI.TEXT_OPEN = "Open Controls";
            GUI._keydownHandler = function(e) {
                if (document.activeElement.type !== "text" && (e.which === HIDE_KEY_CODE || e.keyCode === HIDE_KEY_CODE)) {
                    GUI.toggleHide()
                }
            };
            dom.bind(window, "keydown", GUI._keydownHandler, false);
            Common.extend(GUI.prototype, {
                add: function add(object, property) {
                    return _add(this, object, property, {
                        factoryArgs: Array.prototype.slice.call(arguments, 2)
                    })
                },
                addColor: function addColor(object, property) {
                    return _add(this, object, property, {
                        color: true
                    })
                },
                remove: function remove(controller) {
                    this.__ul.removeChild(controller.__li);
                    this.__controllers.splice(this.__controllers.indexOf(controller), 1);
                    var _this = this;
                    Common.defer(function() {
                        _this.onResize()
                    })
                },
                destroy: function destroy() {
                    if (this.parent) {
                        throw new Error("Only the root GUI should be removed with .destroy(). " + "For subfolders, use gui.removeFolder(folder) instead.")
                    }
                    if (this.autoPlace) {
                        autoPlaceContainer.removeChild(this.domElement)
                    }
                    var _this = this;
                    Common.each(this.__folders, function(subfolder) {
                        _this.removeFolder(subfolder)
                    });
                    dom.unbind(window, "keydown", GUI._keydownHandler, false);
                    removeListeners(this)
                },
                addFolder: function addFolder(name) {
                    if (this.__folders[name] !== undefined) {
                        throw new Error("You already have a folder in this GUI by the" + ' name "' + name + '"')
                    }
                    var newGuiParams = {
                        name: name,
                        parent: this
                    };
                    newGuiParams.autoPlace = this.autoPlace;
                    if (this.load && this.load.folders && this.load.folders[name]) {
                        newGuiParams.closed = this.load.folders[name].closed;
                        newGuiParams.load = this.load.folders[name]
                    }
                    var gui = new GUI(newGuiParams);
                    this.__folders[name] = gui;
                    var li = addRow(this, gui.domElement);
                    dom.addClass(li, "folder");
                    return gui
                },
                removeFolder: function removeFolder(folder) {
                    this.__ul.removeChild(folder.domElement.parentElement);
                    delete this.__folders[folder.name];
                    if (this.load && this.load.folders && this.load.folders[folder.name]) {
                        delete this.load.folders[folder.name]
                    }
                    removeListeners(folder);
                    var _this = this;
                    Common.each(folder.__folders, function(subfolder) {
                        folder.removeFolder(subfolder)
                    });
                    Common.defer(function() {
                        _this.onResize()
                    })
                },
                open: function open() {
                    this.closed = false
                },
                close: function close() {
                    this.closed = true
                },
                hide: function hide() {
                    this.domElement.style.display = "none"
                },
                show: function show() {
                    this.domElement.style.display = ""
                },
                onResize: function onResize() {
                    var root = this.getRoot();
                    if (root.scrollable) {
                        var top = dom.getOffset(root.__ul).top;
                        var h = 0;
                        Common.each(root.__ul.childNodes, function(node) {
                            if (!(root.autoPlace && node === root.__save_row)) {
                                h += dom.getHeight(node)
                            }
                        });
                        if (window.innerHeight - top - CLOSE_BUTTON_HEIGHT < h) {
                            dom.addClass(root.domElement, GUI.CLASS_TOO_TALL);
                            root.__ul.style.height = window.innerHeight - top - CLOSE_BUTTON_HEIGHT + "px"
                        } else {
                            dom.removeClass(root.domElement, GUI.CLASS_TOO_TALL);
                            root.__ul.style.height = "auto"
                        }
                    }
                    if (root.__resize_handle) {
                        Common.defer(function() {
                            root.__resize_handle.style.height = root.__ul.offsetHeight + "px"
                        })
                    }
                    if (root.__closeButton) {
                        root.__closeButton.style.width = root.width + "px"
                    }
                },
                onResizeDebounced: Common.debounce(function() {
                    this.onResize()
                }, 50),
                remember: function remember() {
                    if (Common.isUndefined(SAVE_DIALOGUE)) {
                        SAVE_DIALOGUE = new CenteredDiv;
                        SAVE_DIALOGUE.domElement.innerHTML = saveDialogContents
                    }
                    if (this.parent) {
                        throw new Error("You can only call remember on a top level GUI.")
                    }
                    var _this = this;
                    Common.each(Array.prototype.slice.call(arguments), function(object) {
                        if (_this.__rememberedObjects.length === 0) {
                            addSaveMenu(_this)
                        }
                        if (_this.__rememberedObjects.indexOf(object) === -1) {
                            _this.__rememberedObjects.push(object)
                        }
                    });
                    if (this.autoPlace) {
                        setWidth(this, this.width)
                    }
                },
                getRoot: function getRoot() {
                    var gui = this;
                    while (gui.parent) {
                        gui = gui.parent
                    }
                    return gui
                },
                getSaveObject: function getSaveObject() {
                    var toReturn = this.load;
                    toReturn.closed = this.closed;
                    if (this.__rememberedObjects.length > 0) {
                        toReturn.preset = this.preset;
                        if (!toReturn.remembered) {
                            toReturn.remembered = {}
                        }
                        toReturn.remembered[this.preset] = getCurrentPreset(this)
                    }
                    toReturn.folders = {};
                    Common.each(this.__folders, function(element, key) {
                        toReturn.folders[key] = element.getSaveObject()
                    });
                    return toReturn
                },
                save: function save() {
                    if (!this.load.remembered) {
                        this.load.remembered = {}
                    }
                    this.load.remembered[this.preset] = getCurrentPreset(this);
                    markPresetModified(this, false);
                    this.saveToLocalStorageIfPossible()
                },
                saveAs: function saveAs(presetName) {
                    if (!this.load.remembered) {
                        this.load.remembered = {};
                        this.load.remembered[DEFAULT_DEFAULT_PRESET_NAME] = getCurrentPreset(this, true)
                    }
                    this.load.remembered[presetName] = getCurrentPreset(this);
                    this.preset = presetName;
                    addPresetOption(this, presetName, true);
                    this.saveToLocalStorageIfPossible()
                },
                revert: function revert(gui) {
                    Common.each(this.__controllers, function(controller) {
                        if (!this.getRoot().load.remembered) {
                            controller.setValue(controller.initialValue)
                        } else {
                            recallSavedValue(gui || this.getRoot(), controller)
                        }
                        if (controller.__onFinishChange) {
                            controller.__onFinishChange.call(controller, controller.getValue())
                        }
                    }, this);
                    Common.each(this.__folders, function(folder) {
                        folder.revert(folder)
                    });
                    if (!gui) {
                        markPresetModified(this.getRoot(), false)
                    }
                },
                listen: function listen(controller) {
                    var init = this.__listening.length === 0;
                    this.__listening.push(controller);
                    if (init) {
                        updateDisplays(this.__listening)
                    }
                },
                updateDisplay: function updateDisplay() {
                    Common.each(this.__controllers, function(controller) {
                        controller.updateDisplay()
                    });
                    Common.each(this.__folders, function(folder) {
                        folder.updateDisplay()
                    })
                }
            });

            function addRow(gui, newDom, liBefore) {
                var li = document.createElement("li");
                if (newDom) {
                    li.appendChild(newDom)
                }
                if (liBefore) {
                    gui.__ul.insertBefore(li, liBefore)
                } else {
                    gui.__ul.appendChild(li)
                }
                gui.onResize();
                return li
            }

            function removeListeners(gui) {
                dom.unbind(window, "resize", gui.__resizeHandler);
                if (gui.saveToLocalStorageIfPossible) {
                    dom.unbind(window, "unload", gui.saveToLocalStorageIfPossible)
                }
            }

            function markPresetModified(gui, modified) {
                var opt = gui.__preset_select[gui.__preset_select.selectedIndex];
                if (modified) {
                    opt.innerHTML = opt.value + "*"
                } else {
                    opt.innerHTML = opt.value
                }
            }

            function augmentController(gui, li, controller) {
                controller.__li = li;
                controller.__gui = gui;
                Common.extend(controller, {
                    options: function options(_options) {
                        if (arguments.length > 1) {
                            var nextSibling = controller.__li.nextElementSibling;
                            controller.remove();
                            return _add(gui, controller.object, controller.property, {
                                before: nextSibling,
                                factoryArgs: [Common.toArray(arguments)]
                            })
                        }
                        if (Common.isArray(_options) || Common.isObject(_options)) {
                            var _nextSibling = controller.__li.nextElementSibling;
                            controller.remove();
                            return _add(gui, controller.object, controller.property, {
                                before: _nextSibling,
                                factoryArgs: [_options]
                            })
                        }
                    },
                    name: function name(_name) {
                        controller.__li.firstElementChild.firstElementChild.innerHTML = _name;
                        return controller
                    },
                    listen: function listen() {
                        controller.__gui.listen(controller);
                        return controller
                    },
                    remove: function remove() {
                        controller.__gui.remove(controller);
                        return controller
                    }
                });
                if (controller instanceof NumberControllerSlider) {
                    var box = new NumberControllerBox(controller.object, controller.property, {
                        min: controller.__min,
                        max: controller.__max,
                        step: controller.__step
                    });
                    Common.each(["updateDisplay", "onChange", "onFinishChange", "step", "min", "max"], function(method) {
                        var pc = controller[method];
                        var pb = box[method];
                        controller[method] = box[method] = function() {
                            var args = Array.prototype.slice.call(arguments);
                            pb.apply(box, args);
                            return pc.apply(controller, args)
                        }
                    });
                    dom.addClass(li, "has-slider");
                    controller.domElement.insertBefore(box.domElement, controller.domElement.firstElementChild)
                } else if (controller instanceof NumberControllerBox) {
                    var r = function r(returned) {
                        if (Common.isNumber(controller.__min) && Common.isNumber(controller.__max)) {
                            var oldName = controller.__li.firstElementChild.firstElementChild.innerHTML;
                            var wasListening = controller.__gui.__listening.indexOf(controller) > -1;
                            controller.remove();
                            var newController = _add(gui, controller.object, controller.property, {
                                before: controller.__li.nextElementSibling,
                                factoryArgs: [controller.__min, controller.__max, controller.__step]
                            });
                            newController.name(oldName);
                            if (wasListening) newController.listen();
                            return newController
                        }
                        return returned
                    };
                    controller.min = Common.compose(r, controller.min);
                    controller.max = Common.compose(r, controller.max)
                } else if (controller instanceof BooleanController) {
                    dom.bind(li, "click", function() {
                        dom.fakeEvent(controller.__checkbox, "click")
                    });
                    dom.bind(controller.__checkbox, "click", function(e) {
                        e.stopPropagation()
                    })
                } else if (controller instanceof FunctionController) {
                    dom.bind(li, "click", function() {
                        dom.fakeEvent(controller.__button, "click")
                    });
                    dom.bind(li, "mouseover", function() {
                        dom.addClass(controller.__button, "hover")
                    });
                    dom.bind(li, "mouseout", function() {
                        dom.removeClass(controller.__button, "hover")
                    })
                } else if (controller instanceof ColorController) {
                    dom.addClass(li, "color");
                    controller.updateDisplay = Common.compose(function(val) {
                        li.style.borderLeftColor = controller.__color.toString();
                        return val
                    }, controller.updateDisplay);
                    controller.updateDisplay()
                }
                controller.setValue = Common.compose(function(val) {
                    if (gui.getRoot().__preset_select && controller.isModified()) {
                        markPresetModified(gui.getRoot(), true)
                    }
                    return val
                }, controller.setValue)
            }

            function recallSavedValue(gui, controller) {
                var root = gui.getRoot();
                var matchedIndex = root.__rememberedObjects.indexOf(controller.object);
                if (matchedIndex !== -1) {
                    var controllerMap = root.__rememberedObjectIndecesToControllers[matchedIndex];
                    if (controllerMap === undefined) {
                        controllerMap = {};
                        root.__rememberedObjectIndecesToControllers[matchedIndex] = controllerMap
                    }
                    controllerMap[controller.property] = controller;
                    if (root.load && root.load.remembered) {
                        var presetMap = root.load.remembered;
                        var preset = void 0;
                        if (presetMap[gui.preset]) {
                            preset = presetMap[gui.preset]
                        } else if (presetMap[DEFAULT_DEFAULT_PRESET_NAME]) {
                            preset = presetMap[DEFAULT_DEFAULT_PRESET_NAME]
                        } else {
                            return
                        }
                        if (preset[matchedIndex] && preset[matchedIndex][controller.property] !== undefined) {
                            var value = preset[matchedIndex][controller.property];
                            controller.initialValue = value;
                            controller.setValue(value)
                        }
                    }
                }
            }

            function _add(gui, object, property, params) {
                if (object[property] === undefined) {
                    throw new Error('Object "' + object + '" has no property "' + property + '"')
                }
                var controller = void 0;
                if (params.color) {
                    controller = new ColorController(object, property)
                } else {
                    var factoryArgs = [object, property].concat(params.factoryArgs);
                    controller = ControllerFactory.apply(gui, factoryArgs)
                }
                if (params.before instanceof Controller) {
                    params.before = params.before.__li
                }
                recallSavedValue(gui, controller);
                dom.addClass(controller.domElement, "c");
                var name = document.createElement("span");
                dom.addClass(name, "property-name");
                name.innerHTML = controller.property;
                var container = document.createElement("div");
                container.appendChild(name);
                container.appendChild(controller.domElement);
                var li = addRow(gui, container, params.before);
                dom.addClass(li, GUI.CLASS_CONTROLLER_ROW);
                if (controller instanceof ColorController) {
                    dom.addClass(li, "color")
                } else {
                    dom.addClass(li, _typeof(controller.getValue()))
                }
                augmentController(gui, li, controller);
                gui.__controllers.push(controller);
                return controller
            }

            function getLocalStorageHash(gui, key) {
                return document.location.href + "." + key
            }

            function addPresetOption(gui, name, setSelected) {
                var opt = document.createElement("option");
                opt.innerHTML = name;
                opt.value = name;
                gui.__preset_select.appendChild(opt);
                if (setSelected) {
                    gui.__preset_select.selectedIndex = gui.__preset_select.length - 1
                }
            }

            function showHideExplain(gui, explain) {
                explain.style.display = gui.useLocalStorage ? "block" : "none"
            }

            function addSaveMenu(gui) {
                var div = gui.__save_row = document.createElement("li");
                dom.addClass(gui.domElement, "has-save");
                gui.__ul.insertBefore(div, gui.__ul.firstChild);
                dom.addClass(div, "save-row");
                var gears = document.createElement("span");
                gears.innerHTML = "&nbsp;";
                dom.addClass(gears, "button gears");
                var button = document.createElement("span");
                button.innerHTML = "Save";
                dom.addClass(button, "button");
                dom.addClass(button, "save");
                var button2 = document.createElement("span");
                button2.innerHTML = "New";
                dom.addClass(button2, "button");
                dom.addClass(button2, "save-as");
                var button3 = document.createElement("span");
                button3.innerHTML = "Revert";
                dom.addClass(button3, "button");
                dom.addClass(button3, "revert");
                var select = gui.__preset_select = document.createElement("select");
                if (gui.load && gui.load.remembered) {
                    Common.each(gui.load.remembered, function(value, key) {
                        addPresetOption(gui, key, key === gui.preset)
                    })
                } else {
                    addPresetOption(gui, DEFAULT_DEFAULT_PRESET_NAME, false)
                }
                dom.bind(select, "change", function() {
                    for (var index = 0; index < gui.__preset_select.length; index++) {
                        gui.__preset_select[index].innerHTML = gui.__preset_select[index].value
                    }
                    gui.preset = this.value
                });
                div.appendChild(select);
                div.appendChild(gears);
                div.appendChild(button);
                div.appendChild(button2);
                div.appendChild(button3);
                if (SUPPORTS_LOCAL_STORAGE) {
                    var explain = document.getElementById("dg-local-explain");
                    var localStorageCheckBox = document.getElementById("dg-local-storage");
                    var saveLocally = document.getElementById("dg-save-locally");
                    saveLocally.style.display = "block";
                    if (localStorage.getItem(getLocalStorageHash(gui, "isLocal")) === "true") {
                        localStorageCheckBox.setAttribute("checked", "checked")
                    }
                    showHideExplain(gui, explain);
                    dom.bind(localStorageCheckBox, "change", function() {
                        gui.useLocalStorage = !gui.useLocalStorage;
                        showHideExplain(gui, explain)
                    })
                }
                var newConstructorTextArea = document.getElementById("dg-new-constructor");
                dom.bind(newConstructorTextArea, "keydown", function(e) {
                    if (e.metaKey && (e.which === 67 || e.keyCode === 67)) {
                        SAVE_DIALOGUE.hide()
                    }
                });
                dom.bind(gears, "click", function() {
                    newConstructorTextArea.innerHTML = JSON.stringify(gui.getSaveObject(), undefined, 2);
                    SAVE_DIALOGUE.show();
                    newConstructorTextArea.focus();
                    newConstructorTextArea.select()
                });
                dom.bind(button, "click", function() {
                    gui.save()
                });
                dom.bind(button2, "click", function() {
                    var presetName = prompt("Enter a new preset name.");
                    if (presetName) {
                        gui.saveAs(presetName)
                    }
                });
                dom.bind(button3, "click", function() {
                    gui.revert()
                })
            }

            function addResizeHandle(gui) {
                var pmouseX = void 0;
                gui.__resize_handle = document.createElement("div");
                Common.extend(gui.__resize_handle.style, {
                    width: "6px",
                    marginLeft: "-3px",
                    height: "200px",
                    cursor: "ew-resize",
                    position: "absolute"
                });

                function drag(e) {
                    e.preventDefault();
                    gui.width += pmouseX - e.clientX;
                    gui.onResize();
                    pmouseX = e.clientX;
                    return false
                }

                function dragStop() {
                    dom.removeClass(gui.__closeButton, GUI.CLASS_DRAG);
                    dom.unbind(window, "mousemove", drag);
                    dom.unbind(window, "mouseup", dragStop)
                }

                function dragStart(e) {
                    e.preventDefault();
                    pmouseX = e.clientX;
                    dom.addClass(gui.__closeButton, GUI.CLASS_DRAG);
                    dom.bind(window, "mousemove", drag);
                    dom.bind(window, "mouseup", dragStop);
                    return false
                }
                dom.bind(gui.__resize_handle, "mousedown", dragStart);
                dom.bind(gui.__closeButton, "mousedown", dragStart);
                gui.domElement.insertBefore(gui.__resize_handle, gui.domElement.firstElementChild)
            }

            function setWidth(gui, w) {
                gui.domElement.style.width = w + "px";
                if (gui.__save_row && gui.autoPlace) {
                    gui.__save_row.style.width = w + "px"
                }
                if (gui.__closeButton) {
                    gui.__closeButton.style.width = w + "px"
                }
            }

            function getCurrentPreset(gui, useInitialValues) {
                var toReturn = {};
                Common.each(gui.__rememberedObjects, function(val, index) {
                    var savedValues = {};
                    var controllerMap = gui.__rememberedObjectIndecesToControllers[index];
                    Common.each(controllerMap, function(controller, property) {
                        savedValues[property] = useInitialValues ? controller.initialValue : controller.getValue()
                    });
                    toReturn[index] = savedValues
                });
                return toReturn
            }

            function setPresetSelectIndex(gui) {
                for (var index = 0; index < gui.__preset_select.length; index++) {
                    if (gui.__preset_select[index].value === gui.preset) {
                        gui.__preset_select.selectedIndex = index
                    }
                }
            }

            function updateDisplays(controllerArray) {
                if (controllerArray.length !== 0) {
                    requestAnimationFrame$1.call(window, function() {
                        updateDisplays(controllerArray)
                    })
                }
                Common.each(controllerArray, function(c) {
                    c.updateDisplay()
                })
            }
            var color = {
                Color: Color,
                math: ColorMath,
                interpret: interpret
            };
            var controllers = {
                Controller: Controller,
                BooleanController: BooleanController,
                OptionController: OptionController,
                StringController: StringController,
                NumberController: NumberController,
                NumberControllerBox: NumberControllerBox,
                NumberControllerSlider: NumberControllerSlider,
                FunctionController: FunctionController,
                ColorController: ColorController
            };
            var dom$1 = {
                dom: dom
            };
            var gui = {
                GUI: GUI
            };
            var GUI$1 = GUI;
            var index = {
                color: color,
                controllers: controllers,
                dom: dom$1,
                gui: gui,
                GUI: GUI$1
            };
            exports.color = color;
            exports.controllers = controllers;
            exports.dom = dom$1;
            exports.gui = gui;
            exports.GUI = GUI$1;
            exports["default"] = index;
            Object.defineProperty(exports, "__esModule", {
                value: true
            })
        })
    }, {}],
    6: [function(require, module, exports) {
        var objectKeys = require("object-keys");
        var isArguments = require("is-arguments");
        var is = require("object-is");
        var isRegex = require("is-regex");
        var flags = require("regexp.prototype.flags");
        var isDate = require("is-date-object");
        var getTime = Date.prototype.getTime;

        function deepEqual(actual, expected, options) {
            var opts = options || {};
            if (opts.strict ? is(actual, expected) : actual === expected) {
                return true
            }
            if (!actual || !expected || typeof actual !== "object" && typeof expected !== "object") {
                return opts.strict ? is(actual, expected) : actual == expected
            }
            return objEquiv(actual, expected, opts)
        }

        function isUndefinedOrNull(value) {
            return value === null || value === undefined
        }

        function isBuffer(x) {
            if (!x || typeof x !== "object" || typeof x.length !== "number") {
                return false
            }
            if (typeof x.copy !== "function" || typeof x.slice !== "function") {
                return false
            }
            if (x.length > 0 && typeof x[0] !== "number") {
                return false
            }
            return true
        }

        function objEquiv(a, b, opts) {
            var i, key;
            if (typeof a !== typeof b) {
                return false
            }
            if (isUndefinedOrNull(a) || isUndefinedOrNull(b)) {
                return false
            }
            if (a.prototype !== b.prototype) {
                return false
            }
            if (isArguments(a) !== isArguments(b)) {
                return false
            }
            var aIsRegex = isRegex(a);
            var bIsRegex = isRegex(b);
            if (aIsRegex !== bIsRegex) {
                return false
            }
            if (aIsRegex || bIsRegex) {
                return a.source === b.source && flags(a) === flags(b)
            }
            if (isDate(a) && isDate(b)) {
                return getTime.call(a) === getTime.call(b)
            }
            var aIsBuffer = isBuffer(a);
            var bIsBuffer = isBuffer(b);
            if (aIsBuffer !== bIsBuffer) {
                return false
            }
            if (aIsBuffer || bIsBuffer) {
                if (a.length !== b.length) {
                    return false
                }
                for (i = 0; i < a.length; i++) {
                    if (a[i] !== b[i]) {
                        return false
                    }
                }
                return true
            }
            if (typeof a !== typeof b) {
                return false
            }
            try {
                var ka = objectKeys(a);
                var kb = objectKeys(b)
            } catch (e) {
                return false
            }
            if (ka.length !== kb.length) {
                return false
            }
            ka.sort();
            kb.sort();
            for (i = ka.length - 1; i >= 0; i--) {
                if (ka[i] != kb[i]) {
                    return false
                }
            }
            for (i = ka.length - 1; i >= 0; i--) {
                key = ka[i];
                if (!deepEqual(a[key], b[key], opts)) {
                    return false
                }
            }
            return true
        }
        module.exports = deepEqual
    }, {
        "is-arguments": 16,
        "is-date-object": 17,
        "is-regex": 18,
        "object-is": 22,
        "object-keys": 26,
        "regexp.prototype.flags": 29
    }],
    7: [function(require, module, exports) {
        "use strict";
        var keys = require("object-keys");
        var hasSymbols = typeof Symbol === "function" && typeof Symbol("foo") === "symbol";
        var toStr = Object.prototype.toString;
        var concat = Array.prototype.concat;
        var origDefineProperty = Object.defineProperty;
        var isFunction = function(fn) {
            return typeof fn === "function" && toStr.call(fn) === "[object Function]"
        };
        var arePropertyDescriptorsSupported = function() {
            var obj = {};
            try {
                origDefineProperty(obj, "x", {
                    enumerable: false,
                    value: obj
                });
                for (var _ in obj) {
                    return false
                }
                return obj.x === obj
            } catch (e) {
                return false
            }
        };
        var supportsDescriptors = origDefineProperty && arePropertyDescriptorsSupported();
        var defineProperty = function(object, name, value, predicate) {
            if (name in object && (!isFunction(predicate) || !predicate())) {
                return
            }
            if (supportsDescriptors) {
                origDefineProperty(object, name, {
                    configurable: true,
                    enumerable: false,
                    value: value,
                    writable: true
                })
            } else {
                object[name] = value
            }
        };
        var defineProperties = function(object, map) {
            var predicates = arguments.length > 2 ? arguments[2] : {};
            var props = keys(map);
            if (hasSymbols) {
                props = concat.call(props, Object.getOwnPropertySymbols(map))
            }
            for (var i = 0; i < props.length; i += 1) {
                defineProperty(object, props[i], map[props[i]], predicates[props[i]])
            }
        };
        defineProperties.supportsDescriptors = !!supportsDescriptors;
        module.exports = defineProperties
    }, {
        "object-keys": 26
    }],
    8: [function(require, module, exports) {
        var saveAs = saveAs || function(view) {
            "use strict";
            if (typeof view === "undefined" || typeof navigator !== "undefined" && /MSIE [1-9]\./.test(navigator.userAgent)) {
                return
            }
            var doc = view.document,
                get_URL = function() {
                    return view.URL || view.webkitURL || view
                },
                save_link = doc.createElementNS("http://www.w3.org/1999/xhtml", "a"),
                can_use_save_link = "download" in save_link,
                click = function(node) {
                    var event = new MouseEvent("click");
                    node.dispatchEvent(event)
                },
                is_safari = /constructor/i.test(view.HTMLElement) || view.safari,
                is_chrome_ios = /CriOS\/[\d]+/.test(navigator.userAgent),
                throw_outside = function(ex) {
                    (view.setImmediate || view.setTimeout)(function() {
                        throw ex
                    }, 0)
                },
                force_saveable_type = "application/octet-stream",
                arbitrary_revoke_timeout = 1e3 * 40,
                revoke = function(file) {
                    var revoker = function() {
                        if (typeof file === "string") {
                            get_URL().revokeObjectURL(file)
                        } else {
                            file.remove()
                        }
                    };
                    setTimeout(revoker, arbitrary_revoke_timeout)
                },
                dispatch = function(filesaver, event_types, event) {
                    event_types = [].concat(event_types);
                    var i = event_types.length;
                    while (i--) {
                        var listener = filesaver["on" + event_types[i]];
                        if (typeof listener === "function") {
                            try {
                                listener.call(filesaver, event || filesaver)
                            } catch (ex) {
                                throw_outside(ex)
                            }
                        }
                    }
                },
                auto_bom = function(blob) {
                    if (/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(blob.type)) {
                        return new Blob([String.fromCharCode(65279), blob], {
                            type: blob.type
                        })
                    }
                    return blob
                },
                FileSaver = function(blob, name, no_auto_bom) {
                    if (!no_auto_bom) {
                        blob = auto_bom(blob)
                    }
                    var filesaver = this,
                        type = blob.type,
                        force = type === force_saveable_type,
                        object_url, dispatch_all = function() {
                            dispatch(filesaver, "writestart progress write writeend".split(" "))
                        },
                        fs_error = function() {
                            if ((is_chrome_ios || force && is_safari) && view.FileReader) {
                                var reader = new FileReader;
                                reader.onloadend = function() {
                                    var url = is_chrome_ios ? reader.result : reader.result.replace(/^data:[^;]*;/, "data:attachment/file;");
                                    var popup = view.open(url, "_blank");
                                    if (!popup) view.location.href = url;
                                    url = undefined;
                                    filesaver.readyState = filesaver.DONE;
                                    dispatch_all()
                                };
                                reader.readAsDataURL(blob);
                                filesaver.readyState = filesaver.INIT;
                                return
                            }
                            if (!object_url) {
                                object_url = get_URL().createObjectURL(blob)
                            }
                            if (force) {
                                view.location.href = object_url
                            } else {
                                var opened = view.open(object_url, "_blank");
                                if (!opened) {
                                    view.location.href = object_url
                                }
                            }
                            filesaver.readyState = filesaver.DONE;
                            dispatch_all();
                            revoke(object_url)
                        };
                    filesaver.readyState = filesaver.INIT;
                    if (can_use_save_link) {
                        object_url = get_URL().createObjectURL(blob);
                        setTimeout(function() {
                            save_link.href = object_url;
                            save_link.download = name;
                            click(save_link);
                            dispatch_all();
                            revoke(object_url);
                            filesaver.readyState = filesaver.DONE
                        });
                        return
                    }
                    fs_error()
                },
                FS_proto = FileSaver.prototype,
                saveAs = function(blob, name, no_auto_bom) {
                    return new FileSaver(blob, name || blob.name || "download", no_auto_bom)
                };
            if (typeof navigator !== "undefined" && navigator.msSaveOrOpenBlob) {
                return function(blob, name, no_auto_bom) {
                    name = name || blob.name || "download";
                    if (!no_auto_bom) {
                        blob = auto_bom(blob)
                    }
                    return navigator.msSaveOrOpenBlob(blob, name)
                }
            }
            FS_proto.abort = function() {};
            FS_proto.readyState = FS_proto.INIT = 0;
            FS_proto.WRITING = 1;
            FS_proto.DONE = 2;
            FS_proto.error = FS_proto.onwritestart = FS_proto.onprogress = FS_proto.onwrite = FS_proto.onabort = FS_proto.onerror = FS_proto.onwriteend = null;
            return saveAs
        }(typeof self !== "undefined" && self || typeof window !== "undefined" && window || this.content);
        if (typeof module !== "undefined" && module.exports) {
            module.exports.saveAs = saveAs
        } else if (typeof define !== "undefined" && define !== null && define.amd !== null) {
            define("FileSaver.js", function() {
                return saveAs
            })
        }
    }, {}],
    9: [function(require, module, exports) {
        "use strict";
        var ERROR_MESSAGE = "Function.prototype.bind called on incompatible ";
        var slice = Array.prototype.slice;
        var toStr = Object.prototype.toString;
        var funcType = "[object Function]";
        module.exports = function bind(that) {
            var target = this;
            if (typeof target !== "function" || toStr.call(target) !== funcType) {
                throw new TypeError(ERROR_MESSAGE + target)
            }
            var args = slice.call(arguments, 1);
            var bound;
            var binder = function() {
                if (this instanceof bound) {
                    var result = target.apply(this, args.concat(slice.call(arguments)));
                    if (Object(result) === result) {
                        return result
                    }
                    return this
                } else {
                    return target.apply(that, args.concat(slice.call(arguments)))
                }
            };
            var boundLength = Math.max(0, target.length - args.length);
            var boundArgs = [];
            for (var i = 0; i < boundLength; i++) {
                boundArgs.push("$" + i)
            }
            bound = Function("binder", "return function (" + boundArgs.join(",") + "){ return binder.apply(this,arguments); }")(binder);
            if (target.prototype) {
                var Empty = function Empty() {};
                Empty.prototype = target.prototype;
                bound.prototype = new Empty;
                Empty.prototype = null
            }
            return bound
        }
    }, {}],
    10: [function(require, module, exports) {
        "use strict";
        var implementation = require("./implementation");
        module.exports = Function.prototype.bind || implementation
    }, {
        "./implementation": 9
    }],
    11: [function(require, module, exports) {
        "use strict";
        var undefined;
        var $SyntaxError = SyntaxError;
        var $Function = Function;
        var $TypeError = TypeError;
        var getEvalledConstructor = function(expressionSyntax) {
            try {
                return $Function('"use strict"; return (' + expressionSyntax + ").constructor;")()
            } catch (e) {}
        };
        var $gOPD = Object.getOwnPropertyDescriptor;
        if ($gOPD) {
            try {
                $gOPD({}, "")
            } catch (e) {
                $gOPD = null
            }
        }
        var throwTypeError = function() {
            throw new $TypeError
        };
        var ThrowTypeError = $gOPD ? function() {
            try {
                arguments.callee;
                return throwTypeError
            } catch (calleeThrows) {
                try {
                    return $gOPD(arguments, "callee").get
                } catch (gOPDthrows) {
                    return throwTypeError
                }
            }
        }() : throwTypeError;
        var hasSymbols = require("has-symbols")();
        var getProto = Object.getPrototypeOf || function(x) {
            return x.__proto__
        };
        var needsEval = {};
        var TypedArray = typeof Uint8Array === "undefined" ? undefined : getProto(Uint8Array);
        var INTRINSICS = {
            "%AggregateError%": typeof AggregateError === "undefined" ? undefined : AggregateError,
            "%Array%": Array,
            "%ArrayBuffer%": typeof ArrayBuffer === "undefined" ? undefined : ArrayBuffer,
            "%ArrayIteratorPrototype%": hasSymbols ? getProto([][Symbol.iterator]()) : undefined,
            "%AsyncFromSyncIteratorPrototype%": undefined,
            "%AsyncFunction%": needsEval,
            "%AsyncGenerator%": needsEval,
            "%AsyncGeneratorFunction%": needsEval,
            "%AsyncIteratorPrototype%": needsEval,
            "%Atomics%": typeof Atomics === "undefined" ? undefined : Atomics,
            "%BigInt%": typeof BigInt === "undefined" ? undefined : BigInt,
            "%Boolean%": Boolean,
            "%DataView%": typeof DataView === "undefined" ? undefined : DataView,
            "%Date%": Date,
            "%decodeURI%": decodeURI,
            "%decodeURIComponent%": decodeURIComponent,
            "%encodeURI%": encodeURI,
            "%encodeURIComponent%": encodeURIComponent,
            "%Error%": Error,
            "%eval%": eval,
            "%EvalError%": EvalError,
            "%Float32Array%": typeof Float32Array === "undefined" ? undefined : Float32Array,
            "%Float64Array%": typeof Float64Array === "undefined" ? undefined : Float64Array,
            "%FinalizationRegistry%": typeof FinalizationRegistry === "undefined" ? undefined : FinalizationRegistry,
            "%Function%": $Function,
            "%GeneratorFunction%": needsEval,
            "%Int8Array%": typeof Int8Array === "undefined" ? undefined : Int8Array,
            "%Int16Array%": typeof Int16Array === "undefined" ? undefined : Int16Array,
            "%Int32Array%": typeof Int32Array === "undefined" ? undefined : Int32Array,
            "%isFinite%": isFinite,
            "%isNaN%": isNaN,
            "%IteratorPrototype%": hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,
            "%JSON%": typeof JSON === "object" ? JSON : undefined,
            "%Map%": typeof Map === "undefined" ? undefined : Map,
            "%MapIteratorPrototype%": typeof Map === "undefined" || !hasSymbols ? undefined : getProto((new Map)[Symbol.iterator]()),
            "%Math%": Math,
            "%Number%": Number,
            "%Object%": Object,
            "%parseFloat%": parseFloat,
            "%parseInt%": parseInt,
            "%Promise%": typeof Promise === "undefined" ? undefined : Promise,
            "%Proxy%": typeof Proxy === "undefined" ? undefined : Proxy,
            "%RangeError%": RangeError,
            "%ReferenceError%": ReferenceError,
            "%Reflect%": typeof Reflect === "undefined" ? undefined : Reflect,
            "%RegExp%": RegExp,
            "%Set%": typeof Set === "undefined" ? undefined : Set,
            "%SetIteratorPrototype%": typeof Set === "undefined" || !hasSymbols ? undefined : getProto((new Set)[Symbol.iterator]()),
            "%SharedArrayBuffer%": typeof SharedArrayBuffer === "undefined" ? undefined : SharedArrayBuffer,
            "%String%": String,
            "%StringIteratorPrototype%": hasSymbols ? getProto("" [Symbol.iterator]()) : undefined,
            "%Symbol%": hasSymbols ? Symbol : undefined,
            "%SyntaxError%": $SyntaxError,
            "%ThrowTypeError%": ThrowTypeError,
            "%TypedArray%": TypedArray,
            "%TypeError%": $TypeError,
            "%Uint8Array%": typeof Uint8Array === "undefined" ? undefined : Uint8Array,
            "%Uint8ClampedArray%": typeof Uint8ClampedArray === "undefined" ? undefined : Uint8ClampedArray,
            "%Uint16Array%": typeof Uint16Array === "undefined" ? undefined : Uint16Array,
            "%Uint32Array%": typeof Uint32Array === "undefined" ? undefined : Uint32Array,
            "%URIError%": URIError,
            "%WeakMap%": typeof WeakMap === "undefined" ? undefined : WeakMap,
            "%WeakRef%": typeof WeakRef === "undefined" ? undefined : WeakRef,
            "%WeakSet%": typeof WeakSet === "undefined" ? undefined : WeakSet
        };
        var doEval = function doEval(name) {
            var value;
            if (name === "%AsyncFunction%") {
                value = getEvalledConstructor("async function () {}")
            } else if (name === "%GeneratorFunction%") {
                value = getEvalledConstructor("function* () {}")
            } else if (name === "%AsyncGeneratorFunction%") {
                value = getEvalledConstructor("async function* () {}")
            } else if (name === "%AsyncGenerator%") {
                var fn = doEval("%AsyncGeneratorFunction%");
                if (fn) {
                    value = fn.prototype
                }
            } else if (name === "%AsyncIteratorPrototype%") {
                var gen = doEval("%AsyncGenerator%");
                if (gen) {
                    value = getProto(gen.prototype)
                }
            }
            INTRINSICS[name] = value;
            return value
        };
        var LEGACY_ALIASES = {
            "%ArrayBufferPrototype%": ["ArrayBuffer", "prototype"],
            "%ArrayPrototype%": ["Array", "prototype"],
            "%ArrayProto_entries%": ["Array", "prototype", "entries"],
            "%ArrayProto_forEach%": ["Array", "prototype", "forEach"],
            "%ArrayProto_keys%": ["Array", "prototype", "keys"],
            "%ArrayProto_values%": ["Array", "prototype", "values"],
            "%AsyncFunctionPrototype%": ["AsyncFunction", "prototype"],
            "%AsyncGenerator%": ["AsyncGeneratorFunction", "prototype"],
            "%AsyncGeneratorPrototype%": ["AsyncGeneratorFunction", "prototype", "prototype"],
            "%BooleanPrototype%": ["Boolean", "prototype"],
            "%DataViewPrototype%": ["DataView", "prototype"],
            "%DatePrototype%": ["Date", "prototype"],
            "%ErrorPrototype%": ["Error", "prototype"],
            "%EvalErrorPrototype%": ["EvalError", "prototype"],
            "%Float32ArrayPrototype%": ["Float32Array", "prototype"],
            "%Float64ArrayPrototype%": ["Float64Array", "prototype"],
            "%FunctionPrototype%": ["Function", "prototype"],
            "%Generator%": ["GeneratorFunction", "prototype"],
            "%GeneratorPrototype%": ["GeneratorFunction", "prototype", "prototype"],
            "%Int8ArrayPrototype%": ["Int8Array", "prototype"],
            "%Int16ArrayPrototype%": ["Int16Array", "prototype"],
            "%Int32ArrayPrototype%": ["Int32Array", "prototype"],
            "%JSONParse%": ["JSON", "parse"],
            "%JSONStringify%": ["JSON", "stringify"],
            "%MapPrototype%": ["Map", "prototype"],
            "%NumberPrototype%": ["Number", "prototype"],
            "%ObjectPrototype%": ["Object", "prototype"],
            "%ObjProto_toString%": ["Object", "prototype", "toString"],
            "%ObjProto_valueOf%": ["Object", "prototype", "valueOf"],
            "%PromisePrototype%": ["Promise", "prototype"],
            "%PromiseProto_then%": ["Promise", "prototype", "then"],
            "%Promise_all%": ["Promise", "all"],
            "%Promise_reject%": ["Promise", "reject"],
            "%Promise_resolve%": ["Promise", "resolve"],
            "%RangeErrorPrototype%": ["RangeError", "prototype"],
            "%ReferenceErrorPrototype%": ["ReferenceError", "prototype"],
            "%RegExpPrototype%": ["RegExp", "prototype"],
            "%SetPrototype%": ["Set", "prototype"],
            "%SharedArrayBufferPrototype%": ["SharedArrayBuffer", "prototype"],
            "%StringPrototype%": ["String", "prototype"],
            "%SymbolPrototype%": ["Symbol", "prototype"],
            "%SyntaxErrorPrototype%": ["SyntaxError", "prototype"],
            "%TypedArrayPrototype%": ["TypedArray", "prototype"],
            "%TypeErrorPrototype%": ["TypeError", "prototype"],
            "%Uint8ArrayPrototype%": ["Uint8Array", "prototype"],
            "%Uint8ClampedArrayPrototype%": ["Uint8ClampedArray", "prototype"],
            "%Uint16ArrayPrototype%": ["Uint16Array", "prototype"],
            "%Uint32ArrayPrototype%": ["Uint32Array", "prototype"],
            "%URIErrorPrototype%": ["URIError", "prototype"],
            "%WeakMapPrototype%": ["WeakMap", "prototype"],
            "%WeakSetPrototype%": ["WeakSet", "prototype"]
        };
        var bind = require("function-bind");
        var hasOwn = require("has");
        var $concat = bind.call(Function.call, Array.prototype.concat);
        var $spliceApply = bind.call(Function.apply, Array.prototype.splice);
        var $replace = bind.call(Function.call, String.prototype.replace);
        var $strSlice = bind.call(Function.call, String.prototype.slice);
        var rePropName = /[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;
        var reEscapeChar = /\\(\\)?/g;
        var stringToPath = function stringToPath(string) {
            var first = $strSlice(string, 0, 1);
            var last = $strSlice(string, -1);
            if (first === "%" && last !== "%") {
                throw new $SyntaxError("invalid intrinsic syntax, expected closing `%`")
            } else if (last === "%" && first !== "%") {
                throw new $SyntaxError("invalid intrinsic syntax, expected opening `%`")
            }
            var result = [];
            $replace(string, rePropName, function(match, number, quote, subString) {
                result[result.length] = quote ? $replace(subString, reEscapeChar, "$1") : number || match
            });
            return result
        };
        var getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {
            var intrinsicName = name;
            var alias;
            if (hasOwn(LEGACY_ALIASES, intrinsicName)) {
                alias = LEGACY_ALIASES[intrinsicName];
                intrinsicName = "%" + alias[0] + "%"
            }
            if (hasOwn(INTRINSICS, intrinsicName)) {
                var value = INTRINSICS[intrinsicName];
                if (value === needsEval) {
                    value = doEval(intrinsicName)
                }
                if (typeof value === "undefined" && !allowMissing) {
                    throw new $TypeError("intrinsic " + name + " exists, but is not available. Please file an issue!")
                }
                return {
                    alias: alias,
                    name: intrinsicName,
                    value: value
                }
            }
            throw new $SyntaxError("intrinsic " + name + " does not exist!")
        };
        module.exports = function GetIntrinsic(name, allowMissing) {
            if (typeof name !== "string" || name.length === 0) {
                throw new $TypeError("intrinsic name must be a non-empty string")
            }
            if (arguments.length > 1 && typeof allowMissing !== "boolean") {
                throw new $TypeError('"allowMissing" argument must be a boolean')
            }
            var parts = stringToPath(name);
            var intrinsicBaseName = parts.length > 0 ? parts[0] : "";
            var intrinsic = getBaseIntrinsic("%" + intrinsicBaseName + "%", allowMissing);
            var intrinsicRealName = intrinsic.name;
            var value = intrinsic.value;
            var skipFurtherCaching = false;
            var alias = intrinsic.alias;
            if (alias) {
                intrinsicBaseName = alias[0];
                $spliceApply(parts, $concat([0, 1], alias))
            }
            for (var i = 1, isOwn = true; i < parts.length; i += 1) {
                var part = parts[i];
                var first = $strSlice(part, 0, 1);
                var last = $strSlice(part, -1);
                if ((first === '"' || first === "'" || first === "`" || (last === '"' || last === "'" || last === "`")) && first !== last) {
                    throw new $SyntaxError("property names with quotes must have matching quotes")
                }
                if (part === "constructor" || !isOwn) {
                    skipFurtherCaching = true
                }
                intrinsicBaseName += "." + part;
                intrinsicRealName = "%" + intrinsicBaseName + "%";
                if (hasOwn(INTRINSICS, intrinsicRealName)) {
                    value = INTRINSICS[intrinsicRealName]
                } else if (value != null) {
                    if (!(part in value)) {
                        if (!allowMissing) {
                            throw new $TypeError("base intrinsic for " + name + " exists, but the property is not available.")
                        }
                        return void undefined
                    }
                    if ($gOPD && i + 1 >= parts.length) {
                        var desc = $gOPD(value, part);
                        isOwn = !!desc;
                        if (isOwn && "get" in desc && !("originalValue" in desc.get)) {
                            value = desc.get
                        } else {
                            value = value[part]
                        }
                    } else {
                        isOwn = hasOwn(value, part);
                        value = value[part]
                    }
                    if (isOwn && !skipFurtherCaching) {
                        INTRINSICS[intrinsicRealName] = value
                    }
                }
            }
            return value
        }
    }, {
        "function-bind": 10,
        has: 15,
        "has-symbols": 12
    }],
    12: [function(require, module, exports) {
        "use strict";
        var origSymbol = typeof Symbol !== "undefined" && Symbol;
        var hasSymbolSham = require("./shams");
        module.exports = function hasNativeSymbols() {
            if (typeof origSymbol !== "function") {
                return false
            }
            if (typeof Symbol !== "function") {
                return false
            }
            if (typeof origSymbol("foo") !== "symbol") {
                return false
            }
            if (typeof Symbol("bar") !== "symbol") {
                return false
            }
            return hasSymbolSham()
        }
    }, {
        "./shams": 13
    }],
    13: [function(require, module, exports) {
        "use strict";
        module.exports = function hasSymbols() {
            if (typeof Symbol !== "function" || typeof Object.getOwnPropertySymbols !== "function") {
                return false
            }
            if (typeof Symbol.iterator === "symbol") {
                return true
            }
            var obj = {};
            var sym = Symbol("test");
            var symObj = Object(sym);
            if (typeof sym === "string") {
                return false
            }
            if (Object.prototype.toString.call(sym) !== "[object Symbol]") {
                return false
            }
            if (Object.prototype.toString.call(symObj) !== "[object Symbol]") {
                return false
            }
            var symVal = 42;
            obj[sym] = symVal;
            for (sym in obj) {
                return false
            }
            if (typeof Object.keys === "function" && Object.keys(obj).length !== 0) {
                return false
            }
            if (typeof Object.getOwnPropertyNames === "function" && Object.getOwnPropertyNames(obj).length !== 0) {
                return false
            }
            var syms = Object.getOwnPropertySymbols(obj);
            if (syms.length !== 1 || syms[0] !== sym) {
                return false
            }
            if (!Object.prototype.propertyIsEnumerable.call(obj, sym)) {
                return false
            }
            if (typeof Object.getOwnPropertyDescriptor === "function") {
                var descriptor = Object.getOwnPropertyDescriptor(obj, sym);
                if (descriptor.value !== symVal || descriptor.enumerable !== true) {
                    return false
                }
            }
            return true
        }
    }, {}],
    14: [function(require, module, exports) {
        "use strict";
        var hasSymbols = require("has-symbols/shams");
        module.exports = function hasToStringTagShams() {
            return hasSymbols() && !!Symbol.toStringTag
        }
    }, {
        "has-symbols/shams": 13
    }],
    15: [function(require, module, exports) {
        "use strict";
        var bind = require("function-bind");
        module.exports = bind.call(Function.call, Object.prototype.hasOwnProperty)
    }, {
        "function-bind": 10
    }],
    16: [function(require, module, exports) {
        "use strict";
        var hasToStringTag = require("has-tostringtag/shams")();
        var callBound = require("call-bind/callBound");
        var $toString = callBound("Object.prototype.toString");
        var isStandardArguments = function isArguments(value) {
            if (hasToStringTag && value && typeof value === "object" && Symbol.toStringTag in value) {
                return false
            }
            return $toString(value) === "[object Arguments]"
        };
        var isLegacyArguments = function isArguments(value) {
            if (isStandardArguments(value)) {
                return true
            }
            return value !== null && typeof value === "object" && typeof value.length === "number" && value.length >= 0 && $toString(value) !== "[object Array]" && $toString(value.callee) === "[object Function]"
        };
        var supportsStandardArguments = function() {
            return isStandardArguments(arguments)
        }();
        isStandardArguments.isLegacyArguments = isLegacyArguments;
        module.exports = supportsStandardArguments ? isStandardArguments : isLegacyArguments
    }, {
        "call-bind/callBound": 2,
        "has-tostringtag/shams": 14
    }],
    17: [function(require, module, exports) {
        "use strict";
        var getDay = Date.prototype.getDay;
        var tryDateObject = function tryDateGetDayCall(value) {
            try {
                getDay.call(value);
                return true
            } catch (e) {
                return false
            }
        };
        var toStr = Object.prototype.toString;
        var dateClass = "[object Date]";
        var hasToStringTag = require("has-tostringtag/shams")();
        module.exports = function isDateObject(value) {
            if (typeof value !== "object" || value === null) {
                return false
            }
            return hasToStringTag ? tryDateObject(value) : toStr.call(value) === dateClass
        }
    }, {
        "has-tostringtag/shams": 14
    }],
    18: [function(require, module, exports) {
        "use strict";
        var callBound = require("call-bind/callBound");
        var hasToStringTag = require("has-tostringtag/shams")();
        var has;
        var $exec;
        var isRegexMarker;
        var badStringifier;
        if (hasToStringTag) {
            has = callBound("Object.prototype.hasOwnProperty");
            $exec = callBound("RegExp.prototype.exec");
            isRegexMarker = {};
            var throwRegexMarker = function() {
                throw isRegexMarker
            };
            badStringifier = {
                toString: throwRegexMarker,
                valueOf: throwRegexMarker
            };
            if (typeof Symbol.toPrimitive === "symbol") {
                badStringifier[Symbol.toPrimitive] = throwRegexMarker
            }
        }
        var $toString = callBound("Object.prototype.toString");
        var gOPD = Object.getOwnPropertyDescriptor;
        var regexClass = "[object RegExp]";
        module.exports = hasToStringTag ? function isRegex(value) {
            if (!value || typeof value !== "object") {
                return false
            }
            var descriptor = gOPD(value, "lastIndex");
            var hasLastIndexDataProperty = descriptor && has(descriptor, "value");
            if (!hasLastIndexDataProperty) {
                return false
            }
            try {
                $exec(value, badStringifier)
            } catch (e) {
                return e === isRegexMarker
            }
        } : function isRegex(value) {
            if (!value || typeof value !== "object" && typeof value !== "function") {
                return false
            }
            return $toString(value) === regexClass
        }
    }, {
        "call-bind/callBound": 2,
        "has-tostringtag/shams": 14
    }],
    19: [function(require, module, exports) {
        (function(global) {
            (function() {
                (function() {
                    var undefined;
                    var VERSION = "4.17.21";
                    var LARGE_ARRAY_SIZE = 200;
                    var CORE_ERROR_TEXT = "Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",
                        FUNC_ERROR_TEXT = "Expected a function",
                        INVALID_TEMPL_VAR_ERROR_TEXT = "Invalid `variable` option passed into `_.template`";
                    var HASH_UNDEFINED = "__lodash_hash_undefined__";
                    var MAX_MEMOIZE_SIZE = 500;
                    var PLACEHOLDER = "__lodash_placeholder__";
                    var CLONE_DEEP_FLAG = 1,
                        CLONE_FLAT_FLAG = 2,
                        CLONE_SYMBOLS_FLAG = 4;
                    var COMPARE_PARTIAL_FLAG = 1,
                        COMPARE_UNORDERED_FLAG = 2;
                    var WRAP_BIND_FLAG = 1,
                        WRAP_BIND_KEY_FLAG = 2,
                        WRAP_CURRY_BOUND_FLAG = 4,
                        WRAP_CURRY_FLAG = 8,
                        WRAP_CURRY_RIGHT_FLAG = 16,
                        WRAP_PARTIAL_FLAG = 32,
                        WRAP_PARTIAL_RIGHT_FLAG = 64,
                        WRAP_ARY_FLAG = 128,
                        WRAP_REARG_FLAG = 256,
                        WRAP_FLIP_FLAG = 512;
                    var DEFAULT_TRUNC_LENGTH = 30,
                        DEFAULT_TRUNC_OMISSION = "...";
                    var HOT_COUNT = 800,
                        HOT_SPAN = 16;
                    var LAZY_FILTER_FLAG = 1,
                        LAZY_MAP_FLAG = 2,
                        LAZY_WHILE_FLAG = 3;
                    var INFINITY = 1 / 0,
                        MAX_SAFE_INTEGER = 9007199254740991,
                        MAX_INTEGER = 1.7976931348623157e308,
                        NAN = 0 / 0;
                    var MAX_ARRAY_LENGTH = 4294967295,
                        MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1,
                        HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;
                    var wrapFlags = [
                        ["ary", WRAP_ARY_FLAG],
                        ["bind", WRAP_BIND_FLAG],
                        ["bindKey", WRAP_BIND_KEY_FLAG],
                        ["curry", WRAP_CURRY_FLAG],
                        ["curryRight", WRAP_CURRY_RIGHT_FLAG],
                        ["flip", WRAP_FLIP_FLAG],
                        ["partial", WRAP_PARTIAL_FLAG],
                        ["partialRight", WRAP_PARTIAL_RIGHT_FLAG],
                        ["rearg", WRAP_REARG_FLAG]
                    ];
                    var argsTag = "[object Arguments]",
                        arrayTag = "[object Array]",
                        asyncTag = "[object AsyncFunction]",
                        boolTag = "[object Boolean]",
                        dateTag = "[object Date]",
                        domExcTag = "[object DOMException]",
                        errorTag = "[object Error]",
                        funcTag = "[object Function]",
                        genTag = "[object GeneratorFunction]",
                        mapTag = "[object Map]",
                        numberTag = "[object Number]",
                        nullTag = "[object Null]",
                        objectTag = "[object Object]",
                        promiseTag = "[object Promise]",
                        proxyTag = "[object Proxy]",
                        regexpTag = "[object RegExp]",
                        setTag = "[object Set]",
                        stringTag = "[object String]",
                        symbolTag = "[object Symbol]",
                        undefinedTag = "[object Undefined]",
                        weakMapTag = "[object WeakMap]",
                        weakSetTag = "[object WeakSet]";
                    var arrayBufferTag = "[object ArrayBuffer]",
                        dataViewTag = "[object DataView]",
                        float32Tag = "[object Float32Array]",
                        float64Tag = "[object Float64Array]",
                        int8Tag = "[object Int8Array]",
                        int16Tag = "[object Int16Array]",
                        int32Tag = "[object Int32Array]",
                        uint8Tag = "[object Uint8Array]",
                        uint8ClampedTag = "[object Uint8ClampedArray]",
                        uint16Tag = "[object Uint16Array]",
                        uint32Tag = "[object Uint32Array]";
                    var reEmptyStringLeading = /\b__p \+= '';/g,
                        reEmptyStringMiddle = /\b(__p \+=) '' \+/g,
                        reEmptyStringTrailing = /(__e\(.*?\)|\b__t\)) \+\n'';/g;
                    var reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g,
                        reUnescapedHtml = /[&<>"']/g,
                        reHasEscapedHtml = RegExp(reEscapedHtml.source),
                        reHasUnescapedHtml = RegExp(reUnescapedHtml.source);
                    var reEscape = /<%-([\s\S]+?)%>/g,
                        reEvaluate = /<%([\s\S]+?)%>/g,
                        reInterpolate = /<%=([\s\S]+?)%>/g;
                    var reIsDeepProp = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
                        reIsPlainProp = /^\w*$/,
                        rePropName = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;
                    var reRegExpChar = /[\\^$.*+?()[\]{}|]/g,
                        reHasRegExpChar = RegExp(reRegExpChar.source);
                    var reTrimStart = /^\s+/;
                    var reWhitespace = /\s/;
                    var reWrapComment = /\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,
                        reWrapDetails = /\{\n\/\* \[wrapped with (.+)\] \*/,
                        reSplitDetails = /,? & /;
                    var reAsciiWord = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;
                    var reForbiddenIdentifierChars = /[()=,{}\[\]\/\s]/;
                    var reEscapeChar = /\\(\\)?/g;
                    var reEsTemplate = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;
                    var reFlags = /\w*$/;
                    var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;
                    var reIsBinary = /^0b[01]+$/i;
                    var reIsHostCtor = /^\[object .+?Constructor\]$/;
                    var reIsOctal = /^0o[0-7]+$/i;
                    var reIsUint = /^(?:0|[1-9]\d*)$/;
                    var reLatin = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g;
                    var reNoMatch = /($^)/;
                    var reUnescapedString = /['\n\r\u2028\u2029\\]/g;
                    var rsAstralRange = "\\ud800-\\udfff",
                        rsComboMarksRange = "\\u0300-\\u036f",
                        reComboHalfMarksRange = "\\ufe20-\\ufe2f",
                        rsComboSymbolsRange = "\\u20d0-\\u20ff",
                        rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,
                        rsDingbatRange = "\\u2700-\\u27bf",
                        rsLowerRange = "a-z\\xdf-\\xf6\\xf8-\\xff",
                        rsMathOpRange = "\\xac\\xb1\\xd7\\xf7",
                        rsNonCharRange = "\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",
                        rsPunctuationRange = "\\u2000-\\u206f",
                        rsSpaceRange = " \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",
                        rsUpperRange = "A-Z\\xc0-\\xd6\\xd8-\\xde",
                        rsVarRange = "\\ufe0e\\ufe0f",
                        rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;
                    var rsApos = "[']",
                        rsAstral = "[" + rsAstralRange + "]",
                        rsBreak = "[" + rsBreakRange + "]",
                        rsCombo = "[" + rsComboRange + "]",
                        rsDigits = "\\d+",
                        rsDingbat = "[" + rsDingbatRange + "]",
                        rsLower = "[" + rsLowerRange + "]",
                        rsMisc = "[^" + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + "]",
                        rsFitz = "\\ud83c[\\udffb-\\udfff]",
                        rsModifier = "(?:" + rsCombo + "|" + rsFitz + ")",
                        rsNonAstral = "[^" + rsAstralRange + "]",
                        rsRegional = "(?:\\ud83c[\\udde6-\\uddff]){2}",
                        rsSurrPair = "[\\ud800-\\udbff][\\udc00-\\udfff]",
                        rsUpper = "[" + rsUpperRange + "]",
                        rsZWJ = "\\u200d";
                    var rsMiscLower = "(?:" + rsLower + "|" + rsMisc + ")",
                        rsMiscUpper = "(?:" + rsUpper + "|" + rsMisc + ")",
                        rsOptContrLower = "(?:" + rsApos + "(?:d|ll|m|re|s|t|ve))?",
                        rsOptContrUpper = "(?:" + rsApos + "(?:D|LL|M|RE|S|T|VE))?",
                        reOptMod = rsModifier + "?",
                        rsOptVar = "[" + rsVarRange + "]?",
                        rsOptJoin = "(?:" + rsZWJ + "(?:" + [rsNonAstral, rsRegional, rsSurrPair].join("|") + ")" + rsOptVar + reOptMod + ")*",
                        rsOrdLower = "\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",
                        rsOrdUpper = "\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",
                        rsSeq = rsOptVar + reOptMod + rsOptJoin,
                        rsEmoji = "(?:" + [rsDingbat, rsRegional, rsSurrPair].join("|") + ")" + rsSeq,
                        rsSymbol = "(?:" + [rsNonAstral + rsCombo + "?", rsCombo, rsRegional, rsSurrPair, rsAstral].join("|") + ")";
                    var reApos = RegExp(rsApos, "g");
                    var reComboMark = RegExp(rsCombo, "g");
                    var reUnicode = RegExp(rsFitz + "(?=" + rsFitz + ")|" + rsSymbol + rsSeq, "g");
                    var reUnicodeWord = RegExp([rsUpper + "?" + rsLower + "+" + rsOptContrLower + "(?=" + [rsBreak, rsUpper, "$"].join("|") + ")", rsMiscUpper + "+" + rsOptContrUpper + "(?=" + [rsBreak, rsUpper + rsMiscLower, "$"].join("|") + ")", rsUpper + "?" + rsMiscLower + "+" + rsOptContrLower, rsUpper + "+" + rsOptContrUpper, rsOrdUpper, rsOrdLower, rsDigits, rsEmoji].join("|"), "g");
                    var reHasUnicode = RegExp("[" + rsZWJ + rsAstralRange + rsComboRange + rsVarRange + "]");
                    var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;
                    var contextProps = ["Array", "Buffer", "DataView", "Date", "Error", "Float32Array", "Float64Array", "Function", "Int8Array", "Int16Array", "Int32Array", "Map", "Math", "Object", "Promise", "RegExp", "Set", "String", "Symbol", "TypeError", "Uint8Array", "Uint8ClampedArray", "Uint16Array", "Uint32Array", "WeakMap", "_", "clearTimeout", "isFinite", "parseInt", "setTimeout"];
                    var templateCounter = -1;
                    var typedArrayTags = {};
                    typedArrayTags[float32Tag] = typedArrayTags[float64Tag] = typedArrayTags[int8Tag] = typedArrayTags[int16Tag] = typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] = typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] = typedArrayTags[uint32Tag] = true;
                    typedArrayTags[argsTag] = typedArrayTags[arrayTag] = typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] = typedArrayTags[dataViewTag] = typedArrayTags[dateTag] = typedArrayTags[errorTag] = typedArrayTags[funcTag] = typedArrayTags[mapTag] = typedArrayTags[numberTag] = typedArrayTags[objectTag] = typedArrayTags[regexpTag] = typedArrayTags[setTag] = typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;
                    var cloneableTags = {};
                    cloneableTags[argsTag] = cloneableTags[arrayTag] = cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] = cloneableTags[boolTag] = cloneableTags[dateTag] = cloneableTags[float32Tag] = cloneableTags[float64Tag] = cloneableTags[int8Tag] = cloneableTags[int16Tag] = cloneableTags[int32Tag] = cloneableTags[mapTag] = cloneableTags[numberTag] = cloneableTags[objectTag] = cloneableTags[regexpTag] = cloneableTags[setTag] = cloneableTags[stringTag] = cloneableTags[symbolTag] = cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] = cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;
                    cloneableTags[errorTag] = cloneableTags[funcTag] = cloneableTags[weakMapTag] = false;
                    var deburredLetters = {
                        "": "A",
                        "": "A",
                        "": "A",
                        "": "A",
                        "": "A",
                        "": "A",
                        "": "a",
                        "": "a",
                        "": "a",
                        "": "a",
                        "": "a",
                        "": "a",
                        "": "C",
                        "": "c",
                        "": "D",
                        "": "d",
                        "": "E",
                        "": "E",
                        "": "E",
                        "": "E",
                        "": "e",
                        "": "e",
                        "": "e",
                        "": "e",
                        "": "I",
                        "": "I",
                        "": "I",
                        "": "I",
                        "": "i",
                        "": "i",
                        "": "i",
                        "": "i",
                        "": "N",
                        "": "n",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "U",
                        "": "U",
                        "": "U",
                        "": "U",
                        "": "u",
                        "": "u",
                        "": "u",
                        "": "u",
                        "": "Y",
                        "": "y",
                        "": "y",
                        "": "Ae",
                        "": "ae",
                        "": "Th",
                        "": "th",
                        "": "ss",
                        "": "A",
                        "": "A",
                        "": "A",
                        "": "a",
                        "": "a",
                        "": "a",
                        "": "C",
                        "": "C",
                        "": "C",
                        "": "C",
                        "": "c",
                        "": "c",
                        "": "c",
                        "": "c",
                        "": "D",
                        "": "D",
                        "": "d",
                        "": "d",
                        "": "E",
                        "": "E",
                        "": "E",
                        "": "E",
                        "": "E",
                        "": "e",
                        "": "e",
                        "": "e",
                        "": "e",
                        "": "e",
                        "": "G",
                        "": "G",
                        "": "G",
                        "": "G",
                        "": "g",
                        "": "g",
                        "": "g",
                        "": "g",
                        "": "H",
                        "": "H",
                        "": "h",
                        "": "h",
                        "": "I",
                        "": "I",
                        "": "I",
                        "": "I",
                        "": "I",
                        "": "i",
                        "": "i",
                        "": "i",
                        "": "i",
                        "": "i",
                        "": "J",
                        "": "j",
                        "": "K",
                        "": "k",
                        "": "k",
                        "": "L",
                        "": "L",
                        "": "L",
                        "": "L",
                        "": "L",
                        "": "l",
                        "": "l",
                        "": "l",
                        "": "l",
                        "": "l",
                        "": "N",
                        "": "N",
                        "": "N",
                        "": "N",
                        "": "n",
                        "": "n",
                        "": "n",
                        "": "n",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "R",
                        "": "R",
                        "": "R",
                        "": "r",
                        "": "r",
                        "": "r",
                        "": "S",
                        "": "S",
                        "": "S",
                        "": "S",
                        "": "s",
                        "": "s",
                        "": "s",
                        "": "s",
                        "": "T",
                        "": "T",
                        "": "T",
                        "": "t",
                        "": "t",
                        "": "t",
                        "": "U",
                        "": "U",
                        "": "U",
                        "": "U",
                        "": "U",
                        "": "U",
                        "": "u",
                        "": "u",
                        "": "u",
                        "": "u",
                        "": "u",
                        "": "u",
                        "": "W",
                        "": "w",
                        "": "Y",
                        "": "y",
                        "": "Y",
                        "": "Z",
                        "": "Z",
                        "": "Z",
                        "": "z",
                        "": "z",
                        "": "z",
                        "": "IJ",
                        "": "ij",
                        "": "Oe",
                        "": "oe",
                        "": "'n",
                        "": "s"
                    };
                    var htmlEscapes = {
                        "&": "&amp;",
                        "<": "&lt;",
                        ">": "&gt;",
                        '"': "&quot;",
                        "'": "&#39;"
                    };
                    var htmlUnescapes = {
                        "&amp;": "&",
                        "&lt;": "<",
                        "&gt;": ">",
                        "&quot;": '"',
                        "&#39;": "'"
                    };
                    var stringEscapes = {
                        "\\": "\\",
                        "'": "'",
                        "\n": "n",
                        "\r": "r",
                        "\u2028": "u2028",
                        "\u2029": "u2029"
                    };
                    var freeParseFloat = parseFloat,
                        freeParseInt = parseInt;
                    var freeGlobal = typeof global == "object" && global && global.Object === Object && global;
                    var freeSelf = typeof self == "object" && self && self.Object === Object && self;
                    var root = freeGlobal || freeSelf || Function("return this")();
                    var freeExports = typeof exports == "object" && exports && !exports.nodeType && exports;
                    var freeModule = freeExports && typeof module == "object" && module && !module.nodeType && module;
                    var moduleExports = freeModule && freeModule.exports === freeExports;
                    var freeProcess = moduleExports && freeGlobal.process;
                    var nodeUtil = function() {
                        try {
                            var types = freeModule && freeModule.require && freeModule.require("util").types;
                            if (types) {
                                return types
                            }
                            return freeProcess && freeProcess.binding && freeProcess.binding("util")
                        } catch (e) {}
                    }();
                    var nodeIsArrayBuffer = nodeUtil && nodeUtil.isArrayBuffer,
                        nodeIsDate = nodeUtil && nodeUtil.isDate,
                        nodeIsMap = nodeUtil && nodeUtil.isMap,
                        nodeIsRegExp = nodeUtil && nodeUtil.isRegExp,
                        nodeIsSet = nodeUtil && nodeUtil.isSet,
                        nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;

                    function apply(func, thisArg, args) {
                        switch (args.length) {
                            case 0:
                                return func.call(thisArg);
                            case 1:
                                return func.call(thisArg, args[0]);
                            case 2:
                                return func.call(thisArg, args[0], args[1]);
                            case 3:
                                return func.call(thisArg, args[0], args[1], args[2])
                        }
                        return func.apply(thisArg, args)
                    }

                    function arrayAggregator(array, setter, iteratee, accumulator) {
                        var index = -1,
                            length = array == null ? 0 : array.length;
                        while (++index < length) {
                            var value = array[index];
                            setter(accumulator, value, iteratee(value), array)
                        }
                        return accumulator
                    }

                    function arrayEach(array, iteratee) {
                        var index = -1,
                            length = array == null ? 0 : array.length;
                        while (++index < length) {
                            if (iteratee(array[index], index, array) === false) {
                                break
                            }
                        }
                        return array
                    }

                    function arrayEachRight(array, iteratee) {
                        var length = array == null ? 0 : array.length;
                        while (length--) {
                            if (iteratee(array[length], length, array) === false) {
                                break
                            }
                        }
                        return array
                    }

                    function arrayEvery(array, predicate) {
                        var index = -1,
                            length = array == null ? 0 : array.length;
                        while (++index < length) {
                            if (!predicate(array[index], index, array)) {
                                return false
                            }
                        }
                        return true
                    }

                    function arrayFilter(array, predicate) {
                        var index = -1,
                            length = array == null ? 0 : array.length,
                            resIndex = 0,
                            result = [];
                        while (++index < length) {
                            var value = array[index];
                            if (predicate(value, index, array)) {
                                result[resIndex++] = value
                            }
                        }
                        return result
                    }

                    function arrayIncludes(array, value) {
                        var length = array == null ? 0 : array.length;
                        return !!length && baseIndexOf(array, value, 0) > -1
                    }

                    function arrayIncludesWith(array, value, comparator) {
                        var index = -1,
                            length = array == null ? 0 : array.length;
                        while (++index < length) {
                            if (comparator(value, array[index])) {
                                return true
                            }
                        }
                        return false
                    }

                    function arrayMap(array, iteratee) {
                        var index = -1,
                            length = array == null ? 0 : array.length,
                            result = Array(length);
                        while (++index < length) {
                            result[index] = iteratee(array[index], index, array)
                        }
                        return result
                    }

                    function arrayPush(array, values) {
                        var index = -1,
                            length = values.length,
                            offset = array.length;
                        while (++index < length) {
                            array[offset + index] = values[index]
                        }
                        return array
                    }

                    function arrayReduce(array, iteratee, accumulator, initAccum) {
                        var index = -1,
                            length = array == null ? 0 : array.length;
                        if (initAccum && length) {
                            accumulator = array[++index]
                        }
                        while (++index < length) {
                            accumulator = iteratee(accumulator, array[index], index, array)
                        }
                        return accumulator
                    }

                    function arrayReduceRight(array, iteratee, accumulator, initAccum) {
                        var length = array == null ? 0 : array.length;
                        if (initAccum && length) {
                            accumulator = array[--length]
                        }
                        while (length--) {
                            accumulator = iteratee(accumulator, array[length], length, array)
                        }
                        return accumulator
                    }

                    function arraySome(array, predicate) {
                        var index = -1,
                            length = array == null ? 0 : array.length;
                        while (++index < length) {
                            if (predicate(array[index], index, array)) {
                                return true
                            }
                        }
                        return false
                    }
                    var asciiSize = baseProperty("length");

                    function asciiToArray(string) {
                        return string.split("")
                    }

                    function asciiWords(string) {
                        return string.match(reAsciiWord) || []
                    }

                    function baseFindKey(collection, predicate, eachFunc) {
                        var result;
                        eachFunc(collection, function(value, key, collection) {
                            if (predicate(value, key, collection)) {
                                result = key;
                                return false
                            }
                        });
                        return result
                    }

                    function baseFindIndex(array, predicate, fromIndex, fromRight) {
                        var length = array.length,
                            index = fromIndex + (fromRight ? 1 : -1);
                        while (fromRight ? index-- : ++index < length) {
                            if (predicate(array[index], index, array)) {
                                return index
                            }
                        }
                        return -1
                    }

                    function baseIndexOf(array, value, fromIndex) {
                        return value === value ? strictIndexOf(array, value, fromIndex) : baseFindIndex(array, baseIsNaN, fromIndex)
                    }

                    function baseIndexOfWith(array, value, fromIndex, comparator) {
                        var index = fromIndex - 1,
                            length = array.length;
                        while (++index < length) {
                            if (comparator(array[index], value)) {
                                return index
                            }
                        }
                        return -1
                    }

                    function baseIsNaN(value) {
                        return value !== value
                    }

                    function baseMean(array, iteratee) {
                        var length = array == null ? 0 : array.length;
                        return length ? baseSum(array, iteratee) / length : NAN
                    }

                    function baseProperty(key) {
                        return function(object) {
                            return object == null ? undefined : object[key]
                        }
                    }

                    function basePropertyOf(object) {
                        return function(key) {
                            return object == null ? undefined : object[key]
                        }
                    }

                    function baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {
                        eachFunc(collection, function(value, index, collection) {
                            accumulator = initAccum ? (initAccum = false, value) : iteratee(accumulator, value, index, collection)
                        });
                        return accumulator
                    }

                    function baseSortBy(array, comparer) {
                        var length = array.length;
                        array.sort(comparer);
                        while (length--) {
                            array[length] = array[length].value
                        }
                        return array
                    }

                    function baseSum(array, iteratee) {
                        var result, index = -1,
                            length = array.length;
                        while (++index < length) {
                            var current = iteratee(array[index]);
                            if (current !== undefined) {
                                result = result === undefined ? current : result + current
                            }
                        }
                        return result
                    }

                    function baseTimes(n, iteratee) {
                        var index = -1,
                            result = Array(n);
                        while (++index < n) {
                            result[index] = iteratee(index)
                        }
                        return result
                    }

                    function baseToPairs(object, props) {
                        return arrayMap(props, function(key) {
                            return [key, object[key]]
                        })
                    }

                    function baseTrim(string) {
                        return string ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, "") : string
                    }

                    function baseUnary(func) {
                        return function(value) {
                            return func(value)
                        }
                    }

                    function baseValues(object, props) {
                        return arrayMap(props, function(key) {
                            return object[key]
                        })
                    }

                    function cacheHas(cache, key) {
                        return cache.has(key)
                    }

                    function charsStartIndex(strSymbols, chrSymbols) {
                        var index = -1,
                            length = strSymbols.length;
                        while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}
                        return index
                    }

                    function charsEndIndex(strSymbols, chrSymbols) {
                        var index = strSymbols.length;
                        while (index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}
                        return index
                    }

                    function countHolders(array, placeholder) {
                        var length = array.length,
                            result = 0;
                        while (length--) {
                            if (array[length] === placeholder) {
                                ++result
                            }
                        }
                        return result
                    }
                    var deburrLetter = basePropertyOf(deburredLetters);
                    var escapeHtmlChar = basePropertyOf(htmlEscapes);

                    function escapeStringChar(chr) {
                        return "\\" + stringEscapes[chr]
                    }

                    function getValue(object, key) {
                        return object == null ? undefined : object[key]
                    }

                    function hasUnicode(string) {
                        return reHasUnicode.test(string)
                    }

                    function hasUnicodeWord(string) {
                        return reHasUnicodeWord.test(string)
                    }

                    function iteratorToArray(iterator) {
                        var data, result = [];
                        while (!(data = iterator.next()).done) {
                            result.push(data.value)
                        }
                        return result
                    }

                    function mapToArray(map) {
                        var index = -1,
                            result = Array(map.size);
                        map.forEach(function(value, key) {
                            result[++index] = [key, value]
                        });
                        return result
                    }

                    function overArg(func, transform) {
                        return function(arg) {
                            return func(transform(arg))
                        }
                    }

                    function replaceHolders(array, placeholder) {
                        var index = -1,
                            length = array.length,
                            resIndex = 0,
                            result = [];
                        while (++index < length) {
                            var value = array[index];
                            if (value === placeholder || value === PLACEHOLDER) {
                                array[index] = PLACEHOLDER;
                                result[resIndex++] = index
                            }
                        }
                        return result
                    }

                    function setToArray(set) {
                        var index = -1,
                            result = Array(set.size);
                        set.forEach(function(value) {
                            result[++index] = value
                        });
                        return result
                    }

                    function setToPairs(set) {
                        var index = -1,
                            result = Array(set.size);
                        set.forEach(function(value) {
                            result[++index] = [value, value]
                        });
                        return result
                    }

                    function strictIndexOf(array, value, fromIndex) {
                        var index = fromIndex - 1,
                            length = array.length;
                        while (++index < length) {
                            if (array[index] === value) {
                                return index
                            }
                        }
                        return -1
                    }

                    function strictLastIndexOf(array, value, fromIndex) {
                        var index = fromIndex + 1;
                        while (index--) {
                            if (array[index] === value) {
                                return index
                            }
                        }
                        return index
                    }

                    function stringSize(string) {
                        return hasUnicode(string) ? unicodeSize(string) : asciiSize(string)
                    }

                    function stringToArray(string) {
                        return hasUnicode(string) ? unicodeToArray(string) : asciiToArray(string)
                    }

                    function trimmedEndIndex(string) {
                        var index = string.length;
                        while (index-- && reWhitespace.test(string.charAt(index))) {}
                        return index
                    }
                    var unescapeHtmlChar = basePropertyOf(htmlUnescapes);

                    function unicodeSize(string) {
                        var result = reUnicode.lastIndex = 0;
                        while (reUnicode.test(string)) {
                            ++result
                        }
                        return result
                    }

                    function unicodeToArray(string) {
                        return string.match(reUnicode) || []
                    }

                    function unicodeWords(string) {
                        return string.match(reUnicodeWord) || []
                    }
                    var runInContext = function runInContext(context) {
                        context = context == null ? root : _.defaults(root.Object(), context, _.pick(root, contextProps));
                        var Array = context.Array,
                            Date = context.Date,
                            Error = context.Error,
                            Function = context.Function,
                            Math = context.Math,
                            Object = context.Object,
                            RegExp = context.RegExp,
                            String = context.String,
                            TypeError = context.TypeError;
                        var arrayProto = Array.prototype,
                            funcProto = Function.prototype,
                            objectProto = Object.prototype;
                        var coreJsData = context["__core-js_shared__"];
                        var funcToString = funcProto.toString;
                        var hasOwnProperty = objectProto.hasOwnProperty;
                        var idCounter = 0;
                        var maskSrcKey = function() {
                            var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || "");
                            return uid ? "Symbol(src)_1." + uid : ""
                        }();
                        var nativeObjectToString = objectProto.toString;
                        var objectCtorString = funcToString.call(Object);
                        var oldDash = root._;
                        var reIsNative = RegExp("^" + funcToString.call(hasOwnProperty).replace(reRegExpChar, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");
                        var Buffer = moduleExports ? context.Buffer : undefined,
                            Symbol = context.Symbol,
                            Uint8Array = context.Uint8Array,
                            allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,
                            getPrototype = overArg(Object.getPrototypeOf, Object),
                            objectCreate = Object.create,
                            propertyIsEnumerable = objectProto.propertyIsEnumerable,
                            splice = arrayProto.splice,
                            spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined,
                            symIterator = Symbol ? Symbol.iterator : undefined,
                            symToStringTag = Symbol ? Symbol.toStringTag : undefined;
                        var defineProperty = function() {
                            try {
                                var func = getNative(Object, "defineProperty");
                                func({}, "", {});
                                return func
                            } catch (e) {}
                        }();
                        var ctxClearTimeout = context.clearTimeout !== root.clearTimeout && context.clearTimeout,
                            ctxNow = Date && Date.now !== root.Date.now && Date.now,
                            ctxSetTimeout = context.setTimeout !== root.setTimeout && context.setTimeout;
                        var nativeCeil = Math.ceil,
                            nativeFloor = Math.floor,
                            nativeGetSymbols = Object.getOwnPropertySymbols,
                            nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,
                            nativeIsFinite = context.isFinite,
                            nativeJoin = arrayProto.join,
                            nativeKeys = overArg(Object.keys, Object),
                            nativeMax = Math.max,
                            nativeMin = Math.min,
                            nativeNow = Date.now,
                            nativeParseInt = context.parseInt,
                            nativeRandom = Math.random,
                            nativeReverse = arrayProto.reverse;
                        var DataView = getNative(context, "DataView"),
                            Map = getNative(context, "Map"),
                            Promise = getNative(context, "Promise"),
                            Set = getNative(context, "Set"),
                            WeakMap = getNative(context, "WeakMap"),
                            nativeCreate = getNative(Object, "create");
                        var metaMap = WeakMap && new WeakMap;
                        var realNames = {};
                        var dataViewCtorString = toSource(DataView),
                            mapCtorString = toSource(Map),
                            promiseCtorString = toSource(Promise),
                            setCtorString = toSource(Set),
                            weakMapCtorString = toSource(WeakMap);
                        var symbolProto = Symbol ? Symbol.prototype : undefined,
                            symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,
                            symbolToString = symbolProto ? symbolProto.toString : undefined;

                        function lodash(value) {
                            if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {
                                if (value instanceof LodashWrapper) {
                                    return value
                                }
                                if (hasOwnProperty.call(value, "__wrapped__")) {
                                    return wrapperClone(value)
                                }
                            }
                            return new LodashWrapper(value)
                        }
                        var baseCreate = function() {
                            function object() {}
                            return function(proto) {
                                if (!isObject(proto)) {
                                    return {}
                                }
                                if (objectCreate) {
                                    return objectCreate(proto)
                                }
                                object.prototype = proto;
                                var result = new object;
                                object.prototype = undefined;
                                return result
                            }
                        }();

                        function baseLodash() {}

                        function LodashWrapper(value, chainAll) {
                            this.__wrapped__ = value;
                            this.__actions__ = [];
                            this.__chain__ = !!chainAll;
                            this.__index__ = 0;
                            this.__values__ = undefined
                        }
                        lodash.templateSettings = {
                            escape: reEscape,
                            evaluate: reEvaluate,
                            interpolate: reInterpolate,
                            variable: "",
                            imports: {
                                _: lodash
                            }
                        };
                        lodash.prototype = baseLodash.prototype;
                        lodash.prototype.constructor = lodash;
                        LodashWrapper.prototype = baseCreate(baseLodash.prototype);
                        LodashWrapper.prototype.constructor = LodashWrapper;

                        function LazyWrapper(value) {
                            this.__wrapped__ = value;
                            this.__actions__ = [];
                            this.__dir__ = 1;
                            this.__filtered__ = false;
                            this.__iteratees__ = [];
                            this.__takeCount__ = MAX_ARRAY_LENGTH;
                            this.__views__ = []
                        }

                        function lazyClone() {
                            var result = new LazyWrapper(this.__wrapped__);
                            result.__actions__ = copyArray(this.__actions__);
                            result.__dir__ = this.__dir__;
                            result.__filtered__ = this.__filtered__;
                            result.__iteratees__ = copyArray(this.__iteratees__);
                            result.__takeCount__ = this.__takeCount__;
                            result.__views__ = copyArray(this.__views__);
                            return result
                        }

                        function lazyReverse() {
                            if (this.__filtered__) {
                                var result = new LazyWrapper(this);
                                result.__dir__ = -1;
                                result.__filtered__ = true
                            } else {
                                result = this.clone();
                                result.__dir__ *= -1
                            }
                            return result
                        }

                        function lazyValue() {
                            var array = this.__wrapped__.value(),
                                dir = this.__dir__,
                                isArr = isArray(array),
                                isRight = dir < 0,
                                arrLength = isArr ? array.length : 0,
                                view = getView(0, arrLength, this.__views__),
                                start = view.start,
                                end = view.end,
                                length = end - start,
                                index = isRight ? end : start - 1,
                                iteratees = this.__iteratees__,
                                iterLength = iteratees.length,
                                resIndex = 0,
                                takeCount = nativeMin(length, this.__takeCount__);
                            if (!isArr || !isRight && arrLength == length && takeCount == length) {
                                return baseWrapperValue(array, this.__actions__)
                            }
                            var result = [];
                            outer: while (length-- && resIndex < takeCount) {
                                index += dir;
                                var iterIndex = -1,
                                    value = array[index];
                                while (++iterIndex < iterLength) {
                                    var data = iteratees[iterIndex],
                                        iteratee = data.iteratee,
                                        type = data.type,
                                        computed = iteratee(value);
                                    if (type == LAZY_MAP_FLAG) {
                                        value = computed
                                    } else if (!computed) {
                                        if (type == LAZY_FILTER_FLAG) {
                                            continue outer
                                        } else {
                                            break outer
                                        }
                                    }
                                }
                                result[resIndex++] = value
                            }
                            return result
                        }
                        LazyWrapper.prototype = baseCreate(baseLodash.prototype);
                        LazyWrapper.prototype.constructor = LazyWrapper;

                        function Hash(entries) {
                            var index = -1,
                                length = entries == null ? 0 : entries.length;
                            this.clear();
                            while (++index < length) {
                                var entry = entries[index];
                                this.set(entry[0], entry[1])
                            }
                        }

                        function hashClear() {
                            this.__data__ = nativeCreate ? nativeCreate(null) : {};
                            this.size = 0
                        }

                        function hashDelete(key) {
                            var result = this.has(key) && delete this.__data__[key];
                            this.size -= result ? 1 : 0;
                            return result
                        }

                        function hashGet(key) {
                            var data = this.__data__;
                            if (nativeCreate) {
                                var result = data[key];
                                return result === HASH_UNDEFINED ? undefined : result
                            }
                            return hasOwnProperty.call(data, key) ? data[key] : undefined
                        }

                        function hashHas(key) {
                            var data = this.__data__;
                            return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key)
                        }

                        function hashSet(key, value) {
                            var data = this.__data__;
                            this.size += this.has(key) ? 0 : 1;
                            data[key] = nativeCreate && value === undefined ? HASH_UNDEFINED : value;
                            return this
                        }
                        Hash.prototype.clear = hashClear;
                        Hash.prototype["delete"] = hashDelete;
                        Hash.prototype.get = hashGet;
                        Hash.prototype.has = hashHas;
                        Hash.prototype.set = hashSet;

                        function ListCache(entries) {
                            var index = -1,
                                length = entries == null ? 0 : entries.length;
                            this.clear();
                            while (++index < length) {
                                var entry = entries[index];
                                this.set(entry[0], entry[1])
                            }
                        }

                        function listCacheClear() {
                            this.__data__ = [];
                            this.size = 0
                        }

                        function listCacheDelete(key) {
                            var data = this.__data__,
                                index = assocIndexOf(data, key);
                            if (index < 0) {
                                return false
                            }
                            var lastIndex = data.length - 1;
                            if (index == lastIndex) {
                                data.pop()
                            } else {
                                splice.call(data, index, 1)
                            }--this.size;
                            return true
                        }

                        function listCacheGet(key) {
                            var data = this.__data__,
                                index = assocIndexOf(data, key);
                            return index < 0 ? undefined : data[index][1]
                        }

                        function listCacheHas(key) {
                            return assocIndexOf(this.__data__, key) > -1
                        }

                        function listCacheSet(key, value) {
                            var data = this.__data__,
                                index = assocIndexOf(data, key);
                            if (index < 0) {
                                ++this.size;
                                data.push([key, value])
                            } else {
                                data[index][1] = value
                            }
                            return this
                        }
                        ListCache.prototype.clear = listCacheClear;
                        ListCache.prototype["delete"] = listCacheDelete;
                        ListCache.prototype.get = listCacheGet;
                        ListCache.prototype.has = listCacheHas;
                        ListCache.prototype.set = listCacheSet;

                        function MapCache(entries) {
                            var index = -1,
                                length = entries == null ? 0 : entries.length;
                            this.clear();
                            while (++index < length) {
                                var entry = entries[index];
                                this.set(entry[0], entry[1])
                            }
                        }

                        function mapCacheClear() {
                            this.size = 0;
                            this.__data__ = {
                                hash: new Hash,
                                map: new(Map || ListCache),
                                string: new Hash
                            }
                        }

                        function mapCacheDelete(key) {
                            var result = getMapData(this, key)["delete"](key);
                            this.size -= result ? 1 : 0;
                            return result
                        }

                        function mapCacheGet(key) {
                            return getMapData(this, key).get(key)
                        }

                        function mapCacheHas(key) {
                            return getMapData(this, key).has(key)
                        }

                        function mapCacheSet(key, value) {
                            var data = getMapData(this, key),
                                size = data.size;
                            data.set(key, value);
                            this.size += data.size == size ? 0 : 1;
                            return this
                        }
                        MapCache.prototype.clear = mapCacheClear;
                        MapCache.prototype["delete"] = mapCacheDelete;
                        MapCache.prototype.get = mapCacheGet;
                        MapCache.prototype.has = mapCacheHas;
                        MapCache.prototype.set = mapCacheSet;

                        function SetCache(values) {
                            var index = -1,
                                length = values == null ? 0 : values.length;
                            this.__data__ = new MapCache;
                            while (++index < length) {
                                this.add(values[index])
                            }
                        }

                        function setCacheAdd(value) {
                            this.__data__.set(value, HASH_UNDEFINED);
                            return this
                        }

                        function setCacheHas(value) {
                            return this.__data__.has(value)
                        }
                        SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;
                        SetCache.prototype.has = setCacheHas;

                        function Stack(entries) {
                            var data = this.__data__ = new ListCache(entries);
                            this.size = data.size
                        }

                        function stackClear() {
                            this.__data__ = new ListCache;
                            this.size = 0
                        }

                        function stackDelete(key) {
                            var data = this.__data__,
                                result = data["delete"](key);
                            this.size = data.size;
                            return result
                        }

                        function stackGet(key) {
                            return this.__data__.get(key)
                        }

                        function stackHas(key) {
                            return this.__data__.has(key)
                        }

                        function stackSet(key, value) {
                            var data = this.__data__;
                            if (data instanceof ListCache) {
                                var pairs = data.__data__;
                                if (!Map || pairs.length < LARGE_ARRAY_SIZE - 1) {
                                    pairs.push([key, value]);
                                    this.size = ++data.size;
                                    return this
                                }
                                data = this.__data__ = new MapCache(pairs)
                            }
                            data.set(key, value);
                            this.size = data.size;
                            return this
                        }
                        Stack.prototype.clear = stackClear;
                        Stack.prototype["delete"] = stackDelete;
                        Stack.prototype.get = stackGet;
                        Stack.prototype.has = stackHas;
                        Stack.prototype.set = stackSet;

                        function arrayLikeKeys(value, inherited) {
                            var isArr = isArray(value),
                                isArg = !isArr && isArguments(value),
                                isBuff = !isArr && !isArg && isBuffer(value),
                                isType = !isArr && !isArg && !isBuff && isTypedArray(value),
                                skipIndexes = isArr || isArg || isBuff || isType,
                                result = skipIndexes ? baseTimes(value.length, String) : [],
                                length = result.length;
                            for (var key in value) {
                                if ((inherited || hasOwnProperty.call(value, key)) && !(skipIndexes && (key == "length" || isBuff && (key == "offset" || key == "parent") || isType && (key == "buffer" || key == "byteLength" || key == "byteOffset") || isIndex(key, length)))) {
                                    result.push(key)
                                }
                            }
                            return result
                        }

                        function arraySample(array) {
                            var length = array.length;
                            return length ? array[baseRandom(0, length - 1)] : undefined
                        }

                        function arraySampleSize(array, n) {
                            return shuffleSelf(copyArray(array), baseClamp(n, 0, array.length))
                        }

                        function arrayShuffle(array) {
                            return shuffleSelf(copyArray(array))
                        }

                        function assignMergeValue(object, key, value) {
                            if (value !== undefined && !eq(object[key], value) || value === undefined && !(key in object)) {
                                baseAssignValue(object, key, value)
                            }
                        }

                        function assignValue(object, key, value) {
                            var objValue = object[key];
                            if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) || value === undefined && !(key in object)) {
                                baseAssignValue(object, key, value)
                            }
                        }

                        function assocIndexOf(array, key) {
                            var length = array.length;
                            while (length--) {
                                if (eq(array[length][0], key)) {
                                    return length
                                }
                            }
                            return -1
                        }

                        function baseAggregator(collection, setter, iteratee, accumulator) {
                            baseEach(collection, function(value, key, collection) {
                                setter(accumulator, value, iteratee(value), collection)
                            });
                            return accumulator
                        }

                        function baseAssign(object, source) {
                            return object && copyObject(source, keys(source), object)
                        }

                        function baseAssignIn(object, source) {
                            return object && copyObject(source, keysIn(source), object)
                        }

                        function baseAssignValue(object, key, value) {
                            if (key == "__proto__" && defineProperty) {
                                defineProperty(object, key, {
                                    configurable: true,
                                    enumerable: true,
                                    value: value,
                                    writable: true
                                })
                            } else {
                                object[key] = value
                            }
                        }

                        function baseAt(object, paths) {
                            var index = -1,
                                length = paths.length,
                                result = Array(length),
                                skip = object == null;
                            while (++index < length) {
                                result[index] = skip ? undefined : get(object, paths[index])
                            }
                            return result
                        }

                        function baseClamp(number, lower, upper) {
                            if (number === number) {
                                if (upper !== undefined) {
                                    number = number <= upper ? number : upper
                                }
                                if (lower !== undefined) {
                                    number = number >= lower ? number : lower
                                }
                            }
                            return number
                        }

                        function baseClone(value, bitmask, customizer, key, object, stack) {
                            var result, isDeep = bitmask & CLONE_DEEP_FLAG,
                                isFlat = bitmask & CLONE_FLAT_FLAG,
                                isFull = bitmask & CLONE_SYMBOLS_FLAG;
                            if (customizer) {
                                result = object ? customizer(value, key, object, stack) : customizer(value)
                            }
                            if (result !== undefined) {
                                return result
                            }
                            if (!isObject(value)) {
                                return value
                            }
                            var isArr = isArray(value);
                            if (isArr) {
                                result = initCloneArray(value);
                                if (!isDeep) {
                                    return copyArray(value, result)
                                }
                            } else {
                                var tag = getTag(value),
                                    isFunc = tag == funcTag || tag == genTag;
                                if (isBuffer(value)) {
                                    return cloneBuffer(value, isDeep)
                                }
                                if (tag == objectTag || tag == argsTag || isFunc && !object) {
                                    result = isFlat || isFunc ? {} : initCloneObject(value);
                                    if (!isDeep) {
                                        return isFlat ? copySymbolsIn(value, baseAssignIn(result, value)) : copySymbols(value, baseAssign(result, value))
                                    }
                                } else {
                                    if (!cloneableTags[tag]) {
                                        return object ? value : {}
                                    }
                                    result = initCloneByTag(value, tag, isDeep)
                                }
                            }
                            stack || (stack = new Stack);
                            var stacked = stack.get(value);
                            if (stacked) {
                                return stacked
                            }
                            stack.set(value, result);
                            if (isSet(value)) {
                                value.forEach(function(subValue) {
                                    result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack))
                                })
                            } else if (isMap(value)) {
                                value.forEach(function(subValue, key) {
                                    result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack))
                                })
                            }
                            var keysFunc = isFull ? isFlat ? getAllKeysIn : getAllKeys : isFlat ? keysIn : keys;
                            var props = isArr ? undefined : keysFunc(value);
                            arrayEach(props || value, function(subValue, key) {
                                if (props) {
                                    key = subValue;
                                    subValue = value[key]
                                }
                                assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack))
                            });
                            return result
                        }

                        function baseConforms(source) {
                            var props = keys(source);
                            return function(object) {
                                return baseConformsTo(object, source, props)
                            }
                        }

                        function baseConformsTo(object, source, props) {
                            var length = props.length;
                            if (object == null) {
                                return !length
                            }
                            object = Object(object);
                            while (length--) {
                                var key = props[length],
                                    predicate = source[key],
                                    value = object[key];
                                if (value === undefined && !(key in object) || !predicate(value)) {
                                    return false
                                }
                            }
                            return true
                        }

                        function baseDelay(func, wait, args) {
                            if (typeof func != "function") {
                                throw new TypeError(FUNC_ERROR_TEXT)
                            }
                            return setTimeout(function() {
                                func.apply(undefined, args)
                            }, wait)
                        }

                        function baseDifference(array, values, iteratee, comparator) {
                            var index = -1,
                                includes = arrayIncludes,
                                isCommon = true,
                                length = array.length,
                                result = [],
                                valuesLength = values.length;
                            if (!length) {
                                return result
                            }
                            if (iteratee) {
                                values = arrayMap(values, baseUnary(iteratee))
                            }
                            if (comparator) {
                                includes = arrayIncludesWith;
                                isCommon = false
                            } else if (values.length >= LARGE_ARRAY_SIZE) {
                                includes = cacheHas;
                                isCommon = false;
                                values = new SetCache(values)
                            }
                            outer: while (++index < length) {
                                var value = array[index],
                                    computed = iteratee == null ? value : iteratee(value);
                                value = comparator || value !== 0 ? value : 0;
                                if (isCommon && computed === computed) {
                                    var valuesIndex = valuesLength;
                                    while (valuesIndex--) {
                                        if (values[valuesIndex] === computed) {
                                            continue outer
                                        }
                                    }
                                    result.push(value)
                                } else if (!includes(values, computed, comparator)) {
                                    result.push(value)
                                }
                            }
                            return result
                        }
                        var baseEach = createBaseEach(baseForOwn);
                        var baseEachRight = createBaseEach(baseForOwnRight, true);

                        function baseEvery(collection, predicate) {
                            var result = true;
                            baseEach(collection, function(value, index, collection) {
                                result = !!predicate(value, index, collection);
                                return result
                            });
                            return result
                        }

                        function baseExtremum(array, iteratee, comparator) {
                            var index = -1,
                                length = array.length;
                            while (++index < length) {
                                var value = array[index],
                                    current = iteratee(value);
                                if (current != null && (computed === undefined ? current === current && !isSymbol(current) : comparator(current, computed))) {
                                    var computed = current,
                                        result = value
                                }
                            }
                            return result
                        }

                        function baseFill(array, value, start, end) {
                            var length = array.length;
                            start = toInteger(start);
                            if (start < 0) {
                                start = -start > length ? 0 : length + start
                            }
                            end = end === undefined || end > length ? length : toInteger(end);
                            if (end < 0) {
                                end += length
                            }
                            end = start > end ? 0 : toLength(end);
                            while (start < end) {
                                array[start++] = value
                            }
                            return array
                        }

                        function baseFilter(collection, predicate) {
                            var result = [];
                            baseEach(collection, function(value, index, collection) {
                                if (predicate(value, index, collection)) {
                                    result.push(value)
                                }
                            });
                            return result
                        }

                        function baseFlatten(array, depth, predicate, isStrict, result) {
                            var index = -1,
                                length = array.length;
                            predicate || (predicate = isFlattenable);
                            result || (result = []);
                            while (++index < length) {
                                var value = array[index];
                                if (depth > 0 && predicate(value)) {
                                    if (depth > 1) {
                                        baseFlatten(value, depth - 1, predicate, isStrict, result)
                                    } else {
                                        arrayPush(result, value)
                                    }
                                } else if (!isStrict) {
                                    result[result.length] = value
                                }
                            }
                            return result
                        }
                        var baseFor = createBaseFor();
                        var baseForRight = createBaseFor(true);

                        function baseForOwn(object, iteratee) {
                            return object && baseFor(object, iteratee, keys)
                        }

                        function baseForOwnRight(object, iteratee) {
                            return object && baseForRight(object, iteratee, keys)
                        }

                        function baseFunctions(object, props) {
                            return arrayFilter(props, function(key) {
                                return isFunction(object[key])
                            })
                        }

                        function baseGet(object, path) {
                            path = castPath(path, object);
                            var index = 0,
                                length = path.length;
                            while (object != null && index < length) {
                                object = object[toKey(path[index++])]
                            }
                            return index && index == length ? object : undefined
                        }

                        function baseGetAllKeys(object, keysFunc, symbolsFunc) {
                            var result = keysFunc(object);
                            return isArray(object) ? result : arrayPush(result, symbolsFunc(object))
                        }

                        function baseGetTag(value) {
                            if (value == null) {
                                return value === undefined ? undefinedTag : nullTag
                            }
                            return symToStringTag && symToStringTag in Object(value) ? getRawTag(value) : objectToString(value)
                        }

                        function baseGt(value, other) {
                            return value > other
                        }

                        function baseHas(object, key) {
                            return object != null && hasOwnProperty.call(object, key)
                        }

                        function baseHasIn(object, key) {
                            return object != null && key in Object(object)
                        }

                        function baseInRange(number, start, end) {
                            return number >= nativeMin(start, end) && number < nativeMax(start, end)
                        }

                        function baseIntersection(arrays, iteratee, comparator) {
                            var includes = comparator ? arrayIncludesWith : arrayIncludes,
                                length = arrays[0].length,
                                othLength = arrays.length,
                                othIndex = othLength,
                                caches = Array(othLength),
                                maxLength = Infinity,
                                result = [];
                            while (othIndex--) {
                                var array = arrays[othIndex];
                                if (othIndex && iteratee) {
                                    array = arrayMap(array, baseUnary(iteratee))
                                }
                                maxLength = nativeMin(array.length, maxLength);
                                caches[othIndex] = !comparator && (iteratee || length >= 120 && array.length >= 120) ? new SetCache(othIndex && array) : undefined
                            }
                            array = arrays[0];
                            var index = -1,
                                seen = caches[0];
                            outer: while (++index < length && result.length < maxLength) {
                                var value = array[index],
                                    computed = iteratee ? iteratee(value) : value;
                                value = comparator || value !== 0 ? value : 0;
                                if (!(seen ? cacheHas(seen, computed) : includes(result, computed, comparator))) {
                                    othIndex = othLength;
                                    while (--othIndex) {
                                        var cache = caches[othIndex];
                                        if (!(cache ? cacheHas(cache, computed) : includes(arrays[othIndex], computed, comparator))) {
                                            continue outer
                                        }
                                    }
                                    if (seen) {
                                        seen.push(computed)
                                    }
                                    result.push(value)
                                }
                            }
                            return result
                        }

                        function baseInverter(object, setter, iteratee, accumulator) {
                            baseForOwn(object, function(value, key, object) {
                                setter(accumulator, iteratee(value), key, object)
                            });
                            return accumulator
                        }

                        function baseInvoke(object, path, args) {
                            path = castPath(path, object);
                            object = parent(object, path);
                            var func = object == null ? object : object[toKey(last(path))];
                            return func == null ? undefined : apply(func, object, args)
                        }

                        function baseIsArguments(value) {
                            return isObjectLike(value) && baseGetTag(value) == argsTag
                        }

                        function baseIsArrayBuffer(value) {
                            return isObjectLike(value) && baseGetTag(value) == arrayBufferTag
                        }

                        function baseIsDate(value) {
                            return isObjectLike(value) && baseGetTag(value) == dateTag
                        }

                        function baseIsEqual(value, other, bitmask, customizer, stack) {
                            if (value === other) {
                                return true
                            }
                            if (value == null || other == null || !isObjectLike(value) && !isObjectLike(other)) {
                                return value !== value && other !== other
                            }
                            return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack)
                        }

                        function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {
                            var objIsArr = isArray(object),
                                othIsArr = isArray(other),
                                objTag = objIsArr ? arrayTag : getTag(object),
                                othTag = othIsArr ? arrayTag : getTag(other);
                            objTag = objTag == argsTag ? objectTag : objTag;
                            othTag = othTag == argsTag ? objectTag : othTag;
                            var objIsObj = objTag == objectTag,
                                othIsObj = othTag == objectTag,
                                isSameTag = objTag == othTag;
                            if (isSameTag && isBuffer(object)) {
                                if (!isBuffer(other)) {
                                    return false
                                }
                                objIsArr = true;
                                objIsObj = false
                            }
                            if (isSameTag && !objIsObj) {
                                stack || (stack = new Stack);
                                return objIsArr || isTypedArray(object) ? equalArrays(object, other, bitmask, customizer, equalFunc, stack) : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack)
                            }
                            if (!(bitmask & COMPARE_PARTIAL_FLAG)) {
                                var objIsWrapped = objIsObj && hasOwnProperty.call(object, "__wrapped__"),
                                    othIsWrapped = othIsObj && hasOwnProperty.call(other, "__wrapped__");
                                if (objIsWrapped || othIsWrapped) {
                                    var objUnwrapped = objIsWrapped ? object.value() : object,
                                        othUnwrapped = othIsWrapped ? other.value() : other;
                                    stack || (stack = new Stack);
                                    return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack)
                                }
                            }
                            if (!isSameTag) {
                                return false
                            }
                            stack || (stack = new Stack);
                            return equalObjects(object, other, bitmask, customizer, equalFunc, stack)
                        }

                        function baseIsMap(value) {
                            return isObjectLike(value) && getTag(value) == mapTag
                        }

                        function baseIsMatch(object, source, matchData, customizer) {
                            var index = matchData.length,
                                length = index,
                                noCustomizer = !customizer;
                            if (object == null) {
                                return !length
                            }
                            object = Object(object);
                            while (index--) {
                                var data = matchData[index];
                                if (noCustomizer && data[2] ? data[1] !== object[data[0]] : !(data[0] in object)) {
                                    return false
                                }
                            }
                            while (++index < length) {
                                data = matchData[index];
                                var key = data[0],
                                    objValue = object[key],
                                    srcValue = data[1];
                                if (noCustomizer && data[2]) {
                                    if (objValue === undefined && !(key in object)) {
                                        return false
                                    }
                                } else {
                                    var stack = new Stack;
                                    if (customizer) {
                                        var result = customizer(objValue, srcValue, key, object, source, stack)
                                    }
                                    if (!(result === undefined ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack) : result)) {
                                        return false
                                    }
                                }
                            }
                            return true
                        }

                        function baseIsNative(value) {
                            if (!isObject(value) || isMasked(value)) {
                                return false
                            }
                            var pattern = isFunction(value) ? reIsNative : reIsHostCtor;
                            return pattern.test(toSource(value))
                        }

                        function baseIsRegExp(value) {
                            return isObjectLike(value) && baseGetTag(value) == regexpTag
                        }

                        function baseIsSet(value) {
                            return isObjectLike(value) && getTag(value) == setTag
                        }

                        function baseIsTypedArray(value) {
                            return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[baseGetTag(value)]
                        }

                        function baseIteratee(value) {
                            if (typeof value == "function") {
                                return value
                            }
                            if (value == null) {
                                return identity
                            }
                            if (typeof value == "object") {
                                return isArray(value) ? baseMatchesProperty(value[0], value[1]) : baseMatches(value)
                            }
                            return property(value)
                        }

                        function baseKeys(object) {
                            if (!isPrototype(object)) {
                                return nativeKeys(object)
                            }
                            var result = [];
                            for (var key in Object(object)) {
                                if (hasOwnProperty.call(object, key) && key != "constructor") {
                                    result.push(key)
                                }
                            }
                            return result
                        }

                        function baseKeysIn(object) {
                            if (!isObject(object)) {
                                return nativeKeysIn(object)
                            }
                            var isProto = isPrototype(object),
                                result = [];
                            for (var key in object) {
                                if (!(key == "constructor" && (isProto || !hasOwnProperty.call(object, key)))) {
                                    result.push(key)
                                }
                            }
                            return result
                        }

                        function baseLt(value, other) {
                            return value < other
                        }

                        function baseMap(collection, iteratee) {
                            var index = -1,
                                result = isArrayLike(collection) ? Array(collection.length) : [];
                            baseEach(collection, function(value, key, collection) {
                                result[++index] = iteratee(value, key, collection)
                            });
                            return result
                        }

                        function baseMatches(source) {
                            var matchData = getMatchData(source);
                            if (matchData.length == 1 && matchData[0][2]) {
                                return matchesStrictComparable(matchData[0][0], matchData[0][1])
                            }
                            return function(object) {
                                return object === source || baseIsMatch(object, source, matchData)
                            }
                        }

                        function baseMatchesProperty(path, srcValue) {
                            if (isKey(path) && isStrictComparable(srcValue)) {
                                return matchesStrictComparable(toKey(path), srcValue)
                            }
                            return function(object) {
                                var objValue = get(object, path);
                                return objValue === undefined && objValue === srcValue ? hasIn(object, path) : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG)
                            }
                        }

                        function baseMerge(object, source, srcIndex, customizer, stack) {
                            if (object === source) {
                                return
                            }
                            baseFor(source, function(srcValue, key) {
                                stack || (stack = new Stack);
                                if (isObject(srcValue)) {
                                    baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack)
                                } else {
                                    var newValue = customizer ? customizer(safeGet(object, key), srcValue, key + "", object, source, stack) : undefined;
                                    if (newValue === undefined) {
                                        newValue = srcValue
                                    }
                                    assignMergeValue(object, key, newValue)
                                }
                            }, keysIn)
                        }

                        function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {
                            var objValue = safeGet(object, key),
                                srcValue = safeGet(source, key),
                                stacked = stack.get(srcValue);
                            if (stacked) {
                                assignMergeValue(object, key, stacked);
                                return
                            }
                            var newValue = customizer ? customizer(objValue, srcValue, key + "", object, source, stack) : undefined;
                            var isCommon = newValue === undefined;
                            if (isCommon) {
                                var isArr = isArray(srcValue),
                                    isBuff = !isArr && isBuffer(srcValue),
                                    isTyped = !isArr && !isBuff && isTypedArray(srcValue);
                                newValue = srcValue;
                                if (isArr || isBuff || isTyped) {
                                    if (isArray(objValue)) {
                                        newValue = objValue
                                    } else if (isArrayLikeObject(objValue)) {
                                        newValue = copyArray(objValue)
                                    } else if (isBuff) {
                                        isCommon = false;
                                        newValue = cloneBuffer(srcValue, true)
                                    } else if (isTyped) {
                                        isCommon = false;
                                        newValue = cloneTypedArray(srcValue, true)
                                    } else {
                                        newValue = []
                                    }
                                } else if (isPlainObject(srcValue) || isArguments(srcValue)) {
                                    newValue = objValue;
                                    if (isArguments(objValue)) {
                                        newValue = toPlainObject(objValue)
                                    } else if (!isObject(objValue) || isFunction(objValue)) {
                                        newValue = initCloneObject(srcValue)
                                    }
                                } else {
                                    isCommon = false
                                }
                            }
                            if (isCommon) {
                                stack.set(srcValue, newValue);
                                mergeFunc(newValue, srcValue, srcIndex, customizer, stack);
                                stack["delete"](srcValue)
                            }
                            assignMergeValue(object, key, newValue)
                        }

                        function baseNth(array, n) {
                            var length = array.length;
                            if (!length) {
                                return
                            }
                            n += n < 0 ? length : 0;
                            return isIndex(n, length) ? array[n] : undefined
                        }

                        function baseOrderBy(collection, iteratees, orders) {
                            if (iteratees.length) {
                                iteratees = arrayMap(iteratees, function(iteratee) {
                                    if (isArray(iteratee)) {
                                        return function(value) {
                                            return baseGet(value, iteratee.length === 1 ? iteratee[0] : iteratee)
                                        }
                                    }
                                    return iteratee
                                })
                            } else {
                                iteratees = [identity]
                            }
                            var index = -1;
                            iteratees = arrayMap(iteratees, baseUnary(getIteratee()));
                            var result = baseMap(collection, function(value, key, collection) {
                                var criteria = arrayMap(iteratees, function(iteratee) {
                                    return iteratee(value)
                                });
                                return {
                                    criteria: criteria,
                                    index: ++index,
                                    value: value
                                }
                            });
                            return baseSortBy(result, function(object, other) {
                                return compareMultiple(object, other, orders)
                            })
                        }

                        function basePick(object, paths) {
                            return basePickBy(object, paths, function(value, path) {
                                return hasIn(object, path)
                            })
                        }

                        function basePickBy(object, paths, predicate) {
                            var index = -1,
                                length = paths.length,
                                result = {};
                            while (++index < length) {
                                var path = paths[index],
                                    value = baseGet(object, path);
                                if (predicate(value, path)) {
                                    baseSet(result, castPath(path, object), value)
                                }
                            }
                            return result
                        }

                        function basePropertyDeep(path) {
                            return function(object) {
                                return baseGet(object, path)
                            }
                        }

                        function basePullAll(array, values, iteratee, comparator) {
                            var indexOf = comparator ? baseIndexOfWith : baseIndexOf,
                                index = -1,
                                length = values.length,
                                seen = array;
                            if (array === values) {
                                values = copyArray(values)
                            }
                            if (iteratee) {
                                seen = arrayMap(array, baseUnary(iteratee))
                            }
                            while (++index < length) {
                                var fromIndex = 0,
                                    value = values[index],
                                    computed = iteratee ? iteratee(value) : value;
                                while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {
                                    if (seen !== array) {
                                        splice.call(seen, fromIndex, 1)
                                    }
                                    splice.call(array, fromIndex, 1)
                                }
                            }
                            return array
                        }

                        function basePullAt(array, indexes) {
                            var length = array ? indexes.length : 0,
                                lastIndex = length - 1;
                            while (length--) {
                                var index = indexes[length];
                                if (length == lastIndex || index !== previous) {
                                    var previous = index;
                                    if (isIndex(index)) {
                                        splice.call(array, index, 1)
                                    } else {
                                        baseUnset(array, index)
                                    }
                                }
                            }
                            return array
                        }

                        function baseRandom(lower, upper) {
                            return lower + nativeFloor(nativeRandom() * (upper - lower + 1))
                        }

                        function baseRange(start, end, step, fromRight) {
                            var index = -1,
                                length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),
                                result = Array(length);
                            while (length--) {
                                result[fromRight ? length : ++index] = start;
                                start += step
                            }
                            return result
                        }

                        function baseRepeat(string, n) {
                            var result = "";
                            if (!string || n < 1 || n > MAX_SAFE_INTEGER) {
                                return result
                            }
                            do {
                                if (n % 2) {
                                    result += string
                                }
                                n = nativeFloor(n / 2);
                                if (n) {
                                    string += string
                                }
                            } while (n);
                            return result
                        }

                        function baseRest(func, start) {
                            return setToString(overRest(func, start, identity), func + "")
                        }

                        function baseSample(collection) {
                            return arraySample(values(collection))
                        }

                        function baseSampleSize(collection, n) {
                            var array = values(collection);
                            return shuffleSelf(array, baseClamp(n, 0, array.length))
                        }

                        function baseSet(object, path, value, customizer) {
                            if (!isObject(object)) {
                                return object
                            }
                            path = castPath(path, object);
                            var index = -1,
                                length = path.length,
                                lastIndex = length - 1,
                                nested = object;
                            while (nested != null && ++index < length) {
                                var key = toKey(path[index]),
                                    newValue = value;
                                if (key === "__proto__" || key === "constructor" || key === "prototype") {
                                    return object
                                }
                                if (index != lastIndex) {
                                    var objValue = nested[key];
                                    newValue = customizer ? customizer(objValue, key, nested) : undefined;
                                    if (newValue === undefined) {
                                        newValue = isObject(objValue) ? objValue : isIndex(path[index + 1]) ? [] : {}
                                    }
                                }
                                assignValue(nested, key, newValue);
                                nested = nested[key]
                            }
                            return object
                        }
                        var baseSetData = !metaMap ? identity : function(func, data) {
                            metaMap.set(func, data);
                            return func
                        };
                        var baseSetToString = !defineProperty ? identity : function(func, string) {
                            return defineProperty(func, "toString", {
                                configurable: true,
                                enumerable: false,
                                value: constant(string),
                                writable: true
                            })
                        };

                        function baseShuffle(collection) {
                            return shuffleSelf(values(collection))
                        }

                        function baseSlice(array, start, end) {
                            var index = -1,
                                length = array.length;
                            if (start < 0) {
                                start = -start > length ? 0 : length + start
                            }
                            end = end > length ? length : end;
                            if (end < 0) {
                                end += length
                            }
                            length = start > end ? 0 : end - start >>> 0;
                            start >>>= 0;
                            var result = Array(length);
                            while (++index < length) {
                                result[index] = array[index + start]
                            }
                            return result
                        }

                        function baseSome(collection, predicate) {
                            var result;
                            baseEach(collection, function(value, index, collection) {
                                result = predicate(value, index, collection);
                                return !result
                            });
                            return !!result
                        }

                        function baseSortedIndex(array, value, retHighest) {
                            var low = 0,
                                high = array == null ? low : array.length;
                            if (typeof value == "number" && value === value && high <= HALF_MAX_ARRAY_LENGTH) {
                                while (low < high) {
                                    var mid = low + high >>> 1,
                                        computed = array[mid];
                                    if (computed !== null && !isSymbol(computed) && (retHighest ? computed <= value : computed < value)) {
                                        low = mid + 1
                                    } else {
                                        high = mid
                                    }
                                }
                                return high
                            }
                            return baseSortedIndexBy(array, value, identity, retHighest)
                        }

                        function baseSortedIndexBy(array, value, iteratee, retHighest) {
                            var low = 0,
                                high = array == null ? 0 : array.length;
                            if (high === 0) {
                                return 0
                            }
                            value = iteratee(value);
                            var valIsNaN = value !== value,
                                valIsNull = value === null,
                                valIsSymbol = isSymbol(value),
                                valIsUndefined = value === undefined;
                            while (low < high) {
                                var mid = nativeFloor((low + high) / 2),
                                    computed = iteratee(array[mid]),
                                    othIsDefined = computed !== undefined,
                                    othIsNull = computed === null,
                                    othIsReflexive = computed === computed,
                                    othIsSymbol = isSymbol(computed);
                                if (valIsNaN) {
                                    var setLow = retHighest || othIsReflexive
                                } else if (valIsUndefined) {
                                    setLow = othIsReflexive && (retHighest || othIsDefined)
                                } else if (valIsNull) {
                                    setLow = othIsReflexive && othIsDefined && (retHighest || !othIsNull)
                                } else if (valIsSymbol) {
                                    setLow = othIsReflexive && othIsDefined && !othIsNull && (retHighest || !othIsSymbol)
                                } else if (othIsNull || othIsSymbol) {
                                    setLow = false
                                } else {
                                    setLow = retHighest ? computed <= value : computed < value
                                }
                                if (setLow) {
                                    low = mid + 1
                                } else {
                                    high = mid
                                }
                            }
                            return nativeMin(high, MAX_ARRAY_INDEX)
                        }

                        function baseSortedUniq(array, iteratee) {
                            var index = -1,
                                length = array.length,
                                resIndex = 0,
                                result = [];
                            while (++index < length) {
                                var value = array[index],
                                    computed = iteratee ? iteratee(value) : value;
                                if (!index || !eq(computed, seen)) {
                                    var seen = computed;
                                    result[resIndex++] = value === 0 ? 0 : value
                                }
                            }
                            return result
                        }

                        function baseToNumber(value) {
                            if (typeof value == "number") {
                                return value
                            }
                            if (isSymbol(value)) {
                                return NAN
                            }
                            return +value
                        }

                        function baseToString(value) {
                            if (typeof value == "string") {
                                return value
                            }
                            if (isArray(value)) {
                                return arrayMap(value, baseToString) + ""
                            }
                            if (isSymbol(value)) {
                                return symbolToString ? symbolToString.call(value) : ""
                            }
                            var result = value + "";
                            return result == "0" && 1 / value == -INFINITY ? "-0" : result
                        }

                        function baseUniq(array, iteratee, comparator) {
                            var index = -1,
                                includes = arrayIncludes,
                                length = array.length,
                                isCommon = true,
                                result = [],
                                seen = result;
                            if (comparator) {
                                isCommon = false;
                                includes = arrayIncludesWith
                            } else if (length >= LARGE_ARRAY_SIZE) {
                                var set = iteratee ? null : createSet(array);
                                if (set) {
                                    return setToArray(set)
                                }
                                isCommon = false;
                                includes = cacheHas;
                                seen = new SetCache
                            } else {
                                seen = iteratee ? [] : result
                            }
                            outer: while (++index < length) {
                                var value = array[index],
                                    computed = iteratee ? iteratee(value) : value;
                                value = comparator || value !== 0 ? value : 0;
                                if (isCommon && computed === computed) {
                                    var seenIndex = seen.length;
                                    while (seenIndex--) {
                                        if (seen[seenIndex] === computed) {
                                            continue outer
                                        }
                                    }
                                    if (iteratee) {
                                        seen.push(computed)
                                    }
                                    result.push(value)
                                } else if (!includes(seen, computed, comparator)) {
                                    if (seen !== result) {
                                        seen.push(computed)
                                    }
                                    result.push(value)
                                }
                            }
                            return result
                        }

                        function baseUnset(object, path) {
                            path = castPath(path, object);
                            object = parent(object, path);
                            return object == null || delete object[toKey(last(path))]
                        }

                        function baseUpdate(object, path, updater, customizer) {
                            return baseSet(object, path, updater(baseGet(object, path)), customizer)
                        }

                        function baseWhile(array, predicate, isDrop, fromRight) {
                            var length = array.length,
                                index = fromRight ? length : -1;
                            while ((fromRight ? index-- : ++index < length) && predicate(array[index], index, array)) {}
                            return isDrop ? baseSlice(array, fromRight ? 0 : index, fromRight ? index + 1 : length) : baseSlice(array, fromRight ? index + 1 : 0, fromRight ? length : index)
                        }

                        function baseWrapperValue(value, actions) {
                            var result = value;
                            if (result instanceof LazyWrapper) {
                                result = result.value()
                            }
                            return arrayReduce(actions, function(result, action) {
                                return action.func.apply(action.thisArg, arrayPush([result], action.args))
                            }, result)
                        }

                        function baseXor(arrays, iteratee, comparator) {
                            var length = arrays.length;
                            if (length < 2) {
                                return length ? baseUniq(arrays[0]) : []
                            }
                            var index = -1,
                                result = Array(length);
                            while (++index < length) {
                                var array = arrays[index],
                                    othIndex = -1;
                                while (++othIndex < length) {
                                    if (othIndex != index) {
                                        result[index] = baseDifference(result[index] || array, arrays[othIndex], iteratee, comparator)
                                    }
                                }
                            }
                            return baseUniq(baseFlatten(result, 1), iteratee, comparator)
                        }

                        function baseZipObject(props, values, assignFunc) {
                            var index = -1,
                                length = props.length,
                                valsLength = values.length,
                                result = {};
                            while (++index < length) {
                                var value = index < valsLength ? values[index] : undefined;
                                assignFunc(result, props[index], value)
                            }
                            return result
                        }

                        function castArrayLikeObject(value) {
                            return isArrayLikeObject(value) ? value : []
                        }

                        function castFunction(value) {
                            return typeof value == "function" ? value : identity
                        }

                        function castPath(value, object) {
                            if (isArray(value)) {
                                return value
                            }
                            return isKey(value, object) ? [value] : stringToPath(toString(value))
                        }
                        var castRest = baseRest;

                        function castSlice(array, start, end) {
                            var length = array.length;
                            end = end === undefined ? length : end;
                            return !start && end >= length ? array : baseSlice(array, start, end)
                        }
                        var clearTimeout = ctxClearTimeout || function(id) {
                            return root.clearTimeout(id)
                        };

                        function cloneBuffer(buffer, isDeep) {
                            if (isDeep) {
                                return buffer.slice()
                            }
                            var length = buffer.length,
                                result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);
                            buffer.copy(result);
                            return result
                        }

                        function cloneArrayBuffer(arrayBuffer) {
                            var result = new arrayBuffer.constructor(arrayBuffer.byteLength);
                            new Uint8Array(result).set(new Uint8Array(arrayBuffer));
                            return result
                        }

                        function cloneDataView(dataView, isDeep) {
                            var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;
                            return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength)
                        }

                        function cloneRegExp(regexp) {
                            var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));
                            result.lastIndex = regexp.lastIndex;
                            return result
                        }

                        function cloneSymbol(symbol) {
                            return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {}
                        }

                        function cloneTypedArray(typedArray, isDeep) {
                            var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;
                            return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length)
                        }

                        function compareAscending(value, other) {
                            if (value !== other) {
                                var valIsDefined = value !== undefined,
                                    valIsNull = value === null,
                                    valIsReflexive = value === value,
                                    valIsSymbol = isSymbol(value);
                                var othIsDefined = other !== undefined,
                                    othIsNull = other === null,
                                    othIsReflexive = other === other,
                                    othIsSymbol = isSymbol(other);
                                if (!othIsNull && !othIsSymbol && !valIsSymbol && value > other || valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol || valIsNull && othIsDefined && othIsReflexive || !valIsDefined && othIsReflexive || !valIsReflexive) {
                                    return 1
                                }
                                if (!valIsNull && !valIsSymbol && !othIsSymbol && value < other || othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol || othIsNull && valIsDefined && valIsReflexive || !othIsDefined && valIsReflexive || !othIsReflexive) {
                                    return -1
                                }
                            }
                            return 0
                        }

                        function compareMultiple(object, other, orders) {
                            var index = -1,
                                objCriteria = object.criteria,
                                othCriteria = other.criteria,
                                length = objCriteria.length,
                                ordersLength = orders.length;
                            while (++index < length) {
                                var result = compareAscending(objCriteria[index], othCriteria[index]);
                                if (result) {
                                    if (index >= ordersLength) {
                                        return result
                                    }
                                    var order = orders[index];
                                    return result * (order == "desc" ? -1 : 1)
                                }
                            }
                            return object.index - other.index
                        }

                        function composeArgs(args, partials, holders, isCurried) {
                            var argsIndex = -1,
                                argsLength = args.length,
                                holdersLength = holders.length,
                                leftIndex = -1,
                                leftLength = partials.length,
                                rangeLength = nativeMax(argsLength - holdersLength, 0),
                                result = Array(leftLength + rangeLength),
                                isUncurried = !isCurried;
                            while (++leftIndex < leftLength) {
                                result[leftIndex] = partials[leftIndex]
                            }
                            while (++argsIndex < holdersLength) {
                                if (isUncurried || argsIndex < argsLength) {
                                    result[holders[argsIndex]] = args[argsIndex]
                                }
                            }
                            while (rangeLength--) {
                                result[leftIndex++] = args[argsIndex++]
                            }
                            return result
                        }

                        function composeArgsRight(args, partials, holders, isCurried) {
                            var argsIndex = -1,
                                argsLength = args.length,
                                holdersIndex = -1,
                                holdersLength = holders.length,
                                rightIndex = -1,
                                rightLength = partials.length,
                                rangeLength = nativeMax(argsLength - holdersLength, 0),
                                result = Array(rangeLength + rightLength),
                                isUncurried = !isCurried;
                            while (++argsIndex < rangeLength) {
                                result[argsIndex] = args[argsIndex]
                            }
                            var offset = argsIndex;
                            while (++rightIndex < rightLength) {
                                result[offset + rightIndex] = partials[rightIndex]
                            }
                            while (++holdersIndex < holdersLength) {
                                if (isUncurried || argsIndex < argsLength) {
                                    result[offset + holders[holdersIndex]] = args[argsIndex++]
                                }
                            }
                            return result
                        }

                        function copyArray(source, array) {
                            var index = -1,
                                length = source.length;
                            array || (array = Array(length));
                            while (++index < length) {
                                array[index] = source[index]
                            }
                            return array
                        }

                        function copyObject(source, props, object, customizer) {
                            var isNew = !object;
                            object || (object = {});
                            var index = -1,
                                length = props.length;
                            while (++index < length) {
                                var key = props[index];
                                var newValue = customizer ? customizer(object[key], source[key], key, object, source) : undefined;
                                if (newValue === undefined) {
                                    newValue = source[key]
                                }
                                if (isNew) {
                                    baseAssignValue(object, key, newValue)
                                } else {
                                    assignValue(object, key, newValue)
                                }
                            }
                            return object
                        }

                        function copySymbols(source, object) {
                            return copyObject(source, getSymbols(source), object)
                        }

                        function copySymbolsIn(source, object) {
                            return copyObject(source, getSymbolsIn(source), object)
                        }

                        function createAggregator(setter, initializer) {
                            return function(collection, iteratee) {
                                var func = isArray(collection) ? arrayAggregator : baseAggregator,
                                    accumulator = initializer ? initializer() : {};
                                return func(collection, setter, getIteratee(iteratee, 2), accumulator)
                            }
                        }

                        function createAssigner(assigner) {
                            return baseRest(function(object, sources) {
                                var index = -1,
                                    length = sources.length,
                                    customizer = length > 1 ? sources[length - 1] : undefined,
                                    guard = length > 2 ? sources[2] : undefined;
                                customizer = assigner.length > 3 && typeof customizer == "function" ? (length--, customizer) : undefined;
                                if (guard && isIterateeCall(sources[0], sources[1], guard)) {
                                    customizer = length < 3 ? undefined : customizer;
                                    length = 1
                                }
                                object = Object(object);
                                while (++index < length) {
                                    var source = sources[index];
                                    if (source) {
                                        assigner(object, source, index, customizer)
                                    }
                                }
                                return object
                            })
                        }

                        function createBaseEach(eachFunc, fromRight) {
                            return function(collection, iteratee) {
                                if (collection == null) {
                                    return collection
                                }
                                if (!isArrayLike(collection)) {
                                    return eachFunc(collection, iteratee)
                                }
                                var length = collection.length,
                                    index = fromRight ? length : -1,
                                    iterable = Object(collection);
                                while (fromRight ? index-- : ++index < length) {
                                    if (iteratee(iterable[index], index, iterable) === false) {
                                        break
                                    }
                                }
                                return collection
                            }
                        }

                        function createBaseFor(fromRight) {
                            return function(object, iteratee, keysFunc) {
                                var index = -1,
                                    iterable = Object(object),
                                    props = keysFunc(object),
                                    length = props.length;
                                while (length--) {
                                    var key = props[fromRight ? length : ++index];
                                    if (iteratee(iterable[key], key, iterable) === false) {
                                        break
                                    }
                                }
                                return object
                            }
                        }

                        function createBind(func, bitmask, thisArg) {
                            var isBind = bitmask & WRAP_BIND_FLAG,
                                Ctor = createCtor(func);

                            function wrapper() {
                                var fn = this && this !== root && this instanceof wrapper ? Ctor : func;
                                return fn.apply(isBind ? thisArg : this, arguments)
                            }
                            return wrapper
                        }

                        function createCaseFirst(methodName) {
                            return function(string) {
                                string = toString(string);
                                var strSymbols = hasUnicode(string) ? stringToArray(string) : undefined;
                                var chr = strSymbols ? strSymbols[0] : string.charAt(0);
                                var trailing = strSymbols ? castSlice(strSymbols, 1).join("") : string.slice(1);
                                return chr[methodName]() + trailing
                            }
                        }

                        function createCompounder(callback) {
                            return function(string) {
                                return arrayReduce(words(deburr(string).replace(reApos, "")), callback, "")
                            }
                        }

                        function createCtor(Ctor) {
                            return function() {
                                var args = arguments;
                                switch (args.length) {
                                    case 0:
                                        return new Ctor;
                                    case 1:
                                        return new Ctor(args[0]);
                                    case 2:
                                        return new Ctor(args[0], args[1]);
                                    case 3:
                                        return new Ctor(args[0], args[1], args[2]);
                                    case 4:
                                        return new Ctor(args[0], args[1], args[2], args[3]);
                                    case 5:
                                        return new Ctor(args[0], args[1], args[2], args[3], args[4]);
                                    case 6:
                                        return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);
                                    case 7:
                                        return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6])
                                }
                                var thisBinding = baseCreate(Ctor.prototype),
                                    result = Ctor.apply(thisBinding, args);
                                return isObject(result) ? result : thisBinding
                            }
                        }

                        function createCurry(func, bitmask, arity) {
                            var Ctor = createCtor(func);

                            function wrapper() {
                                var length = arguments.length,
                                    args = Array(length),
                                    index = length,
                                    placeholder = getHolder(wrapper);
                                while (index--) {
                                    args[index] = arguments[index]
                                }
                                var holders = length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder ? [] : replaceHolders(args, placeholder);
                                length -= holders.length;
                                if (length < arity) {
                                    return createRecurry(func, bitmask, createHybrid, wrapper.placeholder, undefined, args, holders, undefined, undefined, arity - length)
                                }
                                var fn = this && this !== root && this instanceof wrapper ? Ctor : func;
                                return apply(fn, this, args)
                            }
                            return wrapper
                        }

                        function createFind(findIndexFunc) {
                            return function(collection, predicate, fromIndex) {
                                var iterable = Object(collection);
                                if (!isArrayLike(collection)) {
                                    var iteratee = getIteratee(predicate, 3);
                                    collection = keys(collection);
                                    predicate = function(key) {
                                        return iteratee(iterable[key], key, iterable)
                                    }
                                }
                                var index = findIndexFunc(collection, predicate, fromIndex);
                                return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined
                            }
                        }

                        function createFlow(fromRight) {
                            return flatRest(function(funcs) {
                                var length = funcs.length,
                                    index = length,
                                    prereq = LodashWrapper.prototype.thru;
                                if (fromRight) {
                                    funcs.reverse()
                                }
                                while (index--) {
                                    var func = funcs[index];
                                    if (typeof func != "function") {
                                        throw new TypeError(FUNC_ERROR_TEXT)
                                    }
                                    if (prereq && !wrapper && getFuncName(func) == "wrapper") {
                                        var wrapper = new LodashWrapper([], true)
                                    }
                                }
                                index = wrapper ? index : length;
                                while (++index < length) {
                                    func = funcs[index];
                                    var funcName = getFuncName(func),
                                        data = funcName == "wrapper" ? getData(func) : undefined;
                                    if (data && isLaziable(data[0]) && data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) && !data[4].length && data[9] == 1) {
                                        wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3])
                                    } else {
                                        wrapper = func.length == 1 && isLaziable(func) ? wrapper[funcName]() : wrapper.thru(func)
                                    }
                                }
                                return function() {
                                    var args = arguments,
                                        value = args[0];
                                    if (wrapper && args.length == 1 && isArray(value)) {
                                        return wrapper.plant(value).value()
                                    }
                                    var index = 0,
                                        result = length ? funcs[index].apply(this, args) : value;
                                    while (++index < length) {
                                        result = funcs[index].call(this, result)
                                    }
                                    return result
                                }
                            })
                        }

                        function createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {
                            var isAry = bitmask & WRAP_ARY_FLAG,
                                isBind = bitmask & WRAP_BIND_FLAG,
                                isBindKey = bitmask & WRAP_BIND_KEY_FLAG,
                                isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),
                                isFlip = bitmask & WRAP_FLIP_FLAG,
                                Ctor = isBindKey ? undefined : createCtor(func);

                            function wrapper() {
                                var length = arguments.length,
                                    args = Array(length),
                                    index = length;
                                while (index--) {
                                    args[index] = arguments[index]
                                }
                                if (isCurried) {
                                    var placeholder = getHolder(wrapper),
                                        holdersCount = countHolders(args, placeholder)
                                }
                                if (partials) {
                                    args = composeArgs(args, partials, holders, isCurried)
                                }
                                if (partialsRight) {
                                    args = composeArgsRight(args, partialsRight, holdersRight, isCurried)
                                }
                                length -= holdersCount;
                                if (isCurried && length < arity) {
                                    var newHolders = replaceHolders(args, placeholder);
                                    return createRecurry(func, bitmask, createHybrid, wrapper.placeholder, thisArg, args, newHolders, argPos, ary, arity - length)
                                }
                                var thisBinding = isBind ? thisArg : this,
                                    fn = isBindKey ? thisBinding[func] : func;
                                length = args.length;
                                if (argPos) {
                                    args = reorder(args, argPos)
                                } else if (isFlip && length > 1) {
                                    args.reverse()
                                }
                                if (isAry && ary < length) {
                                    args.length = ary
                                }
                                if (this && this !== root && this instanceof wrapper) {
                                    fn = Ctor || createCtor(fn)
                                }
                                return fn.apply(thisBinding, args)
                            }
                            return wrapper
                        }

                        function createInverter(setter, toIteratee) {
                            return function(object, iteratee) {
                                return baseInverter(object, setter, toIteratee(iteratee), {})
                            }
                        }

                        function createMathOperation(operator, defaultValue) {
                            return function(value, other) {
                                var result;
                                if (value === undefined && other === undefined) {
                                    return defaultValue
                                }
                                if (value !== undefined) {
                                    result = value
                                }
                                if (other !== undefined) {
                                    if (result === undefined) {
                                        return other
                                    }
                                    if (typeof value == "string" || typeof other == "string") {
                                        value = baseToString(value);
                                        other = baseToString(other)
                                    } else {
                                        value = baseToNumber(value);
                                        other = baseToNumber(other)
                                    }
                                    result = operator(value, other)
                                }
                                return result
                            }
                        }

                        function createOver(arrayFunc) {
                            return flatRest(function(iteratees) {
                                iteratees = arrayMap(iteratees, baseUnary(getIteratee()));
                                return baseRest(function(args) {
                                    var thisArg = this;
                                    return arrayFunc(iteratees, function(iteratee) {
                                        return apply(iteratee, thisArg, args)
                                    })
                                })
                            })
                        }

                        function createPadding(length, chars) {
                            chars = chars === undefined ? " " : baseToString(chars);
                            var charsLength = chars.length;
                            if (charsLength < 2) {
                                return charsLength ? baseRepeat(chars, length) : chars
                            }
                            var result = baseRepeat(chars, nativeCeil(length / stringSize(chars)));
                            return hasUnicode(chars) ? castSlice(stringToArray(result), 0, length).join("") : result.slice(0, length)
                        }

                        function createPartial(func, bitmask, thisArg, partials) {
                            var isBind = bitmask & WRAP_BIND_FLAG,
                                Ctor = createCtor(func);

                            function wrapper() {
                                var argsIndex = -1,
                                    argsLength = arguments.length,
                                    leftIndex = -1,
                                    leftLength = partials.length,
                                    args = Array(leftLength + argsLength),
                                    fn = this && this !== root && this instanceof wrapper ? Ctor : func;
                                while (++leftIndex < leftLength) {
                                    args[leftIndex] = partials[leftIndex]
                                }
                                while (argsLength--) {
                                    args[leftIndex++] = arguments[++argsIndex]
                                }
                                return apply(fn, isBind ? thisArg : this, args)
                            }
                            return wrapper
                        }

                        function createRange(fromRight) {
                            return function(start, end, step) {
                                if (step && typeof step != "number" && isIterateeCall(start, end, step)) {
                                    end = step = undefined
                                }
                                start = toFinite(start);
                                if (end === undefined) {
                                    end = start;
                                    start = 0
                                } else {
                                    end = toFinite(end)
                                }
                                step = step === undefined ? start < end ? 1 : -1 : toFinite(step);
                                return baseRange(start, end, step, fromRight)
                            }
                        }

                        function createRelationalOperation(operator) {
                            return function(value, other) {
                                if (!(typeof value == "string" && typeof other == "string")) {
                                    value = toNumber(value);
                                    other = toNumber(other)
                                }
                                return operator(value, other)
                            }
                        }

                        function createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {
                            var isCurry = bitmask & WRAP_CURRY_FLAG,
                                newHolders = isCurry ? holders : undefined,
                                newHoldersRight = isCurry ? undefined : holders,
                                newPartials = isCurry ? partials : undefined,
                                newPartialsRight = isCurry ? undefined : partials;
                            bitmask |= isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG;
                            bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);
                            if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {
                                bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG)
                            }
                            var newData = [func, bitmask, thisArg, newPartials, newHolders, newPartialsRight, newHoldersRight, argPos, ary, arity];
                            var result = wrapFunc.apply(undefined, newData);
                            if (isLaziable(func)) {
                                setData(result, newData)
                            }
                            result.placeholder = placeholder;
                            return setWrapToString(result, func, bitmask)
                        }

                        function createRound(methodName) {
                            var func = Math[methodName];
                            return function(number, precision) {
                                number = toNumber(number);
                                precision = precision == null ? 0 : nativeMin(toInteger(precision), 292);
                                if (precision && nativeIsFinite(number)) {
                                    var pair = (toString(number) + "e").split("e"),
                                        value = func(pair[0] + "e" + (+pair[1] + precision));
                                    pair = (toString(value) + "e").split("e");
                                    return +(pair[0] + "e" + (+pair[1] - precision))
                                }
                                return func(number)
                            }
                        }
                        var createSet = !(Set && 1 / setToArray(new Set([, -0]))[1] == INFINITY) ? noop : function(values) {
                            return new Set(values)
                        };

                        function createToPairs(keysFunc) {
                            return function(object) {
                                var tag = getTag(object);
                                if (tag == mapTag) {
                                    return mapToArray(object)
                                }
                                if (tag == setTag) {
                                    return setToPairs(object)
                                }
                                return baseToPairs(object, keysFunc(object))
                            }
                        }

                        function createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {
                            var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;
                            if (!isBindKey && typeof func != "function") {
                                throw new TypeError(FUNC_ERROR_TEXT)
                            }
                            var length = partials ? partials.length : 0;
                            if (!length) {
                                bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);
                                partials = holders = undefined
                            }
                            ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);
                            arity = arity === undefined ? arity : toInteger(arity);
                            length -= holders ? holders.length : 0;
                            if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {
                                var partialsRight = partials,
                                    holdersRight = holders;
                                partials = holders = undefined
                            }
                            var data = isBindKey ? undefined : getData(func);
                            var newData = [func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity];
                            if (data) {
                                mergeData(newData, data)
                            }
                            func = newData[0];
                            bitmask = newData[1];
                            thisArg = newData[2];
                            partials = newData[3];
                            holders = newData[4];
                            arity = newData[9] = newData[9] === undefined ? isBindKey ? 0 : func.length : nativeMax(newData[9] - length, 0);
                            if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {
                                bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)
                            }
                            if (!bitmask || bitmask == WRAP_BIND_FLAG) {
                                var result = createBind(func, bitmask, thisArg)
                            } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {
                                result = createCurry(func, bitmask, arity)
                            } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {
                                result = createPartial(func, bitmask, thisArg, partials)
                            } else {
                                result = createHybrid.apply(undefined, newData)
                            }
                            var setter = data ? baseSetData : setData;
                            return setWrapToString(setter(result, newData), func, bitmask)
                        }

                        function customDefaultsAssignIn(objValue, srcValue, key, object) {
                            if (objValue === undefined || eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key)) {
                                return srcValue
                            }
                            return objValue
                        }

                        function customDefaultsMerge(objValue, srcValue, key, object, source, stack) {
                            if (isObject(objValue) && isObject(srcValue)) {
                                stack.set(srcValue, objValue);
                                baseMerge(objValue, srcValue, undefined, customDefaultsMerge, stack);
                                stack["delete"](srcValue)
                            }
                            return objValue
                        }

                        function customOmitClone(value) {
                            return isPlainObject(value) ? undefined : value
                        }

                        function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {
                            var isPartial = bitmask & COMPARE_PARTIAL_FLAG,
                                arrLength = array.length,
                                othLength = other.length;
                            if (arrLength != othLength && !(isPartial && othLength > arrLength)) {
                                return false
                            }
                            var arrStacked = stack.get(array);
                            var othStacked = stack.get(other);
                            if (arrStacked && othStacked) {
                                return arrStacked == other && othStacked == array
                            }
                            var index = -1,
                                result = true,
                                seen = bitmask & COMPARE_UNORDERED_FLAG ? new SetCache : undefined;
                            stack.set(array, other);
                            stack.set(other, array);
                            while (++index < arrLength) {
                                var arrValue = array[index],
                                    othValue = other[index];
                                if (customizer) {
                                    var compared = isPartial ? customizer(othValue, arrValue, index, other, array, stack) : customizer(arrValue, othValue, index, array, other, stack)
                                }
                                if (compared !== undefined) {
                                    if (compared) {
                                        continue
                                    }
                                    result = false;
                                    break
                                }
                                if (seen) {
                                    if (!arraySome(other, function(othValue, othIndex) {
                                            if (!cacheHas(seen, othIndex) && (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {
                                                return seen.push(othIndex)
                                            }
                                        })) {
                                        result = false;
                                        break
                                    }
                                } else if (!(arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {
                                    result = false;
                                    break
                                }
                            }
                            stack["delete"](array);
                            stack["delete"](other);
                            return result
                        }

                        function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {
                            switch (tag) {
                                case dataViewTag:
                                    if (object.byteLength != other.byteLength || object.byteOffset != other.byteOffset) {
                                        return false
                                    }
                                    object = object.buffer;
                                    other = other.buffer;
                                case arrayBufferTag:
                                    if (object.byteLength != other.byteLength || !equalFunc(new Uint8Array(object), new Uint8Array(other))) {
                                        return false
                                    }
                                    return true;
                                case boolTag:
                                case dateTag:
                                case numberTag:
                                    return eq(+object, +other);
                                case errorTag:
                                    return object.name == other.name && object.message == other.message;
                                case regexpTag:
                                case stringTag:
                                    return object == other + "";
                                case mapTag:
                                    var convert = mapToArray;
                                case setTag:
                                    var isPartial = bitmask & COMPARE_PARTIAL_FLAG;
                                    convert || (convert = setToArray);
                                    if (object.size != other.size && !isPartial) {
                                        return false
                                    }
                                    var stacked = stack.get(object);
                                    if (stacked) {
                                        return stacked == other
                                    }
                                    bitmask |= COMPARE_UNORDERED_FLAG;
                                    stack.set(object, other);
                                    var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);
                                    stack["delete"](object);
                                    return result;
                                case symbolTag:
                                    if (symbolValueOf) {
                                        return symbolValueOf.call(object) == symbolValueOf.call(other)
                                    }
                            }
                            return false
                        }

                        function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {
                            var isPartial = bitmask & COMPARE_PARTIAL_FLAG,
                                objProps = getAllKeys(object),
                                objLength = objProps.length,
                                othProps = getAllKeys(other),
                                othLength = othProps.length;
                            if (objLength != othLength && !isPartial) {
                                return false
                            }
                            var index = objLength;
                            while (index--) {
                                var key = objProps[index];
                                if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {
                                    return false
                                }
                            }
                            var objStacked = stack.get(object);
                            var othStacked = stack.get(other);
                            if (objStacked && othStacked) {
                                return objStacked == other && othStacked == object
                            }
                            var result = true;
                            stack.set(object, other);
                            stack.set(other, object);
                            var skipCtor = isPartial;
                            while (++index < objLength) {
                                key = objProps[index];
                                var objValue = object[key],
                                    othValue = other[key];
                                if (customizer) {
                                    var compared = isPartial ? customizer(othValue, objValue, key, other, object, stack) : customizer(objValue, othValue, key, object, other, stack)
                                }
                                if (!(compared === undefined ? objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack) : compared)) {
                                    result = false;
                                    break
                                }
                                skipCtor || (skipCtor = key == "constructor")
                            }
                            if (result && !skipCtor) {
                                var objCtor = object.constructor,
                                    othCtor = other.constructor;
                                if (objCtor != othCtor && ("constructor" in object && "constructor" in other) && !(typeof objCtor == "function" && objCtor instanceof objCtor && typeof othCtor == "function" && othCtor instanceof othCtor)) {
                                    result = false
                                }
                            }
                            stack["delete"](object);
                            stack["delete"](other);
                            return result
                        }

                        function flatRest(func) {
                            return setToString(overRest(func, undefined, flatten), func + "")
                        }

                        function getAllKeys(object) {
                            return baseGetAllKeys(object, keys, getSymbols)
                        }

                        function getAllKeysIn(object) {
                            return baseGetAllKeys(object, keysIn, getSymbolsIn)
                        }
                        var getData = !metaMap ? noop : function(func) {
                            return metaMap.get(func)
                        };

                        function getFuncName(func) {
                            var result = func.name + "",
                                array = realNames[result],
                                length = hasOwnProperty.call(realNames, result) ? array.length : 0;
                            while (length--) {
                                var data = array[length],
                                    otherFunc = data.func;
                                if (otherFunc == null || otherFunc == func) {
                                    return data.name
                                }
                            }
                            return result
                        }

                        function getHolder(func) {
                            var object = hasOwnProperty.call(lodash, "placeholder") ? lodash : func;
                            return object.placeholder
                        }

                        function getIteratee() {
                            var result = lodash.iteratee || iteratee;
                            result = result === iteratee ? baseIteratee : result;
                            return arguments.length ? result(arguments[0], arguments[1]) : result
                        }

                        function getMapData(map, key) {
                            var data = map.__data__;
                            return isKeyable(key) ? data[typeof key == "string" ? "string" : "hash"] : data.map
                        }

                        function getMatchData(object) {
                            var result = keys(object),
                                length = result.length;
                            while (length--) {
                                var key = result[length],
                                    value = object[key];
                                result[length] = [key, value, isStrictComparable(value)]
                            }
                            return result
                        }

                        function getNative(object, key) {
                            var value = getValue(object, key);
                            return baseIsNative(value) ? value : undefined
                        }

                        function getRawTag(value) {
                            var isOwn = hasOwnProperty.call(value, symToStringTag),
                                tag = value[symToStringTag];
                            try {
                                value[symToStringTag] = undefined;
                                var unmasked = true
                            } catch (e) {}
                            var result = nativeObjectToString.call(value);
                            if (unmasked) {
                                if (isOwn) {
                                    value[symToStringTag] = tag
                                } else {
                                    delete value[symToStringTag]
                                }
                            }
                            return result
                        }
                        var getSymbols = !nativeGetSymbols ? stubArray : function(object) {
                            if (object == null) {
                                return []
                            }
                            object = Object(object);
                            return arrayFilter(nativeGetSymbols(object), function(symbol) {
                                return propertyIsEnumerable.call(object, symbol)
                            })
                        };
                        var getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {
                            var result = [];
                            while (object) {
                                arrayPush(result, getSymbols(object));
                                object = getPrototype(object)
                            }
                            return result
                        };
                        var getTag = baseGetTag;
                        if (DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag || Map && getTag(new Map) != mapTag || Promise && getTag(Promise.resolve()) != promiseTag || Set && getTag(new Set) != setTag || WeakMap && getTag(new WeakMap) != weakMapTag) {
                            getTag = function(value) {
                                var result = baseGetTag(value),
                                    Ctor = result == objectTag ? value.constructor : undefined,
                                    ctorString = Ctor ? toSource(Ctor) : "";
                                if (ctorString) {
                                    switch (ctorString) {
                                        case dataViewCtorString:
                                            return dataViewTag;
                                        case mapCtorString:
                                            return mapTag;
                                        case promiseCtorString:
                                            return promiseTag;
                                        case setCtorString:
                                            return setTag;
                                        case weakMapCtorString:
                                            return weakMapTag
                                    }
                                }
                                return result
                            }
                        }

                        function getView(start, end, transforms) {
                            var index = -1,
                                length = transforms.length;
                            while (++index < length) {
                                var data = transforms[index],
                                    size = data.size;
                                switch (data.type) {
                                    case "drop":
                                        start += size;
                                        break;
                                    case "dropRight":
                                        end -= size;
                                        break;
                                    case "take":
                                        end = nativeMin(end, start + size);
                                        break;
                                    case "takeRight":
                                        start = nativeMax(start, end - size);
                                        break
                                }
                            }
                            return {
                                start: start,
                                end: end
                            }
                        }

                        function getWrapDetails(source) {
                            var match = source.match(reWrapDetails);
                            return match ? match[1].split(reSplitDetails) : []
                        }

                        function hasPath(object, path, hasFunc) {
                            path = castPath(path, object);
                            var index = -1,
                                length = path.length,
                                result = false;
                            while (++index < length) {
                                var key = toKey(path[index]);
                                if (!(result = object != null && hasFunc(object, key))) {
                                    break
                                }
                                object = object[key]
                            }
                            if (result || ++index != length) {
                                return result
                            }
                            length = object == null ? 0 : object.length;
                            return !!length && isLength(length) && isIndex(key, length) && (isArray(object) || isArguments(object))
                        }

                        function initCloneArray(array) {
                            var length = array.length,
                                result = new array.constructor(length);
                            if (length && typeof array[0] == "string" && hasOwnProperty.call(array, "index")) {
                                result.index = array.index;
                                result.input = array.input
                            }
                            return result
                        }

                        function initCloneObject(object) {
                            return typeof object.constructor == "function" && !isPrototype(object) ? baseCreate(getPrototype(object)) : {}
                        }

                        function initCloneByTag(object, tag, isDeep) {
                            var Ctor = object.constructor;
                            switch (tag) {
                                case arrayBufferTag:
                                    return cloneArrayBuffer(object);
                                case boolTag:
                                case dateTag:
                                    return new Ctor(+object);
                                case dataViewTag:
                                    return cloneDataView(object, isDeep);
                                case float32Tag:
                                case float64Tag:
                                case int8Tag:
                                case int16Tag:
                                case int32Tag:
                                case uint8Tag:
                                case uint8ClampedTag:
                                case uint16Tag:
                                case uint32Tag:
                                    return cloneTypedArray(object, isDeep);
                                case mapTag:
                                    return new Ctor;
                                case numberTag:
                                case stringTag:
                                    return new Ctor(object);
                                case regexpTag:
                                    return cloneRegExp(object);
                                case setTag:
                                    return new Ctor;
                                case symbolTag:
                                    return cloneSymbol(object)
                            }
                        }

                        function insertWrapDetails(source, details) {
                            var length = details.length;
                            if (!length) {
                                return source
                            }
                            var lastIndex = length - 1;
                            details[lastIndex] = (length > 1 ? "& " : "") + details[lastIndex];
                            details = details.join(length > 2 ? ", " : " ");
                            return source.replace(reWrapComment, "{\n/* [wrapped with " + details + "] */\n")
                        }

                        function isFlattenable(value) {
                            return isArray(value) || isArguments(value) || !!(spreadableSymbol && value && value[spreadableSymbol])
                        }

                        function isIndex(value, length) {
                            var type = typeof value;
                            length = length == null ? MAX_SAFE_INTEGER : length;
                            return !!length && (type == "number" || type != "symbol" && reIsUint.test(value)) && (value > -1 && value % 1 == 0 && value < length)
                        }

                        function isIterateeCall(value, index, object) {
                            if (!isObject(object)) {
                                return false
                            }
                            var type = typeof index;
                            if (type == "number" ? isArrayLike(object) && isIndex(index, object.length) : type == "string" && index in object) {
                                return eq(object[index], value)
                            }
                            return false
                        }

                        function isKey(value, object) {
                            if (isArray(value)) {
                                return false
                            }
                            var type = typeof value;
                            if (type == "number" || type == "symbol" || type == "boolean" || value == null || isSymbol(value)) {
                                return true
                            }
                            return reIsPlainProp.test(value) || !reIsDeepProp.test(value) || object != null && value in Object(object)
                        }

                        function isKeyable(value) {
                            var type = typeof value;
                            return type == "string" || type == "number" || type == "symbol" || type == "boolean" ? value !== "__proto__" : value === null
                        }

                        function isLaziable(func) {
                            var funcName = getFuncName(func),
                                other = lodash[funcName];
                            if (typeof other != "function" || !(funcName in LazyWrapper.prototype)) {
                                return false
                            }
                            if (func === other) {
                                return true
                            }
                            var data = getData(other);
                            return !!data && func === data[0]
                        }

                        function isMasked(func) {
                            return !!maskSrcKey && maskSrcKey in func
                        }
                        var isMaskable = coreJsData ? isFunction : stubFalse;

                        function isPrototype(value) {
                            var Ctor = value && value.constructor,
                                proto = typeof Ctor == "function" && Ctor.prototype || objectProto;
                            return value === proto
                        }

                        function isStrictComparable(value) {
                            return value === value && !isObject(value)
                        }

                        function matchesStrictComparable(key, srcValue) {
                            return function(object) {
                                if (object == null) {
                                    return false
                                }
                                return object[key] === srcValue && (srcValue !== undefined || key in Object(object))
                            }
                        }

                        function memoizeCapped(func) {
                            var result = memoize(func, function(key) {
                                if (cache.size === MAX_MEMOIZE_SIZE) {
                                    cache.clear()
                                }
                                return key
                            });
                            var cache = result.cache;
                            return result
                        }

                        function mergeData(data, source) {
                            var bitmask = data[1],
                                srcBitmask = source[1],
                                newBitmask = bitmask | srcBitmask,
                                isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);
                            var isCombo = srcBitmask == WRAP_ARY_FLAG && bitmask == WRAP_CURRY_FLAG || srcBitmask == WRAP_ARY_FLAG && bitmask == WRAP_REARG_FLAG && data[7].length <= source[8] || srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG) && source[7].length <= source[8] && bitmask == WRAP_CURRY_FLAG;
                            if (!(isCommon || isCombo)) {
                                return data
                            }
                            if (srcBitmask & WRAP_BIND_FLAG) {
                                data[2] = source[2];
                                newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG
                            }
                            var value = source[3];
                            if (value) {
                                var partials = data[3];
                                data[3] = partials ? composeArgs(partials, value, source[4]) : value;
                                data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4]
                            }
                            value = source[5];
                            if (value) {
                                partials = data[5];
                                data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;
                                data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6]
                            }
                            value = source[7];
                            if (value) {
                                data[7] = value
                            }
                            if (srcBitmask & WRAP_ARY_FLAG) {
                                data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8])
                            }
                            if (data[9] == null) {
                                data[9] = source[9]
                            }
                            data[0] = source[0];
                            data[1] = newBitmask;
                            return data
                        }

                        function nativeKeysIn(object) {
                            var result = [];
                            if (object != null) {
                                for (var key in Object(object)) {
                                    result.push(key)
                                }
                            }
                            return result
                        }

                        function objectToString(value) {
                            return nativeObjectToString.call(value)
                        }

                        function overRest(func, start, transform) {
                            start = nativeMax(start === undefined ? func.length - 1 : start, 0);
                            return function() {
                                var args = arguments,
                                    index = -1,
                                    length = nativeMax(args.length - start, 0),
                                    array = Array(length);
                                while (++index < length) {
                                    array[index] = args[start + index]
                                }
                                index = -1;
                                var otherArgs = Array(start + 1);
                                while (++index < start) {
                                    otherArgs[index] = args[index]
                                }
                                otherArgs[start] = transform(array);
                                return apply(func, this, otherArgs)
                            }
                        }

                        function parent(object, path) {
                            return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1))
                        }

                        function reorder(array, indexes) {
                            var arrLength = array.length,
                                length = nativeMin(indexes.length, arrLength),
                                oldArray = copyArray(array);
                            while (length--) {
                                var index = indexes[length];
                                array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined
                            }
                            return array
                        }

                        function safeGet(object, key) {
                            if (key === "constructor" && typeof object[key] === "function") {
                                return
                            }
                            if (key == "__proto__") {
                                return
                            }
                            return object[key]
                        }
                        var setData = shortOut(baseSetData);
                        var setTimeout = ctxSetTimeout || function(func, wait) {
                            return root.setTimeout(func, wait)
                        };
                        var setToString = shortOut(baseSetToString);

                        function setWrapToString(wrapper, reference, bitmask) {
                            var source = reference + "";
                            return setToString(wrapper, insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)))
                        }

                        function shortOut(func) {
                            var count = 0,
                                lastCalled = 0;
                            return function() {
                                var stamp = nativeNow(),
                                    remaining = HOT_SPAN - (stamp - lastCalled);
                                lastCalled = stamp;
                                if (remaining > 0) {
                                    if (++count >= HOT_COUNT) {
                                        return arguments[0]
                                    }
                                } else {
                                    count = 0
                                }
                                return func.apply(undefined, arguments)
                            }
                        }

                        function shuffleSelf(array, size) {
                            var index = -1,
                                length = array.length,
                                lastIndex = length - 1;
                            size = size === undefined ? length : size;
                            while (++index < size) {
                                var rand = baseRandom(index, lastIndex),
                                    value = array[rand];
                                array[rand] = array[index];
                                array[index] = value
                            }
                            array.length = size;
                            return array
                        }
                        var stringToPath = memoizeCapped(function(string) {
                            var result = [];
                            if (string.charCodeAt(0) === 46) {
                                result.push("")
                            }
                            string.replace(rePropName, function(match, number, quote, subString) {
                                result.push(quote ? subString.replace(reEscapeChar, "$1") : number || match)
                            });
                            return result
                        });

                        function toKey(value) {
                            if (typeof value == "string" || isSymbol(value)) {
                                return value
                            }
                            var result = value + "";
                            return result == "0" && 1 / value == -INFINITY ? "-0" : result
                        }

                        function toSource(func) {
                            if (func != null) {
                                try {
                                    return funcToString.call(func)
                                } catch (e) {}
                                try {
                                    return func + ""
                                } catch (e) {}
                            }
                            return ""
                        }

                        function updateWrapDetails(details, bitmask) {
                            arrayEach(wrapFlags, function(pair) {
                                var value = "_." + pair[0];
                                if (bitmask & pair[1] && !arrayIncludes(details, value)) {
                                    details.push(value)
                                }
                            });
                            return details.sort()
                        }

                        function wrapperClone(wrapper) {
                            if (wrapper instanceof LazyWrapper) {
                                return wrapper.clone()
                            }
                            var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);
                            result.__actions__ = copyArray(wrapper.__actions__);
                            result.__index__ = wrapper.__index__;
                            result.__values__ = wrapper.__values__;
                            return result
                        }

                        function chunk(array, size, guard) {
                            if (guard ? isIterateeCall(array, size, guard) : size === undefined) {
                                size = 1
                            } else {
                                size = nativeMax(toInteger(size), 0)
                            }
                            var length = array == null ? 0 : array.length;
                            if (!length || size < 1) {
                                return []
                            }
                            var index = 0,
                                resIndex = 0,
                                result = Array(nativeCeil(length / size));
                            while (index < length) {
                                result[resIndex++] = baseSlice(array, index, index += size)
                            }
                            return result
                        }

                        function compact(array) {
                            var index = -1,
                                length = array == null ? 0 : array.length,
                                resIndex = 0,
                                result = [];
                            while (++index < length) {
                                var value = array[index];
                                if (value) {
                                    result[resIndex++] = value
                                }
                            }
                            return result
                        }

                        function concat() {
                            var length = arguments.length;
                            if (!length) {
                                return []
                            }
                            var args = Array(length - 1),
                                array = arguments[0],
                                index = length;
                            while (index--) {
                                args[index - 1] = arguments[index]
                            }
                            return arrayPush(isArray(array) ? copyArray(array) : [array], baseFlatten(args, 1))
                        }
                        var difference = baseRest(function(array, values) {
                            return isArrayLikeObject(array) ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true)) : []
                        });
                        var differenceBy = baseRest(function(array, values) {
                            var iteratee = last(values);
                            if (isArrayLikeObject(iteratee)) {
                                iteratee = undefined
                            }
                            return isArrayLikeObject(array) ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), getIteratee(iteratee, 2)) : []
                        });
                        var differenceWith = baseRest(function(array, values) {
                            var comparator = last(values);
                            if (isArrayLikeObject(comparator)) {
                                comparator = undefined
                            }
                            return isArrayLikeObject(array) ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), undefined, comparator) : []
                        });

                        function drop(array, n, guard) {
                            var length = array == null ? 0 : array.length;
                            if (!length) {
                                return []
                            }
                            n = guard || n === undefined ? 1 : toInteger(n);
                            return baseSlice(array, n < 0 ? 0 : n, length)
                        }

                        function dropRight(array, n, guard) {
                            var length = array == null ? 0 : array.length;
                            if (!length) {
                                return []
                            }
                            n = guard || n === undefined ? 1 : toInteger(n);
                            n = length - n;
                            return baseSlice(array, 0, n < 0 ? 0 : n)
                        }

                        function dropRightWhile(array, predicate) {
                            return array && array.length ? baseWhile(array, getIteratee(predicate, 3), true, true) : []
                        }

                        function dropWhile(array, predicate) {
                            return array && array.length ? baseWhile(array, getIteratee(predicate, 3), true) : []
                        }

                        function fill(array, value, start, end) {
                            var length = array == null ? 0 : array.length;
                            if (!length) {
                                return []
                            }
                            if (start && typeof start != "number" && isIterateeCall(array, value, start)) {
                                start = 0;
                                end = length
                            }
                            return baseFill(array, value, start, end)
                        }

                        function findIndex(array, predicate, fromIndex) {
                            var length = array == null ? 0 : array.length;
                            if (!length) {
                                return -1
                            }
                            var index = fromIndex == null ? 0 : toInteger(fromIndex);
                            if (index < 0) {
                                index = nativeMax(length + index, 0)
                            }
                            return baseFindIndex(array, getIteratee(predicate, 3), index)
                        }

                        function findLastIndex(array, predicate, fromIndex) {
                            var length = array == null ? 0 : array.length;
                            if (!length) {
                                return -1
                            }
                            var index = length - 1;
                            if (fromIndex !== undefined) {
                                index = toInteger(fromIndex);
                                index = fromIndex < 0 ? nativeMax(length + index, 0) : nativeMin(index, length - 1)
                            }
                            return baseFindIndex(array, getIteratee(predicate, 3), index, true)
                        }

                        function flatten(array) {
                            var length = array == null ? 0 : array.length;
                            return length ? baseFlatten(array, 1) : []
                        }

                        function flattenDeep(array) {
                            var length = array == null ? 0 : array.length;
                            return length ? baseFlatten(array, INFINITY) : []
                        }

                        function flattenDepth(array, depth) {
                            var length = array == null ? 0 : array.length;
                            if (!length) {
                                return []
                            }
                            depth = depth === undefined ? 1 : toInteger(depth);
                            return baseFlatten(array, depth)
                        }

                        function fromPairs(pairs) {
                            var index = -1,
                                length = pairs == null ? 0 : pairs.length,
                                result = {};
                            while (++index < length) {
                                var pair = pairs[index];
                                result[pair[0]] = pair[1]
                            }
                            return result
                        }

                        function head(array) {
                            return array && array.length ? array[0] : undefined
                        }

                        function indexOf(array, value, fromIndex) {
                            var length = array == null ? 0 : array.length;
                            if (!length) {
                                return -1
                            }
                            var index = fromIndex == null ? 0 : toInteger(fromIndex);
                            if (index < 0) {
                                index = nativeMax(length + index, 0)
                            }
                            return baseIndexOf(array, value, index)
                        }

                        function initial(array) {
                            var length = array == null ? 0 : array.length;
                            return length ? baseSlice(array, 0, -1) : []
                        }
                        var intersection = baseRest(function(arrays) {
                            var mapped = arrayMap(arrays, castArrayLikeObject);
                            return mapped.length && mapped[0] === arrays[0] ? baseIntersection(mapped) : []
                        });
                        var intersectionBy = baseRest(function(arrays) {
                            var iteratee = last(arrays),
                                mapped = arrayMap(arrays, castArrayLikeObject);
                            if (iteratee === last(mapped)) {
                                iteratee = undefined
                            } else {
                                mapped.pop()
                            }
                            return mapped.length && mapped[0] === arrays[0] ? baseIntersection(mapped, getIteratee(iteratee, 2)) : []
                        });
                        var intersectionWith = baseRest(function(arrays) {
                            var comparator = last(arrays),
                                mapped = arrayMap(arrays, castArrayLikeObject);
                            comparator = typeof comparator == "function" ? comparator : undefined;
                            if (comparator) {
                                mapped.pop()
                            }
                            return mapped.length && mapped[0] === arrays[0] ? baseIntersection(mapped, undefined, comparator) : []
                        });

                        function join(array, separator) {
                            return array == null ? "" : nativeJoin.call(array, separator)
                        }

                        function last(array) {
                            var length = array == null ? 0 : array.length;
                            return length ? array[length - 1] : undefined
                        }

                        function lastIndexOf(array, value, fromIndex) {
                            var length = array == null ? 0 : array.length;
                            if (!length) {
                                return -1
                            }
                            var index = length;
                            if (fromIndex !== undefined) {
                                index = toInteger(fromIndex);
                                index = index < 0 ? nativeMax(length + index, 0) : nativeMin(index, length - 1)
                            }
                            return value === value ? strictLastIndexOf(array, value, index) : baseFindIndex(array, baseIsNaN, index, true)
                        }

                        function nth(array, n) {
                            return array && array.length ? baseNth(array, toInteger(n)) : undefined
                        }
                        var pull = baseRest(pullAll);

                        function pullAll(array, values) {
                            return array && array.length && values && values.length ? basePullAll(array, values) : array
                        }

                        function pullAllBy(array, values, iteratee) {
                            return array && array.length && values && values.length ? basePullAll(array, values, getIteratee(iteratee, 2)) : array
                        }

                        function pullAllWith(array, values, comparator) {
                            return array && array.length && values && values.length ? basePullAll(array, values, undefined, comparator) : array
                        }
                        var pullAt = flatRest(function(array, indexes) {
                            var length = array == null ? 0 : array.length,
                                result = baseAt(array, indexes);
                            basePullAt(array, arrayMap(indexes, function(index) {
                                return isIndex(index, length) ? +index : index
                            }).sort(compareAscending));
                            return result
                        });

                        function remove(array, predicate) {
                            var result = [];
                            if (!(array && array.length)) {
                                return result
                            }
                            var index = -1,
                                indexes = [],
                                length = array.length;
                            predicate = getIteratee(predicate, 3);
                            while (++index < length) {
                                var value = array[index];
                                if (predicate(value, index, array)) {
                                    result.push(value);
                                    indexes.push(index)
                                }
                            }
                            basePullAt(array, indexes);
                            return result
                        }

                        function reverse(array) {
                            return array == null ? array : nativeReverse.call(array)
                        }

                        function slice(array, start, end) {
                            var length = array == null ? 0 : array.length;
                            if (!length) {
                                return []
                            }
                            if (end && typeof end != "number" && isIterateeCall(array, start, end)) {
                                start = 0;
                                end = length
                            } else {
                                start = start == null ? 0 : toInteger(start);
                                end = end === undefined ? length : toInteger(end)
                            }
                            return baseSlice(array, start, end)
                        }

                        function sortedIndex(array, value) {
                            return baseSortedIndex(array, value)
                        }

                        function sortedIndexBy(array, value, iteratee) {
                            return baseSortedIndexBy(array, value, getIteratee(iteratee, 2))
                        }

                        function sortedIndexOf(array, value) {
                            var length = array == null ? 0 : array.length;
                            if (length) {
                                var index = baseSortedIndex(array, value);
                                if (index < length && eq(array[index], value)) {
                                    return index
                                }
                            }
                            return -1
                        }

                        function sortedLastIndex(array, value) {
                            return baseSortedIndex(array, value, true)
                        }

                        function sortedLastIndexBy(array, value, iteratee) {
                            return baseSortedIndexBy(array, value, getIteratee(iteratee, 2), true)
                        }

                        function sortedLastIndexOf(array, value) {
                            var length = array == null ? 0 : array.length;
                            if (length) {
                                var index = baseSortedIndex(array, value, true) - 1;
                                if (eq(array[index], value)) {
                                    return index
                                }
                            }
                            return -1
                        }

                        function sortedUniq(array) {
                            return array && array.length ? baseSortedUniq(array) : []
                        }

                        function sortedUniqBy(array, iteratee) {
                            return array && array.length ? baseSortedUniq(array, getIteratee(iteratee, 2)) : []
                        }

                        function tail(array) {
                            var length = array == null ? 0 : array.length;
                            return length ? baseSlice(array, 1, length) : []
                        }

                        function take(array, n, guard) {
                            if (!(array && array.length)) {
                                return []
                            }
                            n = guard || n === undefined ? 1 : toInteger(n);
                            return baseSlice(array, 0, n < 0 ? 0 : n)
                        }

                        function takeRight(array, n, guard) {
                            var length = array == null ? 0 : array.length;
                            if (!length) {
                                return []
                            }
                            n = guard || n === undefined ? 1 : toInteger(n);
                            n = length - n;
                            return baseSlice(array, n < 0 ? 0 : n, length)
                        }

                        function takeRightWhile(array, predicate) {
                            return array && array.length ? baseWhile(array, getIteratee(predicate, 3), false, true) : []
                        }

                        function takeWhile(array, predicate) {
                            return array && array.length ? baseWhile(array, getIteratee(predicate, 3)) : []
                        }
                        var union = baseRest(function(arrays) {
                            return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true))
                        });
                        var unionBy = baseRest(function(arrays) {
                            var iteratee = last(arrays);
                            if (isArrayLikeObject(iteratee)) {
                                iteratee = undefined
                            }
                            return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), getIteratee(iteratee, 2))
                        });
                        var unionWith = baseRest(function(arrays) {
                            var comparator = last(arrays);
                            comparator = typeof comparator == "function" ? comparator : undefined;
                            return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), undefined, comparator)
                        });

                        function uniq(array) {
                            return array && array.length ? baseUniq(array) : []
                        }

                        function uniqBy(array, iteratee) {
                            return array && array.length ? baseUniq(array, getIteratee(iteratee, 2)) : []
                        }

                        function uniqWith(array, comparator) {
                            comparator = typeof comparator == "function" ? comparator : undefined;
                            return array && array.length ? baseUniq(array, undefined, comparator) : []
                        }

                        function unzip(array) {
                            if (!(array && array.length)) {
                                return []
                            }
                            var length = 0;
                            array = arrayFilter(array, function(group) {
                                if (isArrayLikeObject(group)) {
                                    length = nativeMax(group.length, length);
                                    return true
                                }
                            });
                            return baseTimes(length, function(index) {
                                return arrayMap(array, baseProperty(index))
                            })
                        }

                        function unzipWith(array, iteratee) {
                            if (!(array && array.length)) {
                                return []
                            }
                            var result = unzip(array);
                            if (iteratee == null) {
                                return result
                            }
                            return arrayMap(result, function(group) {
                                return apply(iteratee, undefined, group)
                            })
                        }
                        var without = baseRest(function(array, values) {
                            return isArrayLikeObject(array) ? baseDifference(array, values) : []
                        });
                        var xor = baseRest(function(arrays) {
                            return baseXor(arrayFilter(arrays, isArrayLikeObject))
                        });
                        var xorBy = baseRest(function(arrays) {
                            var iteratee = last(arrays);
                            if (isArrayLikeObject(iteratee)) {
                                iteratee = undefined
                            }
                            return baseXor(arrayFilter(arrays, isArrayLikeObject), getIteratee(iteratee, 2))
                        });
                        var xorWith = baseRest(function(arrays) {
                            var comparator = last(arrays);
                            comparator = typeof comparator == "function" ? comparator : undefined;
                            return baseXor(arrayFilter(arrays, isArrayLikeObject), undefined, comparator)
                        });
                        var zip = baseRest(unzip);

                        function zipObject(props, values) {
                            return baseZipObject(props || [], values || [], assignValue)
                        }

                        function zipObjectDeep(props, values) {
                            return baseZipObject(props || [], values || [], baseSet)
                        }
                        var zipWith = baseRest(function(arrays) {
                            var length = arrays.length,
                                iteratee = length > 1 ? arrays[length - 1] : undefined;
                            iteratee = typeof iteratee == "function" ? (arrays.pop(), iteratee) : undefined;
                            return unzipWith(arrays, iteratee)
                        });

                        function chain(value) {
                            var result = lodash(value);
                            result.__chain__ = true;
                            return result
                        }

                        function tap(value, interceptor) {
                            interceptor(value);
                            return value
                        }

                        function thru(value, interceptor) {
                            return interceptor(value)
                        }
                        var wrapperAt = flatRest(function(paths) {
                            var length = paths.length,
                                start = length ? paths[0] : 0,
                                value = this.__wrapped__,
                                interceptor = function(object) {
                                    return baseAt(object, paths)
                                };
                            if (length > 1 || this.__actions__.length || !(value instanceof LazyWrapper) || !isIndex(start)) {
                                return this.thru(interceptor)
                            }
                            value = value.slice(start, +start + (length ? 1 : 0));
                            value.__actions__.push({
                                func: thru,
                                args: [interceptor],
                                thisArg: undefined
                            });
                            return new LodashWrapper(value, this.__chain__).thru(function(array) {
                                if (length && !array.length) {
                                    array.push(undefined)
                                }
                                return array
                            })
                        });

                        function wrapperChain() {
                            return chain(this)
                        }

                        function wrapperCommit() {
                            return new LodashWrapper(this.value(), this.__chain__)
                        }

                        function wrapperNext() {
                            if (this.__values__ === undefined) {
                                this.__values__ = toArray(this.value())
                            }
                            var done = this.__index__ >= this.__values__.length,
                                value = done ? undefined : this.__values__[this.__index__++];
                            return {
                                done: done,
                                value: value
                            }
                        }

                        function wrapperToIterator() {
                            return this
                        }

                        function wrapperPlant(value) {
                            var result, parent = this;
                            while (parent instanceof baseLodash) {
                                var clone = wrapperClone(parent);
                                clone.__index__ = 0;
                                clone.__values__ = undefined;
                                if (result) {
                                    previous.__wrapped__ = clone
                                } else {
                                    result = clone
                                }
                                var previous = clone;
                                parent = parent.__wrapped__
                            }
                            previous.__wrapped__ = value;
                            return result
                        }

                        function wrapperReverse() {
                            var value = this.__wrapped__;
                            if (value instanceof LazyWrapper) {
                                var wrapped = value;
                                if (this.__actions__.length) {
                                    wrapped = new LazyWrapper(this)
                                }
                                wrapped = wrapped.reverse();
                                wrapped.__actions__.push({
                                    func: thru,
                                    args: [reverse],
                                    thisArg: undefined
                                });
                                return new LodashWrapper(wrapped, this.__chain__)
                            }
                            return this.thru(reverse)
                        }

                        function wrapperValue() {
                            return baseWrapperValue(this.__wrapped__, this.__actions__)
                        }
                        var countBy = createAggregator(function(result, value, key) {
                            if (hasOwnProperty.call(result, key)) {
                                ++result[key]
                            } else {
                                baseAssignValue(result, key, 1)
                            }
                        });

                        function every(collection, predicate, guard) {
                            var func = isArray(collection) ? arrayEvery : baseEvery;
                            if (guard && isIterateeCall(collection, predicate, guard)) {
                                predicate = undefined
                            }
                            return func(collection, getIteratee(predicate, 3))
                        }

                        function filter(collection, predicate) {
                            var func = isArray(collection) ? arrayFilter : baseFilter;
                            return func(collection, getIteratee(predicate, 3))
                        }
                        var find = createFind(findIndex);
                        var findLast = createFind(findLastIndex);

                        function flatMap(collection, iteratee) {
                            return baseFlatten(map(collection, iteratee), 1)
                        }

                        function flatMapDeep(collection, iteratee) {
                            return baseFlatten(map(collection, iteratee), INFINITY)
                        }

                        function flatMapDepth(collection, iteratee, depth) {
                            depth = depth === undefined ? 1 : toInteger(depth);
                            return baseFlatten(map(collection, iteratee), depth)
                        }

                        function forEach(collection, iteratee) {
                            var func = isArray(collection) ? arrayEach : baseEach;
                            return func(collection, getIteratee(iteratee, 3))
                        }

                        function forEachRight(collection, iteratee) {
                            var func = isArray(collection) ? arrayEachRight : baseEachRight;
                            return func(collection, getIteratee(iteratee, 3))
                        }
                        var groupBy = createAggregator(function(result, value, key) {
                            if (hasOwnProperty.call(result, key)) {
                                result[key].push(value)
                            } else {
                                baseAssignValue(result, key, [value])
                            }
                        });

                        function includes(collection, value, fromIndex, guard) {
                            collection = isArrayLike(collection) ? collection : values(collection);
                            fromIndex = fromIndex && !guard ? toInteger(fromIndex) : 0;
                            var length = collection.length;
                            if (fromIndex < 0) {
                                fromIndex = nativeMax(length + fromIndex, 0)
                            }
                            return isString(collection) ? fromIndex <= length && collection.indexOf(value, fromIndex) > -1 : !!length && baseIndexOf(collection, value, fromIndex) > -1
                        }
                        var invokeMap = baseRest(function(collection, path, args) {
                            var index = -1,
                                isFunc = typeof path == "function",
                                result = isArrayLike(collection) ? Array(collection.length) : [];
                            baseEach(collection, function(value) {
                                result[++index] = isFunc ? apply(path, value, args) : baseInvoke(value, path, args)
                            });
                            return result
                        });
                        var keyBy = createAggregator(function(result, value, key) {
                            baseAssignValue(result, key, value)
                        });

                        function map(collection, iteratee) {
                            var func = isArray(collection) ? arrayMap : baseMap;
                            return func(collection, getIteratee(iteratee, 3))
                        }

                        function orderBy(collection, iteratees, orders, guard) {
                            if (collection == null) {
                                return []
                            }
                            if (!isArray(iteratees)) {
                                iteratees = iteratees == null ? [] : [iteratees]
                            }
                            orders = guard ? undefined : orders;
                            if (!isArray(orders)) {
                                orders = orders == null ? [] : [orders]
                            }
                            return baseOrderBy(collection, iteratees, orders)
                        }
                        var partition = createAggregator(function(result, value, key) {
                            result[key ? 0 : 1].push(value)
                        }, function() {
                            return [
                                [],
                                []
                            ]
                        });

                        function reduce(collection, iteratee, accumulator) {
                            var func = isArray(collection) ? arrayReduce : baseReduce,
                                initAccum = arguments.length < 3;
                            return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEach)
                        }

                        function reduceRight(collection, iteratee, accumulator) {
                            var func = isArray(collection) ? arrayReduceRight : baseReduce,
                                initAccum = arguments.length < 3;
                            return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEachRight)
                        }

                        function reject(collection, predicate) {
                            var func = isArray(collection) ? arrayFilter : baseFilter;
                            return func(collection, negate(getIteratee(predicate, 3)))
                        }

                        function sample(collection) {
                            var func = isArray(collection) ? arraySample : baseSample;
                            return func(collection)
                        }

                        function sampleSize(collection, n, guard) {
                            if (guard ? isIterateeCall(collection, n, guard) : n === undefined) {
                                n = 1
                            } else {
                                n = toInteger(n)
                            }
                            var func = isArray(collection) ? arraySampleSize : baseSampleSize;
                            return func(collection, n)
                        }

                        function shuffle(collection) {
                            var func = isArray(collection) ? arrayShuffle : baseShuffle;
                            return func(collection)
                        }

                        function size(collection) {
                            if (collection == null) {
                                return 0
                            }
                            if (isArrayLike(collection)) {
                                return isString(collection) ? stringSize(collection) : collection.length
                            }
                            var tag = getTag(collection);
                            if (tag == mapTag || tag == setTag) {
                                return collection.size
                            }
                            return baseKeys(collection).length
                        }

                        function some(collection, predicate, guard) {
                            var func = isArray(collection) ? arraySome : baseSome;
                            if (guard && isIterateeCall(collection, predicate, guard)) {
                                predicate = undefined
                            }
                            return func(collection, getIteratee(predicate, 3))
                        }
                        var sortBy = baseRest(function(collection, iteratees) {
                            if (collection == null) {
                                return []
                            }
                            var length = iteratees.length;
                            if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {
                                iteratees = []
                            } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {
                                iteratees = [iteratees[0]]
                            }
                            return baseOrderBy(collection, baseFlatten(iteratees, 1), [])
                        });
                        var now = ctxNow || function() {
                            return root.Date.now()
                        };

                        function after(n, func) {
                            if (typeof func != "function") {
                                throw new TypeError(FUNC_ERROR_TEXT)
                            }
                            n = toInteger(n);
                            return function() {
                                if (--n < 1) {
                                    return func.apply(this, arguments)
                                }
                            }
                        }

                        function ary(func, n, guard) {
                            n = guard ? undefined : n;
                            n = func && n == null ? func.length : n;
                            return createWrap(func, WRAP_ARY_FLAG, undefined, undefined, undefined, undefined, n)
                        }

                        function before(n, func) {
                            var result;
                            if (typeof func != "function") {
                                throw new TypeError(FUNC_ERROR_TEXT)
                            }
                            n = toInteger(n);
                            return function() {
                                if (--n > 0) {
                                    result = func.apply(this, arguments)
                                }
                                if (n <= 1) {
                                    func = undefined
                                }
                                return result
                            }
                        }
                        var bind = baseRest(function(func, thisArg, partials) {
                            var bitmask = WRAP_BIND_FLAG;
                            if (partials.length) {
                                var holders = replaceHolders(partials, getHolder(bind));
                                bitmask |= WRAP_PARTIAL_FLAG
                            }
                            return createWrap(func, bitmask, thisArg, partials, holders)
                        });
                        var bindKey = baseRest(function(object, key, partials) {
                            var bitmask = WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG;
                            if (partials.length) {
                                var holders = replaceHolders(partials, getHolder(bindKey));
                                bitmask |= WRAP_PARTIAL_FLAG
                            }
                            return createWrap(key, bitmask, object, partials, holders)
                        });

                        function curry(func, arity, guard) {
                            arity = guard ? undefined : arity;
                            var result = createWrap(func, WRAP_CURRY_FLAG, undefined, undefined, undefined, undefined, undefined, arity);
                            result.placeholder = curry.placeholder;
                            return result
                        }

                        function curryRight(func, arity, guard) {
                            arity = guard ? undefined : arity;
                            var result = createWrap(func, WRAP_CURRY_RIGHT_FLAG, undefined, undefined, undefined, undefined, undefined, arity);
                            result.placeholder = curryRight.placeholder;
                            return result
                        }

                        function debounce(func, wait, options) {
                            var lastArgs, lastThis, maxWait, result, timerId, lastCallTime, lastInvokeTime = 0,
                                leading = false,
                                maxing = false,
                                trailing = true;
                            if (typeof func != "function") {
                                throw new TypeError(FUNC_ERROR_TEXT)
                            }
                            wait = toNumber(wait) || 0;
                            if (isObject(options)) {
                                leading = !!options.leading;
                                maxing = "maxWait" in options;
                                maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;
                                trailing = "trailing" in options ? !!options.trailing : trailing
                            }

                            function invokeFunc(time) {
                                var args = lastArgs,
                                    thisArg = lastThis;
                                lastArgs = lastThis = undefined;
                                lastInvokeTime = time;
                                result = func.apply(thisArg, args);
                                return result
                            }

                            function leadingEdge(time) {
                                lastInvokeTime = time;
                                timerId = setTimeout(timerExpired, wait);
                                return leading ? invokeFunc(time) : result
                            }

                            function remainingWait(time) {
                                var timeSinceLastCall = time - lastCallTime,
                                    timeSinceLastInvoke = time - lastInvokeTime,
                                    timeWaiting = wait - timeSinceLastCall;
                                return maxing ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke) : timeWaiting
                            }

                            function shouldInvoke(time) {
                                var timeSinceLastCall = time - lastCallTime,
                                    timeSinceLastInvoke = time - lastInvokeTime;
                                return lastCallTime === undefined || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait
                            }

                            function timerExpired() {
                                var time = now();
                                if (shouldInvoke(time)) {
                                    return trailingEdge(time)
                                }
                                timerId = setTimeout(timerExpired, remainingWait(time))
                            }

                            function trailingEdge(time) {
                                timerId = undefined;
                                if (trailing && lastArgs) {
                                    return invokeFunc(time)
                                }
                                lastArgs = lastThis = undefined;
                                return result
                            }

                            function cancel() {
                                if (timerId !== undefined) {
                                    clearTimeout(timerId)
                                }
                                lastInvokeTime = 0;
                                lastArgs = lastCallTime = lastThis = timerId = undefined
                            }

                            function flush() {
                                return timerId === undefined ? result : trailingEdge(now())
                            }

                            function debounced() {
                                var time = now(),
                                    isInvoking = shouldInvoke(time);
                                lastArgs = arguments;
                                lastThis = this;
                                lastCallTime = time;
                                if (isInvoking) {
                                    if (timerId === undefined) {
                                        return leadingEdge(lastCallTime)
                                    }
                                    if (maxing) {
                                        clearTimeout(timerId);
                                        timerId = setTimeout(timerExpired, wait);
                                        return invokeFunc(lastCallTime)
                                    }
                                }
                                if (timerId === undefined) {
                                    timerId = setTimeout(timerExpired, wait)
                                }
                                return result
                            }
                            debounced.cancel = cancel;
                            debounced.flush = flush;
                            return debounced
                        }
                        var defer = baseRest(function(func, args) {
                            return baseDelay(func, 1, args)
                        });
                        var delay = baseRest(function(func, wait, args) {
                            return baseDelay(func, toNumber(wait) || 0, args)
                        });

                        function flip(func) {
                            return createWrap(func, WRAP_FLIP_FLAG)
                        }

                        function memoize(func, resolver) {
                            if (typeof func != "function" || resolver != null && typeof resolver != "function") {
                                throw new TypeError(FUNC_ERROR_TEXT)
                            }
                            var memoized = function() {
                                var args = arguments,
                                    key = resolver ? resolver.apply(this, args) : args[0],
                                    cache = memoized.cache;
                                if (cache.has(key)) {
                                    return cache.get(key)
                                }
                                var result = func.apply(this, args);
                                memoized.cache = cache.set(key, result) || cache;
                                return result
                            };
                            memoized.cache = new(memoize.Cache || MapCache);
                            return memoized
                        }
                        memoize.Cache = MapCache;

                        function negate(predicate) {
                            if (typeof predicate != "function") {
                                throw new TypeError(FUNC_ERROR_TEXT)
                            }
                            return function() {
                                var args = arguments;
                                switch (args.length) {
                                    case 0:
                                        return !predicate.call(this);
                                    case 1:
                                        return !predicate.call(this, args[0]);
                                    case 2:
                                        return !predicate.call(this, args[0], args[1]);
                                    case 3:
                                        return !predicate.call(this, args[0], args[1], args[2])
                                }
                                return !predicate.apply(this, args)
                            }
                        }

                        function once(func) {
                            return before(2, func)
                        }
                        var overArgs = castRest(function(func, transforms) {
                            transforms = transforms.length == 1 && isArray(transforms[0]) ? arrayMap(transforms[0], baseUnary(getIteratee())) : arrayMap(baseFlatten(transforms, 1), baseUnary(getIteratee()));
                            var funcsLength = transforms.length;
                            return baseRest(function(args) {
                                var index = -1,
                                    length = nativeMin(args.length, funcsLength);
                                while (++index < length) {
                                    args[index] = transforms[index].call(this, args[index])
                                }
                                return apply(func, this, args)
                            })
                        });
                        var partial = baseRest(function(func, partials) {
                            var holders = replaceHolders(partials, getHolder(partial));
                            return createWrap(func, WRAP_PARTIAL_FLAG, undefined, partials, holders)
                        });
                        var partialRight = baseRest(function(func, partials) {
                            var holders = replaceHolders(partials, getHolder(partialRight));
                            return createWrap(func, WRAP_PARTIAL_RIGHT_FLAG, undefined, partials, holders)
                        });
                        var rearg = flatRest(function(func, indexes) {
                            return createWrap(func, WRAP_REARG_FLAG, undefined, undefined, undefined, indexes)
                        });

                        function rest(func, start) {
                            if (typeof func != "function") {
                                throw new TypeError(FUNC_ERROR_TEXT)
                            }
                            start = start === undefined ? start : toInteger(start);
                            return baseRest(func, start)
                        }

                        function spread(func, start) {
                            if (typeof func != "function") {
                                throw new TypeError(FUNC_ERROR_TEXT)
                            }
                            start = start == null ? 0 : nativeMax(toInteger(start), 0);
                            return baseRest(function(args) {
                                var array = args[start],
                                    otherArgs = castSlice(args, 0, start);
                                if (array) {
                                    arrayPush(otherArgs, array)
                                }
                                return apply(func, this, otherArgs)
                            })
                        }

                        function throttle(func, wait, options) {
                            var leading = true,
                                trailing = true;
                            if (typeof func != "function") {
                                throw new TypeError(FUNC_ERROR_TEXT)
                            }
                            if (isObject(options)) {
                                leading = "leading" in options ? !!options.leading : leading;
                                trailing = "trailing" in options ? !!options.trailing : trailing
                            }
                            return debounce(func, wait, {
                                leading: leading,
                                maxWait: wait,
                                trailing: trailing
                            })
                        }

                        function unary(func) {
                            return ary(func, 1)
                        }

                        function wrap(value, wrapper) {
                            return partial(castFunction(wrapper), value)
                        }

                        function castArray() {
                            if (!arguments.length) {
                                return []
                            }
                            var value = arguments[0];
                            return isArray(value) ? value : [value]
                        }

                        function clone(value) {
                            return baseClone(value, CLONE_SYMBOLS_FLAG)
                        }

                        function cloneWith(value, customizer) {
                            customizer = typeof customizer == "function" ? customizer : undefined;
                            return baseClone(value, CLONE_SYMBOLS_FLAG, customizer)
                        }

                        function cloneDeep(value) {
                            return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG)
                        }

                        function cloneDeepWith(value, customizer) {
                            customizer = typeof customizer == "function" ? customizer : undefined;
                            return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG, customizer)
                        }

                        function conformsTo(object, source) {
                            return source == null || baseConformsTo(object, source, keys(source))
                        }

                        function eq(value, other) {
                            return value === other || value !== value && other !== other
                        }
                        var gt = createRelationalOperation(baseGt);
                        var gte = createRelationalOperation(function(value, other) {
                            return value >= other
                        });
                        var isArguments = baseIsArguments(function() {
                            return arguments
                        }()) ? baseIsArguments : function(value) {
                            return isObjectLike(value) && hasOwnProperty.call(value, "callee") && !propertyIsEnumerable.call(value, "callee")
                        };
                        var isArray = Array.isArray;
                        var isArrayBuffer = nodeIsArrayBuffer ? baseUnary(nodeIsArrayBuffer) : baseIsArrayBuffer;

                        function isArrayLike(value) {
                            return value != null && isLength(value.length) && !isFunction(value)
                        }

                        function isArrayLikeObject(value) {
                            return isObjectLike(value) && isArrayLike(value)
                        }

                        function isBoolean(value) {
                            return value === true || value === false || isObjectLike(value) && baseGetTag(value) == boolTag
                        }
                        var isBuffer = nativeIsBuffer || stubFalse;
                        var isDate = nodeIsDate ? baseUnary(nodeIsDate) : baseIsDate;

                        function isElement(value) {
                            return isObjectLike(value) && value.nodeType === 1 && !isPlainObject(value)
                        }

                        function isEmpty(value) {
                            if (value == null) {
                                return true
                            }
                            if (isArrayLike(value) && (isArray(value) || typeof value == "string" || typeof value.splice == "function" || isBuffer(value) || isTypedArray(value) || isArguments(value))) {
                                return !value.length
                            }
                            var tag = getTag(value);
                            if (tag == mapTag || tag == setTag) {
                                return !value.size
                            }
                            if (isPrototype(value)) {
                                return !baseKeys(value).length
                            }
                            for (var key in value) {
                                if (hasOwnProperty.call(value, key)) {
                                    return false
                                }
                            }
                            return true
                        }

                        function isEqual(value, other) {
                            return baseIsEqual(value, other)
                        }

                        function isEqualWith(value, other, customizer) {
                            customizer = typeof customizer == "function" ? customizer : undefined;
                            var result = customizer ? customizer(value, other) : undefined;
                            return result === undefined ? baseIsEqual(value, other, undefined, customizer) : !!result
                        }

                        function isError(value) {
                            if (!isObjectLike(value)) {
                                return false
                            }
                            var tag = baseGetTag(value);
                            return tag == errorTag || tag == domExcTag || typeof value.message == "string" && typeof value.name == "string" && !isPlainObject(value)
                        }

                        function isFinite(value) {
                            return typeof value == "number" && nativeIsFinite(value)
                        }

                        function isFunction(value) {
                            if (!isObject(value)) {
                                return false
                            }
                            var tag = baseGetTag(value);
                            return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag
                        }

                        function isInteger(value) {
                            return typeof value == "number" && value == toInteger(value)
                        }

                        function isLength(value) {
                            return typeof value == "number" && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER
                        }

                        function isObject(value) {
                            var type = typeof value;
                            return value != null && (type == "object" || type == "function")
                        }

                        function isObjectLike(value) {
                            return value != null && typeof value == "object"
                        }
                        var isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;

                        function isMatch(object, source) {
                            return object === source || baseIsMatch(object, source, getMatchData(source))
                        }

                        function isMatchWith(object, source, customizer) {
                            customizer = typeof customizer == "function" ? customizer : undefined;
                            return baseIsMatch(object, source, getMatchData(source), customizer)
                        }

                        function isNaN(value) {
                            return isNumber(value) && value != +value
                        }

                        function isNative(value) {
                            if (isMaskable(value)) {
                                throw new Error(CORE_ERROR_TEXT)
                            }
                            return baseIsNative(value)
                        }

                        function isNull(value) {
                            return value === null
                        }

                        function isNil(value) {
                            return value == null
                        }

                        function isNumber(value) {
                            return typeof value == "number" || isObjectLike(value) && baseGetTag(value) == numberTag
                        }

                        function isPlainObject(value) {
                            if (!isObjectLike(value) || baseGetTag(value) != objectTag) {
                                return false
                            }
                            var proto = getPrototype(value);
                            if (proto === null) {
                                return true
                            }
                            var Ctor = hasOwnProperty.call(proto, "constructor") && proto.constructor;
                            return typeof Ctor == "function" && Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString
                        }
                        var isRegExp = nodeIsRegExp ? baseUnary(nodeIsRegExp) : baseIsRegExp;

                        function isSafeInteger(value) {
                            return isInteger(value) && value >= -MAX_SAFE_INTEGER && value <= MAX_SAFE_INTEGER
                        }
                        var isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;

                        function isString(value) {
                            return typeof value == "string" || !isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag
                        }

                        function isSymbol(value) {
                            return typeof value == "symbol" || isObjectLike(value) && baseGetTag(value) == symbolTag
                        }
                        var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;

                        function isUndefined(value) {
                            return value === undefined
                        }

                        function isWeakMap(value) {
                            return isObjectLike(value) && getTag(value) == weakMapTag
                        }

                        function isWeakSet(value) {
                            return isObjectLike(value) && baseGetTag(value) == weakSetTag
                        }
                        var lt = createRelationalOperation(baseLt);
                        var lte = createRelationalOperation(function(value, other) {
                            return value <= other
                        });

                        function toArray(value) {
                            if (!value) {
                                return []
                            }
                            if (isArrayLike(value)) {
                                return isString(value) ? stringToArray(value) : copyArray(value)
                            }
                            if (symIterator && value[symIterator]) {
                                return iteratorToArray(value[symIterator]())
                            }
                            var tag = getTag(value),
                                func = tag == mapTag ? mapToArray : tag == setTag ? setToArray : values;
                            return func(value)
                        }

                        function toFinite(value) {
                            if (!value) {
                                return value === 0 ? value : 0
                            }
                            value = toNumber(value);
                            if (value === INFINITY || value === -INFINITY) {
                                var sign = value < 0 ? -1 : 1;
                                return sign * MAX_INTEGER
                            }
                            return value === value ? value : 0
                        }

                        function toInteger(value) {
                            var result = toFinite(value),
                                remainder = result % 1;
                            return result === result ? remainder ? result - remainder : result : 0
                        }

                        function toLength(value) {
                            return value ? baseClamp(toInteger(value), 0, MAX_ARRAY_LENGTH) : 0
                        }

                        function toNumber(value) {
                            if (typeof value == "number") {
                                return value
                            }
                            if (isSymbol(value)) {
                                return NAN
                            }
                            if (isObject(value)) {
                                var other = typeof value.valueOf == "function" ? value.valueOf() : value;
                                value = isObject(other) ? other + "" : other
                            }
                            if (typeof value != "string") {
                                return value === 0 ? value : +value
                            }
                            value = baseTrim(value);
                            var isBinary = reIsBinary.test(value);
                            return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value
                        }

                        function toPlainObject(value) {
                            return copyObject(value, keysIn(value))
                        }

                        function toSafeInteger(value) {
                            return value ? baseClamp(toInteger(value), -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER) : value === 0 ? value : 0
                        }

                        function toString(value) {
                            return value == null ? "" : baseToString(value)
                        }
                        var assign = createAssigner(function(object, source) {
                            if (isPrototype(source) || isArrayLike(source)) {
                                copyObject(source, keys(source), object);
                                return
                            }
                            for (var key in source) {
                                if (hasOwnProperty.call(source, key)) {
                                    assignValue(object, key, source[key])
                                }
                            }
                        });
                        var assignIn = createAssigner(function(object, source) {
                            copyObject(source, keysIn(source), object)
                        });
                        var assignInWith = createAssigner(function(object, source, srcIndex, customizer) {
                            copyObject(source, keysIn(source), object, customizer)
                        });
                        var assignWith = createAssigner(function(object, source, srcIndex, customizer) {
                            copyObject(source, keys(source), object, customizer)
                        });
                        var at = flatRest(baseAt);

                        function create(prototype, properties) {
                            var result = baseCreate(prototype);
                            return properties == null ? result : baseAssign(result, properties)
                        }
                        var defaults = baseRest(function(object, sources) {
                            object = Object(object);
                            var index = -1;
                            var length = sources.length;
                            var guard = length > 2 ? sources[2] : undefined;
                            if (guard && isIterateeCall(sources[0], sources[1], guard)) {
                                length = 1
                            }
                            while (++index < length) {
                                var source = sources[index];
                                var props = keysIn(source);
                                var propsIndex = -1;
                                var propsLength = props.length;
                                while (++propsIndex < propsLength) {
                                    var key = props[propsIndex];
                                    var value = object[key];
                                    if (value === undefined || eq(value, objectProto[key]) && !hasOwnProperty.call(object, key)) {
                                        object[key] = source[key]
                                    }
                                }
                            }
                            return object
                        });
                        var defaultsDeep = baseRest(function(args) {
                            args.push(undefined, customDefaultsMerge);
                            return apply(mergeWith, undefined, args)
                        });

                        function findKey(object, predicate) {
                            return baseFindKey(object, getIteratee(predicate, 3), baseForOwn)
                        }

                        function findLastKey(object, predicate) {
                            return baseFindKey(object, getIteratee(predicate, 3), baseForOwnRight)
                        }

                        function forIn(object, iteratee) {
                            return object == null ? object : baseFor(object, getIteratee(iteratee, 3), keysIn)
                        }

                        function forInRight(object, iteratee) {
                            return object == null ? object : baseForRight(object, getIteratee(iteratee, 3), keysIn)
                        }

                        function forOwn(object, iteratee) {
                            return object && baseForOwn(object, getIteratee(iteratee, 3))
                        }

                        function forOwnRight(object, iteratee) {
                            return object && baseForOwnRight(object, getIteratee(iteratee, 3))
                        }

                        function functions(object) {
                            return object == null ? [] : baseFunctions(object, keys(object))
                        }

                        function functionsIn(object) {
                            return object == null ? [] : baseFunctions(object, keysIn(object))
                        }

                        function get(object, path, defaultValue) {
                            var result = object == null ? undefined : baseGet(object, path);
                            return result === undefined ? defaultValue : result
                        }

                        function has(object, path) {
                            return object != null && hasPath(object, path, baseHas)
                        }

                        function hasIn(object, path) {
                            return object != null && hasPath(object, path, baseHasIn)
                        }
                        var invert = createInverter(function(result, value, key) {
                            if (value != null && typeof value.toString != "function") {
                                value = nativeObjectToString.call(value)
                            }
                            result[value] = key
                        }, constant(identity));
                        var invertBy = createInverter(function(result, value, key) {
                            if (value != null && typeof value.toString != "function") {
                                value = nativeObjectToString.call(value)
                            }
                            if (hasOwnProperty.call(result, value)) {
                                result[value].push(key)
                            } else {
                                result[value] = [key]
                            }
                        }, getIteratee);
                        var invoke = baseRest(baseInvoke);

                        function keys(object) {
                            return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object)
                        }

                        function keysIn(object) {
                            return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object)
                        }

                        function mapKeys(object, iteratee) {
                            var result = {};
                            iteratee = getIteratee(iteratee, 3);
                            baseForOwn(object, function(value, key, object) {
                                baseAssignValue(result, iteratee(value, key, object), value)
                            });
                            return result
                        }

                        function mapValues(object, iteratee) {
                            var result = {};
                            iteratee = getIteratee(iteratee, 3);
                            baseForOwn(object, function(value, key, object) {
                                baseAssignValue(result, key, iteratee(value, key, object))
                            });
                            return result
                        }
                        var merge = createAssigner(function(object, source, srcIndex) {
                            baseMerge(object, source, srcIndex)
                        });
                        var mergeWith = createAssigner(function(object, source, srcIndex, customizer) {
                            baseMerge(object, source, srcIndex, customizer)
                        });
                        var omit = flatRest(function(object, paths) {
                            var result = {};
                            if (object == null) {
                                return result
                            }
                            var isDeep = false;
                            paths = arrayMap(paths, function(path) {
                                path = castPath(path, object);
                                isDeep || (isDeep = path.length > 1);
                                return path
                            });
                            copyObject(object, getAllKeysIn(object), result);
                            if (isDeep) {
                                result = baseClone(result, CLONE_DEEP_FLAG | CLONE_FLAT_FLAG | CLONE_SYMBOLS_FLAG, customOmitClone)
                            }
                            var length = paths.length;
                            while (length--) {
                                baseUnset(result, paths[length])
                            }
                            return result
                        });

                        function omitBy(object, predicate) {
                            return pickBy(object, negate(getIteratee(predicate)))
                        }
                        var pick = flatRest(function(object, paths) {
                            return object == null ? {} : basePick(object, paths)
                        });

                        function pickBy(object, predicate) {
                            if (object == null) {
                                return {}
                            }
                            var props = arrayMap(getAllKeysIn(object), function(prop) {
                                return [prop]
                            });
                            predicate = getIteratee(predicate);
                            return basePickBy(object, props, function(value, path) {
                                return predicate(value, path[0])
                            })
                        }

                        function result(object, path, defaultValue) {
                            path = castPath(path, object);
                            var index = -1,
                                length = path.length;
                            if (!length) {
                                length = 1;
                                object = undefined
                            }
                            while (++index < length) {
                                var value = object == null ? undefined : object[toKey(path[index])];
                                if (value === undefined) {
                                    index = length;
                                    value = defaultValue
                                }
                                object = isFunction(value) ? value.call(object) : value
                            }
                            return object
                        }

                        function set(object, path, value) {
                            return object == null ? object : baseSet(object, path, value)
                        }

                        function setWith(object, path, value, customizer) {
                            customizer = typeof customizer == "function" ? customizer : undefined;
                            return object == null ? object : baseSet(object, path, value, customizer)
                        }
                        var toPairs = createToPairs(keys);
                        var toPairsIn = createToPairs(keysIn);

                        function transform(object, iteratee, accumulator) {
                            var isArr = isArray(object),
                                isArrLike = isArr || isBuffer(object) || isTypedArray(object);
                            iteratee = getIteratee(iteratee, 4);
                            if (accumulator == null) {
                                var Ctor = object && object.constructor;
                                if (isArrLike) {
                                    accumulator = isArr ? new Ctor : []
                                } else if (isObject(object)) {
                                    accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {}
                                } else {
                                    accumulator = {}
                                }
                            }(isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {
                                return iteratee(accumulator, value, index, object)
                            });
                            return accumulator
                        }

                        function unset(object, path) {
                            return object == null ? true : baseUnset(object, path)
                        }

                        function update(object, path, updater) {
                            return object == null ? object : baseUpdate(object, path, castFunction(updater))
                        }

                        function updateWith(object, path, updater, customizer) {
                            customizer = typeof customizer == "function" ? customizer : undefined;
                            return object == null ? object : baseUpdate(object, path, castFunction(updater), customizer)
                        }

                        function values(object) {
                            return object == null ? [] : baseValues(object, keys(object))
                        }

                        function valuesIn(object) {
                            return object == null ? [] : baseValues(object, keysIn(object))
                        }

                        function clamp(number, lower, upper) {
                            if (upper === undefined) {
                                upper = lower;
                                lower = undefined
                            }
                            if (upper !== undefined) {
                                upper = toNumber(upper);
                                upper = upper === upper ? upper : 0
                            }
                            if (lower !== undefined) {
                                lower = toNumber(lower);
                                lower = lower === lower ? lower : 0
                            }
                            return baseClamp(toNumber(number), lower, upper)
                        }

                        function inRange(number, start, end) {
                            start = toFinite(start);
                            if (end === undefined) {
                                end = start;
                                start = 0
                            } else {
                                end = toFinite(end)
                            }
                            number = toNumber(number);
                            return baseInRange(number, start, end)
                        }

                        function random(lower, upper, floating) {
                            if (floating && typeof floating != "boolean" && isIterateeCall(lower, upper, floating)) {
                                upper = floating = undefined
                            }
                            if (floating === undefined) {
                                if (typeof upper == "boolean") {
                                    floating = upper;
                                    upper = undefined
                                } else if (typeof lower == "boolean") {
                                    floating = lower;
                                    lower = undefined
                                }
                            }
                            if (lower === undefined && upper === undefined) {
                                lower = 0;
                                upper = 1
                            } else {
                                lower = toFinite(lower);
                                if (upper === undefined) {
                                    upper = lower;
                                    lower = 0
                                } else {
                                    upper = toFinite(upper)
                                }
                            }
                            if (lower > upper) {
                                var temp = lower;
                                lower = upper;
                                upper = temp
                            }
                            if (floating || lower % 1 || upper % 1) {
                                var rand = nativeRandom();
                                return nativeMin(lower + rand * (upper - lower + freeParseFloat("1e-" + ((rand + "").length - 1))), upper)
                            }
                            return baseRandom(lower, upper)
                        }
                        var camelCase = createCompounder(function(result, word, index) {
                            word = word.toLowerCase();
                            return result + (index ? capitalize(word) : word)
                        });

                        function capitalize(string) {
                            return upperFirst(toString(string).toLowerCase())
                        }

                        function deburr(string) {
                            string = toString(string);
                            return string && string.replace(reLatin, deburrLetter).replace(reComboMark, "")
                        }

                        function endsWith(string, target, position) {
                            string = toString(string);
                            target = baseToString(target);
                            var length = string.length;
                            position = position === undefined ? length : baseClamp(toInteger(position), 0, length);
                            var end = position;
                            position -= target.length;
                            return position >= 0 && string.slice(position, end) == target
                        }

                        function escape(string) {
                            string = toString(string);
                            return string && reHasUnescapedHtml.test(string) ? string.replace(reUnescapedHtml, escapeHtmlChar) : string
                        }

                        function escapeRegExp(string) {
                            string = toString(string);
                            return string && reHasRegExpChar.test(string) ? string.replace(reRegExpChar, "\\$&") : string
                        }
                        var kebabCase = createCompounder(function(result, word, index) {
                            return result + (index ? "-" : "") + word.toLowerCase()
                        });
                        var lowerCase = createCompounder(function(result, word, index) {
                            return result + (index ? " " : "") + word.toLowerCase()
                        });
                        var lowerFirst = createCaseFirst("toLowerCase");

                        function pad(string, length, chars) {
                            string = toString(string);
                            length = toInteger(length);
                            var strLength = length ? stringSize(string) : 0;
                            if (!length || strLength >= length) {
                                return string
                            }
                            var mid = (length - strLength) / 2;
                            return createPadding(nativeFloor(mid), chars) + string + createPadding(nativeCeil(mid), chars)
                        }

                        function padEnd(string, length, chars) {
                            string = toString(string);
                            length = toInteger(length);
                            var strLength = length ? stringSize(string) : 0;
                            return length && strLength < length ? string + createPadding(length - strLength, chars) : string
                        }

                        function padStart(string, length, chars) {
                            string = toString(string);
                            length = toInteger(length);
                            var strLength = length ? stringSize(string) : 0;
                            return length && strLength < length ? createPadding(length - strLength, chars) + string : string
                        }

                        function parseInt(string, radix, guard) {
                            if (guard || radix == null) {
                                radix = 0
                            } else if (radix) {
                                radix = +radix
                            }
                            return nativeParseInt(toString(string).replace(reTrimStart, ""), radix || 0)
                        }

                        function repeat(string, n, guard) {
                            if (guard ? isIterateeCall(string, n, guard) : n === undefined) {
                                n = 1
                            } else {
                                n = toInteger(n)
                            }
                            return baseRepeat(toString(string), n)
                        }

                        function replace() {
                            var args = arguments,
                                string = toString(args[0]);
                            return args.length < 3 ? string : string.replace(args[1], args[2])
                        }
                        var snakeCase = createCompounder(function(result, word, index) {
                            return result + (index ? "_" : "") + word.toLowerCase()
                        });

                        function split(string, separator, limit) {
                            if (limit && typeof limit != "number" && isIterateeCall(string, separator, limit)) {
                                separator = limit = undefined
                            }
                            limit = limit === undefined ? MAX_ARRAY_LENGTH : limit >>> 0;
                            if (!limit) {
                                return []
                            }
                            string = toString(string);
                            if (string && (typeof separator == "string" || separator != null && !isRegExp(separator))) {
                                separator = baseToString(separator);
                                if (!separator && hasUnicode(string)) {
                                    return castSlice(stringToArray(string), 0, limit)
                                }
                            }
                            return string.split(separator, limit)
                        }
                        var startCase = createCompounder(function(result, word, index) {
                            return result + (index ? " " : "") + upperFirst(word)
                        });

                        function startsWith(string, target, position) {
                            string = toString(string);
                            position = position == null ? 0 : baseClamp(toInteger(position), 0, string.length);
                            target = baseToString(target);
                            return string.slice(position, position + target.length) == target
                        }

                        function template(string, options, guard) {
                            var settings = lodash.templateSettings;
                            if (guard && isIterateeCall(string, options, guard)) {
                                options = undefined
                            }
                            string = toString(string);
                            options = assignInWith({}, options, settings, customDefaultsAssignIn);
                            var imports = assignInWith({}, options.imports, settings.imports, customDefaultsAssignIn),
                                importsKeys = keys(imports),
                                importsValues = baseValues(imports, importsKeys);
                            var isEscaping, isEvaluating, index = 0,
                                interpolate = options.interpolate || reNoMatch,
                                source = "__p += '";
                            var reDelimiters = RegExp((options.escape || reNoMatch).source + "|" + interpolate.source + "|" + (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + "|" + (options.evaluate || reNoMatch).source + "|$", "g");
                            var sourceURL = "//# sourceURL=" + (hasOwnProperty.call(options, "sourceURL") ? (options.sourceURL + "").replace(/\s/g, " ") : "lodash.templateSources[" + ++templateCounter + "]") + "\n";
                            string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {
                                interpolateValue || (interpolateValue = esTemplateValue);
                                source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);
                                if (escapeValue) {
                                    isEscaping = true;
                                    source += "' +\n__e(" + escapeValue + ") +\n'"
                                }
                                if (evaluateValue) {
                                    isEvaluating = true;
                                    source += "';\n" + evaluateValue + ";\n__p += '"
                                }
                                if (interpolateValue) {
                                    source += "' +\n((__t = (" + interpolateValue + ")) == null ? '' : __t) +\n'"
                                }
                                index = offset + match.length;
                                return match
                            });
                            source += "';\n";
                            var variable = hasOwnProperty.call(options, "variable") && options.variable;
                            if (!variable) {
                                source = "with (obj) {\n" + source + "\n}\n"
                            } else if (reForbiddenIdentifierChars.test(variable)) {
                                throw new Error(INVALID_TEMPL_VAR_ERROR_TEXT)
                            }
                            source = (isEvaluating ? source.replace(reEmptyStringLeading, "") : source).replace(reEmptyStringMiddle, "$1").replace(reEmptyStringTrailing, "$1;");
                            source = "function(" + (variable || "obj") + ") {\n" + (variable ? "" : "obj || (obj = {});\n") + "var __t, __p = ''" + (isEscaping ? ", __e = _.escape" : "") + (isEvaluating ? ", __j = Array.prototype.join;\n" + "function print() { __p += __j.call(arguments, '') }\n" : ";\n") + source + "return __p\n}";
                            var result = attempt(function() {
                                return Function(importsKeys, sourceURL + "return " + source).apply(undefined, importsValues)
                            });
                            result.source = source;
                            if (isError(result)) {
                                throw result
                            }
                            return result
                        }

                        function toLower(value) {
                            return toString(value).toLowerCase()
                        }

                        function toUpper(value) {
                            return toString(value).toUpperCase()
                        }

                        function trim(string, chars, guard) {
                            string = toString(string);
                            if (string && (guard || chars === undefined)) {
                                return baseTrim(string)
                            }
                            if (!string || !(chars = baseToString(chars))) {
                                return string
                            }
                            var strSymbols = stringToArray(string),
                                chrSymbols = stringToArray(chars),
                                start = charsStartIndex(strSymbols, chrSymbols),
                                end = charsEndIndex(strSymbols, chrSymbols) + 1;
                            return castSlice(strSymbols, start, end).join("")
                        }

                        function trimEnd(string, chars, guard) {
                            string = toString(string);
                            if (string && (guard || chars === undefined)) {
                                return string.slice(0, trimmedEndIndex(string) + 1)
                            }
                            if (!string || !(chars = baseToString(chars))) {
                                return string
                            }
                            var strSymbols = stringToArray(string),
                                end = charsEndIndex(strSymbols, stringToArray(chars)) + 1;
                            return castSlice(strSymbols, 0, end).join("")
                        }

                        function trimStart(string, chars, guard) {
                            string = toString(string);
                            if (string && (guard || chars === undefined)) {
                                return string.replace(reTrimStart, "")
                            }
                            if (!string || !(chars = baseToString(chars))) {
                                return string
                            }
                            var strSymbols = stringToArray(string),
                                start = charsStartIndex(strSymbols, stringToArray(chars));
                            return castSlice(strSymbols, start).join("")
                        }

                        function truncate(string, options) {
                            var length = DEFAULT_TRUNC_LENGTH,
                                omission = DEFAULT_TRUNC_OMISSION;
                            if (isObject(options)) {
                                var separator = "separator" in options ? options.separator : separator;
                                length = "length" in options ? toInteger(options.length) : length;
                                omission = "omission" in options ? baseToString(options.omission) : omission
                            }
                            string = toString(string);
                            var strLength = string.length;
                            if (hasUnicode(string)) {
                                var strSymbols = stringToArray(string);
                                strLength = strSymbols.length
                            }
                            if (length >= strLength) {
                                return string
                            }
                            var end = length - stringSize(omission);
                            if (end < 1) {
                                return omission
                            }
                            var result = strSymbols ? castSlice(strSymbols, 0, end).join("") : string.slice(0, end);
                            if (separator === undefined) {
                                return result + omission
                            }
                            if (strSymbols) {
                                end += result.length - end
                            }
                            if (isRegExp(separator)) {
                                if (string.slice(end).search(separator)) {
                                    var match, substring = result;
                                    if (!separator.global) {
                                        separator = RegExp(separator.source, toString(reFlags.exec(separator)) + "g")
                                    }
                                    separator.lastIndex = 0;
                                    while (match = separator.exec(substring)) {
                                        var newEnd = match.index
                                    }
                                    result = result.slice(0, newEnd === undefined ? end : newEnd)
                                }
                            } else if (string.indexOf(baseToString(separator), end) != end) {
                                var index = result.lastIndexOf(separator);
                                if (index > -1) {
                                    result = result.slice(0, index)
                                }
                            }
                            return result + omission
                        }

                        function unescape(string) {
                            string = toString(string);
                            return string && reHasEscapedHtml.test(string) ? string.replace(reEscapedHtml, unescapeHtmlChar) : string
                        }
                        var upperCase = createCompounder(function(result, word, index) {
                            return result + (index ? " " : "") + word.toUpperCase()
                        });
                        var upperFirst = createCaseFirst("toUpperCase");

                        function words(string, pattern, guard) {
                            string = toString(string);
                            pattern = guard ? undefined : pattern;
                            if (pattern === undefined) {
                                return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string)
                            }
                            return string.match(pattern) || []
                        }
                        var attempt = baseRest(function(func, args) {
                            try {
                                return apply(func, undefined, args)
                            } catch (e) {
                                return isError(e) ? e : new Error(e)
                            }
                        });
                        var bindAll = flatRest(function(object, methodNames) {
                            arrayEach(methodNames, function(key) {
                                key = toKey(key);
                                baseAssignValue(object, key, bind(object[key], object))
                            });
                            return object
                        });

                        function cond(pairs) {
                            var length = pairs == null ? 0 : pairs.length,
                                toIteratee = getIteratee();
                            pairs = !length ? [] : arrayMap(pairs, function(pair) {
                                if (typeof pair[1] != "function") {
                                    throw new TypeError(FUNC_ERROR_TEXT)
                                }
                                return [toIteratee(pair[0]), pair[1]]
                            });
                            return baseRest(function(args) {
                                var index = -1;
                                while (++index < length) {
                                    var pair = pairs[index];
                                    if (apply(pair[0], this, args)) {
                                        return apply(pair[1], this, args)
                                    }
                                }
                            })
                        }

                        function conforms(source) {
                            return baseConforms(baseClone(source, CLONE_DEEP_FLAG))
                        }

                        function constant(value) {
                            return function() {
                                return value
                            }
                        }

                        function defaultTo(value, defaultValue) {
                            return value == null || value !== value ? defaultValue : value
                        }
                        var flow = createFlow();
                        var flowRight = createFlow(true);

                        function identity(value) {
                            return value
                        }

                        function iteratee(func) {
                            return baseIteratee(typeof func == "function" ? func : baseClone(func, CLONE_DEEP_FLAG))
                        }

                        function matches(source) {
                            return baseMatches(baseClone(source, CLONE_DEEP_FLAG))
                        }

                        function matchesProperty(path, srcValue) {
                            return baseMatchesProperty(path, baseClone(srcValue, CLONE_DEEP_FLAG))
                        }
                        var method = baseRest(function(path, args) {
                            return function(object) {
                                return baseInvoke(object, path, args)
                            }
                        });
                        var methodOf = baseRest(function(object, args) {
                            return function(path) {
                                return baseInvoke(object, path, args)
                            }
                        });

                        function mixin(object, source, options) {
                            var props = keys(source),
                                methodNames = baseFunctions(source, props);
                            if (options == null && !(isObject(source) && (methodNames.length || !props.length))) {
                                options = source;
                                source = object;
                                object = this;
                                methodNames = baseFunctions(source, keys(source))
                            }
                            var chain = !(isObject(options) && "chain" in options) || !!options.chain,
                                isFunc = isFunction(object);
                            arrayEach(methodNames, function(methodName) {
                                var func = source[methodName];
                                object[methodName] = func;
                                if (isFunc) {
                                    object.prototype[methodName] = function() {
                                        var chainAll = this.__chain__;
                                        if (chain || chainAll) {
                                            var result = object(this.__wrapped__),
                                                actions = result.__actions__ = copyArray(this.__actions__);
                                            actions.push({
                                                func: func,
                                                args: arguments,
                                                thisArg: object
                                            });
                                            result.__chain__ = chainAll;
                                            return result
                                        }
                                        return func.apply(object, arrayPush([this.value()], arguments))
                                    }
                                }
                            });
                            return object
                        }

                        function noConflict() {
                            if (root._ === this) {
                                root._ = oldDash
                            }
                            return this
                        }

                        function noop() {}

                        function nthArg(n) {
                            n = toInteger(n);
                            return baseRest(function(args) {
                                return baseNth(args, n)
                            })
                        }
                        var over = createOver(arrayMap);
                        var overEvery = createOver(arrayEvery);
                        var overSome = createOver(arraySome);

                        function property(path) {
                            return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path)
                        }

                        function propertyOf(object) {
                            return function(path) {
                                return object == null ? undefined : baseGet(object, path)
                            }
                        }
                        var range = createRange();
                        var rangeRight = createRange(true);

                        function stubArray() {
                            return []
                        }

                        function stubFalse() {
                            return false
                        }

                        function stubObject() {
                            return {}
                        }

                        function stubString() {
                            return ""
                        }

                        function stubTrue() {
                            return true
                        }

                        function times(n, iteratee) {
                            n = toInteger(n);
                            if (n < 1 || n > MAX_SAFE_INTEGER) {
                                return []
                            }
                            var index = MAX_ARRAY_LENGTH,
                                length = nativeMin(n, MAX_ARRAY_LENGTH);
                            iteratee = getIteratee(iteratee);
                            n -= MAX_ARRAY_LENGTH;
                            var result = baseTimes(length, iteratee);
                            while (++index < n) {
                                iteratee(index)
                            }
                            return result
                        }

                        function toPath(value) {
                            if (isArray(value)) {
                                return arrayMap(value, toKey)
                            }
                            return isSymbol(value) ? [value] : copyArray(stringToPath(toString(value)))
                        }

                        function uniqueId(prefix) {
                            var id = ++idCounter;
                            return toString(prefix) + id
                        }
                        var add = createMathOperation(function(augend, addend) {
                            return augend + addend
                        }, 0);
                        var ceil = createRound("ceil");
                        var divide = createMathOperation(function(dividend, divisor) {
                            return dividend / divisor
                        }, 1);
                        var floor = createRound("floor");

                        function max(array) {
                            return array && array.length ? baseExtremum(array, identity, baseGt) : undefined
                        }

                        function maxBy(array, iteratee) {
                            return array && array.length ? baseExtremum(array, getIteratee(iteratee, 2), baseGt) : undefined
                        }

                        function mean(array) {
                            return baseMean(array, identity)
                        }

                        function meanBy(array, iteratee) {
                            return baseMean(array, getIteratee(iteratee, 2))
                        }

                        function min(array) {
                            return array && array.length ? baseExtremum(array, identity, baseLt) : undefined
                        }

                        function minBy(array, iteratee) {
                            return array && array.length ? baseExtremum(array, getIteratee(iteratee, 2), baseLt) : undefined
                        }
                        var multiply = createMathOperation(function(multiplier, multiplicand) {
                            return multiplier * multiplicand
                        }, 1);
                        var round = createRound("round");
                        var subtract = createMathOperation(function(minuend, subtrahend) {
                            return minuend - subtrahend
                        }, 0);

                        function sum(array) {
                            return array && array.length ? baseSum(array, identity) : 0
                        }

                        function sumBy(array, iteratee) {
                            return array && array.length ? baseSum(array, getIteratee(iteratee, 2)) : 0
                        }
                        lodash.after = after;
                        lodash.ary = ary;
                        lodash.assign = assign;
                        lodash.assignIn = assignIn;
                        lodash.assignInWith = assignInWith;
                        lodash.assignWith = assignWith;
                        lodash.at = at;
                        lodash.before = before;
                        lodash.bind = bind;
                        lodash.bindAll = bindAll;
                        lodash.bindKey = bindKey;
                        lodash.castArray = castArray;
                        lodash.chain = chain;
                        lodash.chunk = chunk;
                        lodash.compact = compact;
                        lodash.concat = concat;
                        lodash.cond = cond;
                        lodash.conforms = conforms;
                        lodash.constant = constant;
                        lodash.countBy = countBy;
                        lodash.create = create;
                        lodash.curry = curry;
                        lodash.curryRight = curryRight;
                        lodash.debounce = debounce;
                        lodash.defaults = defaults;
                        lodash.defaultsDeep = defaultsDeep;
                        lodash.defer = defer;
                        lodash.delay = delay;
                        lodash.difference = difference;
                        lodash.differenceBy = differenceBy;
                        lodash.differenceWith = differenceWith;
                        lodash.drop = drop;
                        lodash.dropRight = dropRight;
                        lodash.dropRightWhile = dropRightWhile;
                        lodash.dropWhile = dropWhile;
                        lodash.fill = fill;
                        lodash.filter = filter;
                        lodash.flatMap = flatMap;
                        lodash.flatMapDeep = flatMapDeep;
                        lodash.flatMapDepth = flatMapDepth;
                        lodash.flatten = flatten;
                        lodash.flattenDeep = flattenDeep;
                        lodash.flattenDepth = flattenDepth;
                        lodash.flip = flip;
                        lodash.flow = flow;
                        lodash.flowRight = flowRight;
                        lodash.fromPairs = fromPairs;
                        lodash.functions = functions;
                        lodash.functionsIn = functionsIn;
                        lodash.groupBy = groupBy;
                        lodash.initial = initial;
                        lodash.intersection = intersection;
                        lodash.intersectionBy = intersectionBy;
                        lodash.intersectionWith = intersectionWith;
                        lodash.invert = invert;
                        lodash.invertBy = invertBy;
                        lodash.invokeMap = invokeMap;
                        lodash.iteratee = iteratee;
                        lodash.keyBy = keyBy;
                        lodash.keys = keys;
                        lodash.keysIn = keysIn;
                        lodash.map = map;
                        lodash.mapKeys = mapKeys;
                        lodash.mapValues = mapValues;
                        lodash.matches = matches;
                        lodash.matchesProperty = matchesProperty;
                        lodash.memoize = memoize;
                        lodash.merge = merge;
                        lodash.mergeWith = mergeWith;
                        lodash.method = method;
                        lodash.methodOf = methodOf;
                        lodash.mixin = mixin;
                        lodash.negate = negate;
                        lodash.nthArg = nthArg;
                        lodash.omit = omit;
                        lodash.omitBy = omitBy;
                        lodash.once = once;
                        lodash.orderBy = orderBy;
                        lodash.over = over;
                        lodash.overArgs = overArgs;
                        lodash.overEvery = overEvery;
                        lodash.overSome = overSome;
                        lodash.partial = partial;
                        lodash.partialRight = partialRight;
                        lodash.partition = partition;
                        lodash.pick = pick;
                        lodash.pickBy = pickBy;
                        lodash.property = property;
                        lodash.propertyOf = propertyOf;
                        lodash.pull = pull;
                        lodash.pullAll = pullAll;
                        lodash.pullAllBy = pullAllBy;
                        lodash.pullAllWith = pullAllWith;
                        lodash.pullAt = pullAt;
                        lodash.range = range;
                        lodash.rangeRight = rangeRight;
                        lodash.rearg = rearg;
                        lodash.reject = reject;
                        lodash.remove = remove;
                        lodash.rest = rest;
                        lodash.reverse = reverse;
                        lodash.sampleSize = sampleSize;
                        lodash.set = set;
                        lodash.setWith = setWith;
                        lodash.shuffle = shuffle;
                        lodash.slice = slice;
                        lodash.sortBy = sortBy;
                        lodash.sortedUniq = sortedUniq;
                        lodash.sortedUniqBy = sortedUniqBy;
                        lodash.split = split;
                        lodash.spread = spread;
                        lodash.tail = tail;
                        lodash.take = take;
                        lodash.takeRight = takeRight;
                        lodash.takeRightWhile = takeRightWhile;
                        lodash.takeWhile = takeWhile;
                        lodash.tap = tap;
                        lodash.throttle = throttle;
                        lodash.thru = thru;
                        lodash.toArray = toArray;
                        lodash.toPairs = toPairs;
                        lodash.toPairsIn = toPairsIn;
                        lodash.toPath = toPath;
                        lodash.toPlainObject = toPlainObject;
                        lodash.transform = transform;
                        lodash.unary = unary;
                        lodash.union = union;
                        lodash.unionBy = unionBy;
                        lodash.unionWith = unionWith;
                        lodash.uniq = uniq;
                        lodash.uniqBy = uniqBy;
                        lodash.uniqWith = uniqWith;
                        lodash.unset = unset;
                        lodash.unzip = unzip;
                        lodash.unzipWith = unzipWith;
                        lodash.update = update;
                        lodash.updateWith = updateWith;
                        lodash.values = values;
                        lodash.valuesIn = valuesIn;
                        lodash.without = without;
                        lodash.words = words;
                        lodash.wrap = wrap;
                        lodash.xor = xor;
                        lodash.xorBy = xorBy;
                        lodash.xorWith = xorWith;
                        lodash.zip = zip;
                        lodash.zipObject = zipObject;
                        lodash.zipObjectDeep = zipObjectDeep;
                        lodash.zipWith = zipWith;
                        lodash.entries = toPairs;
                        lodash.entriesIn = toPairsIn;
                        lodash.extend = assignIn;
                        lodash.extendWith = assignInWith;
                        mixin(lodash, lodash);
                        lodash.add = add;
                        lodash.attempt = attempt;
                        lodash.camelCase = camelCase;
                        lodash.capitalize = capitalize;
                        lodash.ceil = ceil;
                        lodash.clamp = clamp;
                        lodash.clone = clone;
                        lodash.cloneDeep = cloneDeep;
                        lodash.cloneDeepWith = cloneDeepWith;
                        lodash.cloneWith = cloneWith;
                        lodash.conformsTo = conformsTo;
                        lodash.deburr = deburr;
                        lodash.defaultTo = defaultTo;
                        lodash.divide = divide;
                        lodash.endsWith = endsWith;
                        lodash.eq = eq;
                        lodash.escape = escape;
                        lodash.escapeRegExp = escapeRegExp;
                        lodash.every = every;
                        lodash.find = find;
                        lodash.findIndex = findIndex;
                        lodash.findKey = findKey;
                        lodash.findLast = findLast;
                        lodash.findLastIndex = findLastIndex;
                        lodash.findLastKey = findLastKey;
                        lodash.floor = floor;
                        lodash.forEach = forEach;
                        lodash.forEachRight = forEachRight;
                        lodash.forIn = forIn;
                        lodash.forInRight = forInRight;
                        lodash.forOwn = forOwn;
                        lodash.forOwnRight = forOwnRight;
                        lodash.get = get;
                        lodash.gt = gt;
                        lodash.gte = gte;
                        lodash.has = has;
                        lodash.hasIn = hasIn;
                        lodash.head = head;
                        lodash.identity = identity;
                        lodash.includes = includes;
                        lodash.indexOf = indexOf;
                        lodash.inRange = inRange;
                        lodash.invoke = invoke;
                        lodash.isArguments = isArguments;
                        lodash.isArray = isArray;
                        lodash.isArrayBuffer = isArrayBuffer;
                        lodash.isArrayLike = isArrayLike;
                        lodash.isArrayLikeObject = isArrayLikeObject;
                        lodash.isBoolean = isBoolean;
                        lodash.isBuffer = isBuffer;
                        lodash.isDate = isDate;
                        lodash.isElement = isElement;
                        lodash.isEmpty = isEmpty;
                        lodash.isEqual = isEqual;
                        lodash.isEqualWith = isEqualWith;
                        lodash.isError = isError;
                        lodash.isFinite = isFinite;
                        lodash.isFunction = isFunction;
                        lodash.isInteger = isInteger;
                        lodash.isLength = isLength;
                        lodash.isMap = isMap;
                        lodash.isMatch = isMatch;
                        lodash.isMatchWith = isMatchWith;
                        lodash.isNaN = isNaN;
                        lodash.isNative = isNative;
                        lodash.isNil = isNil;
                        lodash.isNull = isNull;
                        lodash.isNumber = isNumber;
                        lodash.isObject = isObject;
                        lodash.isObjectLike = isObjectLike;
                        lodash.isPlainObject = isPlainObject;
                        lodash.isRegExp = isRegExp;
                        lodash.isSafeInteger = isSafeInteger;
                        lodash.isSet = isSet;
                        lodash.isString = isString;
                        lodash.isSymbol = isSymbol;
                        lodash.isTypedArray = isTypedArray;
                        lodash.isUndefined = isUndefined;
                        lodash.isWeakMap = isWeakMap;
                        lodash.isWeakSet = isWeakSet;
                        lodash.join = join;
                        lodash.kebabCase = kebabCase;
                        lodash.last = last;
                        lodash.lastIndexOf = lastIndexOf;
                        lodash.lowerCase = lowerCase;
                        lodash.lowerFirst = lowerFirst;
                        lodash.lt = lt;
                        lodash.lte = lte;
                        lodash.max = max;
                        lodash.maxBy = maxBy;
                        lodash.mean = mean;
                        lodash.meanBy = meanBy;
                        lodash.min = min;
                        lodash.minBy = minBy;
                        lodash.stubArray = stubArray;
                        lodash.stubFalse = stubFalse;
                        lodash.stubObject = stubObject;
                        lodash.stubString = stubString;
                        lodash.stubTrue = stubTrue;
                        lodash.multiply = multiply;
                        lodash.nth = nth;
                        lodash.noConflict = noConflict;
                        lodash.noop = noop;
                        lodash.now = now;
                        lodash.pad = pad;
                        lodash.padEnd = padEnd;
                        lodash.padStart = padStart;
                        lodash.parseInt = parseInt;
                        lodash.random = random;
                        lodash.reduce = reduce;
                        lodash.reduceRight = reduceRight;
                        lodash.repeat = repeat;
                        lodash.replace = replace;
                        lodash.result = result;
                        lodash.round = round;
                        lodash.runInContext = runInContext;
                        lodash.sample = sample;
                        lodash.size = size;
                        lodash.snakeCase = snakeCase;
                        lodash.some = some;
                        lodash.sortedIndex = sortedIndex;
                        lodash.sortedIndexBy = sortedIndexBy;
                        lodash.sortedIndexOf = sortedIndexOf;
                        lodash.sortedLastIndex = sortedLastIndex;
                        lodash.sortedLastIndexBy = sortedLastIndexBy;
                        lodash.sortedLastIndexOf = sortedLastIndexOf;
                        lodash.startCase = startCase;
                        lodash.startsWith = startsWith;
                        lodash.subtract = subtract;
                        lodash.sum = sum;
                        lodash.sumBy = sumBy;
                        lodash.template = template;
                        lodash.times = times;
                        lodash.toFinite = toFinite;
                        lodash.toInteger = toInteger;
                        lodash.toLength = toLength;
                        lodash.toLower = toLower;
                        lodash.toNumber = toNumber;
                        lodash.toSafeInteger = toSafeInteger;
                        lodash.toString = toString;
                        lodash.toUpper = toUpper;
                        lodash.trim = trim;
                        lodash.trimEnd = trimEnd;
                        lodash.trimStart = trimStart;
                        lodash.truncate = truncate;
                        lodash.unescape = unescape;
                        lodash.uniqueId = uniqueId;
                        lodash.upperCase = upperCase;
                        lodash.upperFirst = upperFirst;
                        lodash.each = forEach;
                        lodash.eachRight = forEachRight;
                        lodash.first = head;
                        mixin(lodash, function() {
                            var source = {};
                            baseForOwn(lodash, function(func, methodName) {
                                if (!hasOwnProperty.call(lodash.prototype, methodName)) {
                                    source[methodName] = func
                                }
                            });
                            return source
                        }(), {
                            chain: false
                        });
                        lodash.VERSION = VERSION;
                        arrayEach(["bind", "bindKey", "curry", "curryRight", "partial", "partialRight"], function(methodName) {
                            lodash[methodName].placeholder = lodash
                        });
                        arrayEach(["drop", "take"], function(methodName, index) {
                            LazyWrapper.prototype[methodName] = function(n) {
                                n = n === undefined ? 1 : nativeMax(toInteger(n), 0);
                                var result = this.__filtered__ && !index ? new LazyWrapper(this) : this.clone();
                                if (result.__filtered__) {
                                    result.__takeCount__ = nativeMin(n, result.__takeCount__)
                                } else {
                                    result.__views__.push({
                                        size: nativeMin(n, MAX_ARRAY_LENGTH),
                                        type: methodName + (result.__dir__ < 0 ? "Right" : "")
                                    })
                                }
                                return result
                            };
                            LazyWrapper.prototype[methodName + "Right"] = function(n) {
                                return this.reverse()[methodName](n).reverse()
                            }
                        });
                        arrayEach(["filter", "map", "takeWhile"], function(methodName, index) {
                            var type = index + 1,
                                isFilter = type == LAZY_FILTER_FLAG || type == LAZY_WHILE_FLAG;
                            LazyWrapper.prototype[methodName] = function(iteratee) {
                                var result = this.clone();
                                result.__iteratees__.push({
                                    iteratee: getIteratee(iteratee, 3),
                                    type: type
                                });
                                result.__filtered__ = result.__filtered__ || isFilter;
                                return result
                            }
                        });
                        arrayEach(["head", "last"], function(methodName, index) {
                            var takeName = "take" + (index ? "Right" : "");
                            LazyWrapper.prototype[methodName] = function() {
                                return this[takeName](1).value()[0]
                            }
                        });
                        arrayEach(["initial", "tail"], function(methodName, index) {
                            var dropName = "drop" + (index ? "" : "Right");
                            LazyWrapper.prototype[methodName] = function() {
                                return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1)
                            }
                        });
                        LazyWrapper.prototype.compact = function() {
                            return this.filter(identity)
                        };
                        LazyWrapper.prototype.find = function(predicate) {
                            return this.filter(predicate).head()
                        };
                        LazyWrapper.prototype.findLast = function(predicate) {
                            return this.reverse().find(predicate)
                        };
                        LazyWrapper.prototype.invokeMap = baseRest(function(path, args) {
                            if (typeof path == "function") {
                                return new LazyWrapper(this)
                            }
                            return this.map(function(value) {
                                return baseInvoke(value, path, args)
                            })
                        });
                        LazyWrapper.prototype.reject = function(predicate) {
                            return this.filter(negate(getIteratee(predicate)))
                        };
                        LazyWrapper.prototype.slice = function(start, end) {
                            start = toInteger(start);
                            var result = this;
                            if (result.__filtered__ && (start > 0 || end < 0)) {
                                return new LazyWrapper(result)
                            }
                            if (start < 0) {
                                result = result.takeRight(-start)
                            } else if (start) {
                                result = result.drop(start)
                            }
                            if (end !== undefined) {
                                end = toInteger(end);
                                result = end < 0 ? result.dropRight(-end) : result.take(end - start)
                            }
                            return result
                        };
                        LazyWrapper.prototype.takeRightWhile = function(predicate) {
                            return this.reverse().takeWhile(predicate).reverse()
                        };
                        LazyWrapper.prototype.toArray = function() {
                            return this.take(MAX_ARRAY_LENGTH)
                        };
                        baseForOwn(LazyWrapper.prototype, function(func, methodName) {
                            var checkIteratee = /^(?:filter|find|map|reject)|While$/.test(methodName),
                                isTaker = /^(?:head|last)$/.test(methodName),
                                lodashFunc = lodash[isTaker ? "take" + (methodName == "last" ? "Right" : "") : methodName],
                                retUnwrapped = isTaker || /^find/.test(methodName);
                            if (!lodashFunc) {
                                return
                            }
                            lodash.prototype[methodName] = function() {
                                var value = this.__wrapped__,
                                    args = isTaker ? [1] : arguments,
                                    isLazy = value instanceof LazyWrapper,
                                    iteratee = args[0],
                                    useLazy = isLazy || isArray(value);
                                var interceptor = function(value) {
                                    var result = lodashFunc.apply(lodash, arrayPush([value], args));
                                    return isTaker && chainAll ? result[0] : result
                                };
                                if (useLazy && checkIteratee && typeof iteratee == "function" && iteratee.length != 1) {
                                    isLazy = useLazy = false
                                }
                                var chainAll = this.__chain__,
                                    isHybrid = !!this.__actions__.length,
                                    isUnwrapped = retUnwrapped && !chainAll,
                                    onlyLazy = isLazy && !isHybrid;
                                if (!retUnwrapped && useLazy) {
                                    value = onlyLazy ? value : new LazyWrapper(this);
                                    var result = func.apply(value, args);
                                    result.__actions__.push({
                                        func: thru,
                                        args: [interceptor],
                                        thisArg: undefined
                                    });
                                    return new LodashWrapper(result, chainAll)
                                }
                                if (isUnwrapped && onlyLazy) {
                                    return func.apply(this, args)
                                }
                                result = this.thru(interceptor);
                                return isUnwrapped ? isTaker ? result.value()[0] : result.value() : result
                            }
                        });
                        arrayEach(["pop", "push", "shift", "sort", "splice", "unshift"], function(methodName) {
                            var func = arrayProto[methodName],
                                chainName = /^(?:push|sort|unshift)$/.test(methodName) ? "tap" : "thru",
                                retUnwrapped = /^(?:pop|shift)$/.test(methodName);
                            lodash.prototype[methodName] = function() {
                                var args = arguments;
                                if (retUnwrapped && !this.__chain__) {
                                    var value = this.value();
                                    return func.apply(isArray(value) ? value : [], args)
                                }
                                return this[chainName](function(value) {
                                    return func.apply(isArray(value) ? value : [], args)
                                })
                            }
                        });
                        baseForOwn(LazyWrapper.prototype, function(func, methodName) {
                            var lodashFunc = lodash[methodName];
                            if (lodashFunc) {
                                var key = lodashFunc.name + "";
                                if (!hasOwnProperty.call(realNames, key)) {
                                    realNames[key] = []
                                }
                                realNames[key].push({
                                    name: methodName,
                                    func: lodashFunc
                                })
                            }
                        });
                        realNames[createHybrid(undefined, WRAP_BIND_KEY_FLAG).name] = [{
                            name: "wrapper",
                            func: undefined
                        }];
                        LazyWrapper.prototype.clone = lazyClone;
                        LazyWrapper.prototype.reverse = lazyReverse;
                        LazyWrapper.prototype.value = lazyValue;
                        lodash.prototype.at = wrapperAt;
                        lodash.prototype.chain = wrapperChain;
                        lodash.prototype.commit = wrapperCommit;
                        lodash.prototype.next = wrapperNext;
                        lodash.prototype.plant = wrapperPlant;
                        lodash.prototype.reverse = wrapperReverse;
                        lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;
                        lodash.prototype.first = lodash.prototype.head;
                        if (symIterator) {
                            lodash.prototype[symIterator] = wrapperToIterator
                        }
                        return lodash
                    };
                    var _ = runInContext();
                    if (typeof define == "function" && typeof define.amd == "object" && define.amd) {
                        root._ = _;
                        define(function() {
                            return _
                        })
                    } else if (freeModule) {
                        (freeModule.exports = _)._ = _;
                        freeExports._ = _
                    } else {
                        root._ = _
                    }
                }).call(this)
            }).call(this)
        }).call(this, typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
    }, {}],
    20: [function(require, module, exports) {
        (function(global, factory) {
            typeof exports === "object" && typeof module !== "undefined" ? module.exports = factory() : typeof define === "function" && define.amd ? define(factory) : (global = global || self, global.Mustache = factory())
        })(this, function() {
            "use strict";
            var objectToString = Object.prototype.toString;
            var isArray = Array.isArray || function isArrayPolyfill(object) {
                return objectToString.call(object) === "[object Array]"
            };

            function isFunction(object) {
                return typeof object === "function"
            }

            function typeStr(obj) {
                return isArray(obj) ? "array" : typeof obj
            }

            function escapeRegExp(string) {
                return string.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&")
            }

            function hasProperty(obj, propName) {
                return obj != null && typeof obj === "object" && propName in obj
            }

            function primitiveHasOwnProperty(primitive, propName) {
                return primitive != null && typeof primitive !== "object" && primitive.hasOwnProperty && primitive.hasOwnProperty(propName)
            }
            var regExpTest = RegExp.prototype.test;

            function testRegExp(re, string) {
                return regExpTest.call(re, string)
            }
            var nonSpaceRe = /\S/;

            function isWhitespace(string) {
                return !testRegExp(nonSpaceRe, string)
            }
            var entityMap = {
                "&": "&amp;",
                "<": "&lt;",
                ">": "&gt;",
                '"': "&quot;",
                "'": "&#39;",
                "/": "&#x2F;",
                "`": "&#x60;",
                "=": "&#x3D;"
            };

            function escapeHtml(string) {
                return String(string).replace(/[&<>"'`=\/]/g, function fromEntityMap(s) {
                    return entityMap[s]
                })
            }
            var whiteRe = /\s*/;
            var spaceRe = /\s+/;
            var equalsRe = /\s*=/;
            var curlyRe = /\s*\}/;
            var tagRe = /#|\^|\/|>|\{|&|=|!/;

            function parseTemplate(template, tags) {
                if (!template) return [];
                var lineHasNonSpace = false;
                var sections = [];
                var tokens = [];
                var spaces = [];
                var hasTag = false;
                var nonSpace = false;
                var indentation = "";
                var tagIndex = 0;

                function stripSpace() {
                    if (hasTag && !nonSpace) {
                        while (spaces.length) delete tokens[spaces.pop()]
                    } else {
                        spaces = []
                    }
                    hasTag = false;
                    nonSpace = false
                }
                var openingTagRe, closingTagRe, closingCurlyRe;

                function compileTags(tagsToCompile) {
                    if (typeof tagsToCompile === "string") tagsToCompile = tagsToCompile.split(spaceRe, 2);
                    if (!isArray(tagsToCompile) || tagsToCompile.length !== 2) throw new Error("Invalid tags: " + tagsToCompile);
                    openingTagRe = new RegExp(escapeRegExp(tagsToCompile[0]) + "\\s*");
                    closingTagRe = new RegExp("\\s*" + escapeRegExp(tagsToCompile[1]));
                    closingCurlyRe = new RegExp("\\s*" + escapeRegExp("}" + tagsToCompile[1]))
                }
                compileTags(tags || mustache.tags);
                var scanner = new Scanner(template);
                var start, type, value, chr, token, openSection;
                while (!scanner.eos()) {
                    start = scanner.pos;
                    value = scanner.scanUntil(openingTagRe);
                    if (value) {
                        for (var i = 0, valueLength = value.length; i < valueLength; ++i) {
                            chr = value.charAt(i);
                            if (isWhitespace(chr)) {
                                spaces.push(tokens.length);
                                indentation += chr
                            } else {
                                nonSpace = true;
                                lineHasNonSpace = true;
                                indentation += " "
                            }
                            tokens.push(["text", chr, start, start + 1]);
                            start += 1;
                            if (chr === "\n") {
                                stripSpace();
                                indentation = "";
                                tagIndex = 0;
                                lineHasNonSpace = false
                            }
                        }
                    }
                    if (!scanner.scan(openingTagRe)) break;
                    hasTag = true;
                    type = scanner.scan(tagRe) || "name";
                    scanner.scan(whiteRe);
                    if (type === "=") {
                        value = scanner.scanUntil(equalsRe);
                        scanner.scan(equalsRe);
                        scanner.scanUntil(closingTagRe)
                    } else if (type === "{") {
                        value = scanner.scanUntil(closingCurlyRe);
                        scanner.scan(curlyRe);
                        scanner.scanUntil(closingTagRe);
                        type = "&"
                    } else {
                        value = scanner.scanUntil(closingTagRe)
                    }
                    if (!scanner.scan(closingTagRe)) throw new Error("Unclosed tag at " + scanner.pos);
                    if (type == ">") {
                        token = [type, value, start, scanner.pos, indentation, tagIndex, lineHasNonSpace]
                    } else {
                        token = [type, value, start, scanner.pos]
                    }
                    tagIndex++;
                    tokens.push(token);
                    if (type === "#" || type === "^") {
                        sections.push(token)
                    } else if (type === "/") {
                        openSection = sections.pop();
                        if (!openSection) throw new Error('Unopened section "' + value + '" at ' + start);
                        if (openSection[1] !== value) throw new Error('Unclosed section "' + openSection[1] + '" at ' + start)
                    } else if (type === "name" || type === "{" || type === "&") {
                        nonSpace = true
                    } else if (type === "=") {
                        compileTags(value)
                    }
                }
                stripSpace();
                openSection = sections.pop();
                if (openSection) throw new Error('Unclosed section "' + openSection[1] + '" at ' + scanner.pos);
                return nestTokens(squashTokens(tokens))
            }

            function squashTokens(tokens) {
                var squashedTokens = [];
                var token, lastToken;
                for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {
                    token = tokens[i];
                    if (token) {
                        if (token[0] === "text" && lastToken && lastToken[0] === "text") {
                            lastToken[1] += token[1];
                            lastToken[3] = token[3]
                        } else {
                            squashedTokens.push(token);
                            lastToken = token
                        }
                    }
                }
                return squashedTokens
            }

            function nestTokens(tokens) {
                var nestedTokens = [];
                var collector = nestedTokens;
                var sections = [];
                var token, section;
                for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {
                    token = tokens[i];
                    switch (token[0]) {
                        case "#":
                        case "^":
                            collector.push(token);
                            sections.push(token);
                            collector = token[4] = [];
                            break;
                        case "/":
                            section = sections.pop();
                            section[5] = token[2];
                            collector = sections.length > 0 ? sections[sections.length - 1][4] : nestedTokens;
                            break;
                        default:
                            collector.push(token)
                    }
                }
                return nestedTokens
            }

            function Scanner(string) {
                this.string = string;
                this.tail = string;
                this.pos = 0
            }
            Scanner.prototype.eos = function eos() {
                return this.tail === ""
            };
            Scanner.prototype.scan = function scan(re) {
                var match = this.tail.match(re);
                if (!match || match.index !== 0) return "";
                var string = match[0];
                this.tail = this.tail.substring(string.length);
                this.pos += string.length;
                return string
            };
            Scanner.prototype.scanUntil = function scanUntil(re) {
                var index = this.tail.search(re),
                    match;
                switch (index) {
                    case -1:
                        match = this.tail;
                        this.tail = "";
                        break;
                    case 0:
                        match = "";
                        break;
                    default:
                        match = this.tail.substring(0, index);
                        this.tail = this.tail.substring(index)
                }
                this.pos += match.length;
                return match
            };

            function Context(view, parentContext) {
                this.view = view;
                this.cache = {
                    ".": this.view
                };
                this.parent = parentContext
            }
            Context.prototype.push = function push(view) {
                return new Context(view, this)
            };
            Context.prototype.lookup = function lookup(name) {
                var cache = this.cache;
                var value;
                if (cache.hasOwnProperty(name)) {
                    value = cache[name]
                } else {
                    var context = this,
                        intermediateValue, names, index, lookupHit = false;
                    while (context) {
                        if (name.indexOf(".") > 0) {
                            intermediateValue = context.view;
                            names = name.split(".");
                            index = 0;
                            while (intermediateValue != null && index < names.length) {
                                if (index === names.length - 1) lookupHit = hasProperty(intermediateValue, names[index]) || primitiveHasOwnProperty(intermediateValue, names[index]);
                                intermediateValue = intermediateValue[names[index++]]
                            }
                        } else {
                            intermediateValue = context.view[name];
                            lookupHit = hasProperty(context.view, name)
                        }
                        if (lookupHit) {
                            value = intermediateValue;
                            break
                        }
                        context = context.parent
                    }
                    cache[name] = value
                }
                if (isFunction(value)) value = value.call(this.view);
                return value
            };

            function Writer() {
                this.cache = {}
            }
            Writer.prototype.clearCache = function clearCache() {
                this.cache = {}
            };
            Writer.prototype.parse = function parse(template, tags) {
                var cache = this.cache;
                var cacheKey = template + ":" + (tags || mustache.tags).join(":");
                var tokens = cache[cacheKey];
                if (tokens == null) tokens = cache[cacheKey] = parseTemplate(template, tags);
                return tokens
            };
            Writer.prototype.render = function render(template, view, partials, tags) {
                var tokens = this.parse(template, tags);
                var context = view instanceof Context ? view : new Context(view, undefined);
                return this.renderTokens(tokens, context, partials, template, tags)
            };
            Writer.prototype.renderTokens = function renderTokens(tokens, context, partials, originalTemplate, tags) {
                var buffer = "";
                var token, symbol, value;
                for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {
                    value = undefined;
                    token = tokens[i];
                    symbol = token[0];
                    if (symbol === "#") value = this.renderSection(token, context, partials, originalTemplate);
                    else if (symbol === "^") value = this.renderInverted(token, context, partials, originalTemplate);
                    else if (symbol === ">") value = this.renderPartial(token, context, partials, tags);
                    else if (symbol === "&") value = this.unescapedValue(token, context);
                    else if (symbol === "name") value = this.escapedValue(token, context);
                    else if (symbol === "text") value = this.rawValue(token);
                    if (value !== undefined) buffer += value
                }
                return buffer
            };
            Writer.prototype.renderSection = function renderSection(token, context, partials, originalTemplate) {
                var self = this;
                var buffer = "";
                var value = context.lookup(token[1]);

                function subRender(template) {
                    return self.render(template, context, partials)
                }
                if (!value) return;
                if (isArray(value)) {
                    for (var j = 0, valueLength = value.length; j < valueLength; ++j) {
                        buffer += this.renderTokens(token[4], context.push(value[j]), partials, originalTemplate)
                    }
                } else if (typeof value === "object" || typeof value === "string" || typeof value === "number") {
                    buffer += this.renderTokens(token[4], context.push(value), partials, originalTemplate)
                } else if (isFunction(value)) {
                    if (typeof originalTemplate !== "string") throw new Error("Cannot use higher-order sections without the original template");
                    value = value.call(context.view, originalTemplate.slice(token[3], token[5]), subRender);
                    if (value != null) buffer += value
                } else {
                    buffer += this.renderTokens(token[4], context, partials, originalTemplate)
                }
                return buffer
            };
            Writer.prototype.renderInverted = function renderInverted(token, context, partials, originalTemplate) {
                var value = context.lookup(token[1]);
                if (!value || isArray(value) && value.length === 0) return this.renderTokens(token[4], context, partials, originalTemplate)
            };
            Writer.prototype.indentPartial = function indentPartial(partial, indentation, lineHasNonSpace) {
                var filteredIndentation = indentation.replace(/[^ \t]/g, "");
                var partialByNl = partial.split("\n");
                for (var i = 0; i < partialByNl.length; i++) {
                    if (partialByNl[i].length && (i > 0 || !lineHasNonSpace)) {
                        partialByNl[i] = filteredIndentation + partialByNl[i]
                    }
                }
                return partialByNl.join("\n")
            };
            Writer.prototype.renderPartial = function renderPartial(token, context, partials, tags) {
                if (!partials) return;
                var value = isFunction(partials) ? partials(token[1]) : partials[token[1]];
                if (value != null) {
                    var lineHasNonSpace = token[6];
                    var tagIndex = token[5];
                    var indentation = token[4];
                    var indentedValue = value;
                    if (tagIndex == 0 && indentation) {
                        indentedValue = this.indentPartial(value, indentation, lineHasNonSpace)
                    }
                    return this.renderTokens(this.parse(indentedValue, tags), context, partials, indentedValue)
                }
            };
            Writer.prototype.unescapedValue = function unescapedValue(token, context) {
                var value = context.lookup(token[1]);
                if (value != null) return value
            };
            Writer.prototype.escapedValue = function escapedValue(token, context) {
                var value = context.lookup(token[1]);
                if (value != null) return mustache.escape(value)
            };
            Writer.prototype.rawValue = function rawValue(token) {
                return token[1]
            };
            var mustache = {
                name: "mustache.js",
                version: "3.2.1",
                tags: ["{{", "}}"],
                clearCache: undefined,
                escape: undefined,
                parse: undefined,
                render: undefined,
                to_html: undefined,
                Scanner: undefined,
                Context: undefined,
                Writer: undefined
            };
            var defaultWriter = new Writer;
            mustache.clearCache = function clearCache() {
                return defaultWriter.clearCache()
            };
            mustache.parse = function parse(template, tags) {
                return defaultWriter.parse(template, tags)
            };
            mustache.render = function render(template, view, partials, tags) {
                if (typeof template !== "string") {
                    throw new TypeError('Invalid template! Template should be a "string" ' + 'but "' + typeStr(template) + '" was given as the first ' + "argument for mustache#render(template, view, partials)")
                }
                return defaultWriter.render(template, view, partials, tags)
            };
            mustache.to_html = function to_html(template, view, partials, send) {
                var result = mustache.render(template, view, partials);
                if (isFunction(send)) {
                    send(result)
                } else {
                    return result
                }
            };
            mustache.escape = escapeHtml;
            mustache.Scanner = Scanner;
            mustache.Context = Context;
            mustache.Writer = Writer;
            return mustache
        })
    }, {}],
    21: [function(require, module, exports) {
        "use strict";
        var numberIsNaN = function(value) {
            return value !== value
        };
        module.exports = function is(a, b) {
            if (a === 0 && b === 0) {
                return 1 / a === 1 / b
            }
            if (a === b) {
                return true
            }
            if (numberIsNaN(a) && numberIsNaN(b)) {
                return true
            }
            return false
        }
    }, {}],
    22: [function(require, module, exports) {
        "use strict";
        var define = require("define-properties");
        var callBind = require("call-bind");
        var implementation = require("./implementation");
        var getPolyfill = require("./polyfill");
        var shim = require("./shim");
        var polyfill = callBind(getPolyfill(), Object);
        define(polyfill, {
            getPolyfill: getPolyfill,
            implementation: implementation,
            shim: shim
        });
        module.exports = polyfill
    }, {
        "./implementation": 21,
        "./polyfill": 23,
        "./shim": 24,
        "call-bind": 3,
        "define-properties": 7
    }],
    23: [function(require, module, exports) {
        "use strict";
        var implementation = require("./implementation");
        module.exports = function getPolyfill() {
            return typeof Object.is === "function" ? Object.is : implementation
        }
    }, {
        "./implementation": 21
    }],
    24: [function(require, module, exports) {
        "use strict";
        var getPolyfill = require("./polyfill");
        var define = require("define-properties");
        module.exports = function shimObjectIs() {
            var polyfill = getPolyfill();
            define(Object, {
                is: polyfill
            }, {
                is: function testObjectIs() {
                    return Object.is !== polyfill
                }
            });
            return polyfill
        }
    }, {
        "./polyfill": 23,
        "define-properties": 7
    }],
    25: [function(require, module, exports) {
        "use strict";
        var keysShim;
        if (!Object.keys) {
            var has = Object.prototype.hasOwnProperty;
            var toStr = Object.prototype.toString;
            var isArgs = require("./isArguments");
            var isEnumerable = Object.prototype.propertyIsEnumerable;
            var hasDontEnumBug = !isEnumerable.call({
                toString: null
            }, "toString");
            var hasProtoEnumBug = isEnumerable.call(function() {}, "prototype");
            var dontEnums = ["toString", "toLocaleString", "valueOf", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "constructor"];
            var equalsConstructorPrototype = function(o) {
                var ctor = o.constructor;
                return ctor && ctor.prototype === o
            };
            var excludedKeys = {
                $applicationCache: true,
                $console: true,
                $external: true,
                $frame: true,
                $frameElement: true,
                $frames: true,
                $innerHeight: true,
                $innerWidth: true,
                $onmozfullscreenchange: true,
                $onmozfullscreenerror: true,
                $outerHeight: true,
                $outerWidth: true,
                $pageXOffset: true,
                $pageYOffset: true,
                $parent: true,
                $scrollLeft: true,
                $scrollTop: true,
                $scrollX: true,
                $scrollY: true,
                $self: true,
                $webkitIndexedDB: true,
                $webkitStorageInfo: true,
                $window: true
            };
            var hasAutomationEqualityBug = function() {
                if (typeof window === "undefined") {
                    return false
                }
                for (var k in window) {
                    try {
                        if (!excludedKeys["$" + k] && has.call(window, k) && window[k] !== null && typeof window[k] === "object") {
                            try {
                                equalsConstructorPrototype(window[k])
                            } catch (e) {
                                return true
                            }
                        }
                    } catch (e) {
                        return true
                    }
                }
                return false
            }();
            var equalsConstructorPrototypeIfNotBuggy = function(o) {
                if (typeof window === "undefined" || !hasAutomationEqualityBug) {
                    return equalsConstructorPrototype(o)
                }
                try {
                    return equalsConstructorPrototype(o)
                } catch (e) {
                    return false
                }
            };
            keysShim = function keys(object) {
                var isObject = object !== null && typeof object === "object";
                var isFunction = toStr.call(object) === "[object Function]";
                var isArguments = isArgs(object);
                var isString = isObject && toStr.call(object) === "[object String]";
                var theKeys = [];
                if (!isObject && !isFunction && !isArguments) {
                    throw new TypeError("Object.keys called on a non-object")
                }
                var skipProto = hasProtoEnumBug && isFunction;
                if (isString && object.length > 0 && !has.call(object, 0)) {
                    for (var i = 0; i < object.length; ++i) {
                        theKeys.push(String(i))
                    }
                }
                if (isArguments && object.length > 0) {
                    for (var j = 0; j < object.length; ++j) {
                        theKeys.push(String(j))
                    }
                } else {
                    for (var name in object) {
                        if (!(skipProto && name === "prototype") && has.call(object, name)) {
                            theKeys.push(String(name))
                        }
                    }
                }
                if (hasDontEnumBug) {
                    var skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);
                    for (var k = 0; k < dontEnums.length; ++k) {
                        if (!(skipConstructor && dontEnums[k] === "constructor") && has.call(object, dontEnums[k])) {
                            theKeys.push(dontEnums[k])
                        }
                    }
                }
                return theKeys
            }
        }
        module.exports = keysShim
    }, {
        "./isArguments": 27
    }],
    26: [function(require, module, exports) {
        "use strict";
        var slice = Array.prototype.slice;
        var isArgs = require("./isArguments");
        var origKeys = Object.keys;
        var keysShim = origKeys ? function keys(o) {
            return origKeys(o)
        } : require("./implementation");
        var originalKeys = Object.keys;
        keysShim.shim = function shimObjectKeys() {
            if (Object.keys) {
                var keysWorksWithArguments = function() {
                    var args = Object.keys(arguments);
                    return args && args.length === arguments.length
                }(1, 2);
                if (!keysWorksWithArguments) {
                    Object.keys = function keys(object) {
                        if (isArgs(object)) {
                            return originalKeys(slice.call(object))
                        }
                        return originalKeys(object)
                    }
                }
            } else {
                Object.keys = keysShim
            }
            return Object.keys || keysShim
        };
        module.exports = keysShim
    }, {
        "./implementation": 25,
        "./isArguments": 27
    }],
    27: [function(require, module, exports) {
        "use strict";
        var toStr = Object.prototype.toString;
        module.exports = function isArguments(value) {
            var str = toStr.call(value);
            var isArgs = str === "[object Arguments]";
            if (!isArgs) {
                isArgs = str !== "[object Array]" && value !== null && typeof value === "object" && typeof value.length === "number" && value.length >= 0 && toStr.call(value.callee) === "[object Function]"
            }
            return isArgs
        }
    }, {}],
    28: [function(require, module, exports) {
        "use strict";
        var $Object = Object;
        var $TypeError = TypeError;
        module.exports = function flags() {
            if (this != null && this !== $Object(this)) {
                throw new $TypeError("RegExp.prototype.flags getter called on non-object")
            }
            var result = "";
            if (this.global) {
                result += "g"
            }
            if (this.ignoreCase) {
                result += "i"
            }
            if (this.multiline) {
                result += "m"
            }
            if (this.dotAll) {
                result += "s"
            }
            if (this.unicode) {
                result += "u"
            }
            if (this.sticky) {
                result += "y"
            }
            return result
        }
    }, {}],
    29: [function(require, module, exports) {
        "use strict";
        var define = require("define-properties");
        var callBind = require("call-bind");
        var implementation = require("./implementation");
        var getPolyfill = require("./polyfill");
        var shim = require("./shim");
        var flagsBound = callBind(implementation);
        define(flagsBound, {
            getPolyfill: getPolyfill,
            implementation: implementation,
            shim: shim
        });
        module.exports = flagsBound
    }, {
        "./implementation": 28,
        "./polyfill": 30,
        "./shim": 31,
        "call-bind": 3,
        "define-properties": 7
    }],
    30: [function(require, module, exports) {
        "use strict";
        var implementation = require("./implementation");
        var supportsDescriptors = require("define-properties").supportsDescriptors;
        var $gOPD = Object.getOwnPropertyDescriptor;
        var $TypeError = TypeError;
        module.exports = function getPolyfill() {
            if (!supportsDescriptors) {
                throw new $TypeError("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors")
            }
            if (/a/gim.flags === "gim") {
                var descriptor = $gOPD(RegExp.prototype, "flags");
                if (descriptor && typeof descriptor.get === "function" && typeof /a/.dotAll === "boolean") {
                    return descriptor.get
                }
            }
            return implementation
        }
    }, {
        "./implementation": 28,
        "define-properties": 7
    }],
    31: [function(require, module, exports) {
        "use strict";
        var supportsDescriptors = require("define-properties").supportsDescriptors;
        var getPolyfill = require("./polyfill");
        var gOPD = Object.getOwnPropertyDescriptor;
        var defineProperty = Object.defineProperty;
        var TypeErr = TypeError;
        var getProto = Object.getPrototypeOf;
        var regex = /a/;
        module.exports = function shimFlags() {
            if (!supportsDescriptors || !getProto) {
                throw new TypeErr("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors")
            }
            var polyfill = getPolyfill();
            var proto = getProto(regex);
            var descriptor = gOPD(proto, "flags");
            if (!descriptor || descriptor.get !== polyfill) {
                defineProperty(proto, "flags", {
                    configurable: true,
                    enumerable: false,
                    get: polyfill
                })
            }
            return polyfill
        }
    }, {
        "./polyfill": 30,
        "define-properties": 7
    }],
    32: [function(require, module, exports) {
        void
        function(global) {
            "use strict";

            function ValueError(message) {
                var err = new Error(message);
                err.name = "ValueError";
                return err
            }

            function create(transformers) {
                return function(template) {
                    var args = Array.prototype.slice.call(arguments, 1);
                    var idx = 0;
                    var state = "UNDEFINED";
                    return template.replace(/([{}])\1|[{](.*?)(?:!(.+?))?[}]/g, function(match, literal, _key, xf) {
                        if (literal != null) {
                            return literal
                        }
                        var key = _key;
                        if (key.length > 0) {
                            if (state === "IMPLICIT") {
                                throw ValueError("cannot switch from " + "implicit to explicit numbering")
                            }
                            state = "EXPLICIT"
                        } else {
                            if (state === "EXPLICIT") {
                                throw ValueError("cannot switch from " + "explicit to implicit numbering")
                            }
                            state = "IMPLICIT";
                            key = String(idx);
                            idx += 1
                        }
                        var path = key.split(".");
                        var value = (/^\d+$/.test(path[0]) ? path : ["0"].concat(path)).reduce(function(maybe, key) {
                            return maybe.reduce(function(_, x) {
                                return x != null && key in Object(x) ? [typeof x[key] === "function" ? x[key]() : x[key]] : []
                            }, [])
                        }, [args]).reduce(function(_, x) {
                            return x
                        }, "");
                        if (xf == null) {
                            return value
                        } else if (Object.prototype.hasOwnProperty.call(transformers, xf)) {
                            return transformers[xf](value)
                        } else {
                            throw ValueError('no transformer named "' + xf + '"')
                        }
                    })
                }
            }
            var format = create({});
            format.create = create;
            format.extend = function(prototype, transformers) {
                var $format = create(transformers);
                prototype.format = function() {
                    var args = Array.prototype.slice.call(arguments);
                    args.unshift(this);
                    return $format.apply(global, args)
                }
            };
            if (typeof module !== "undefined") {
                module.exports = format
            } else if (typeof define === "function" && define.amd) {
                define(function() {
                    return format
                })
            } else {
                global.format = format
            }
        }.call(this, this)
    }, {}],
    33: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        Object.defineProperty(exports, "Fabric", {
            enumerable: true,
            get: function get() {
                return _Fabric.default
            }
        });
        Object.defineProperty(exports, "GameEvent", {
            enumerable: true,
            get: function get() {
                return _Enums.GameEvent
            }
        });
        exports.default = exports.app = void 0;
        Object.defineProperty(exports, "env", {
            enumerable: true,
            get: function get() {
                return _gdk.env
            }
        });
        require("./styles/main.pcss");
        require("./core/Patch");
        var _States = require("./core/States");
        var _Loader = _interopRequireDefault(require("./core/Loader"));
        var _GameModel = _interopRequireDefault(require("./core/GameModel"));
        var _Config = _interopRequireDefault(require("./core/Config"));
        var _Fabric = _interopRequireDefault(require("./core/Fabric"));
        var _Enums = require("./core/Enums");
        require("./components/Board");
        require("./components/Background");
        require("./components/BaseStartScreen");
        var _gdk = require("./../gdk");
        var controllers = _interopRequireWildcard(require("./controllers"));
        var _config = require("./debug/config");

        function _getRequireWildcardCache(nodeInterop) {
            if (typeof WeakMap !== "function") return null;
            var cacheBabelInterop = new WeakMap;
            var cacheNodeInterop = new WeakMap;
            return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {
                return nodeInterop ? cacheNodeInterop : cacheBabelInterop
            })(nodeInterop)
        }

        function _interopRequireWildcard(obj, nodeInterop) {
            if (!nodeInterop && obj && obj.__esModule) {
                return obj
            }
            if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") {
                return {
                    default: obj
                }
            }
            var cache = _getRequireWildcardCache(nodeInterop);
            if (cache && cache.has(obj)) {
                return cache.get(obj)
            }
            var newObj = {};
            var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
            for (var key in obj) {
                if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
                    var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
                    if (desc && (desc.get || desc.set)) {
                        Object.defineProperty(newObj, key, desc)
                    } else {
                        newObj[key] = obj[key]
                    }
                }
            }
            newObj.default = obj;
            if (cache) {
                cache.set(obj, newObj)
            }
            return newObj
        }

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        PIXI.settings.MIPMAP_TEXTURES = false;
        var App = function(_PIXI$utils$EventEmit) {
            _inherits(App, _PIXI$utils$EventEmit);
            var _super = _createSuper(App);

            function App() {
                var _this2;
                _classCallCheck(this, App);
                _this2 = _super.call(this);
                _this2.integrate();
                _this2.registeredControllers = {};
                _this2.controllers = {};
                _this2.loader = new _Loader.default(_gdk.env.get("game_path"), 4, _gdk.env.get("manifest"));
                _this2.config = new _Config.default;
                _this2.config.parseConfig(_gdk.env.get("config"));
                _this2.model = new _GameModel.default;
                _this2.ratio = 1;
                _this2.viewBounds = new PIXI.Rectangle;
                _this2.canvas = _this2.createCanvas();
                _this2.stateMachine = new _States.StateMachine;
                _this2.status = App.StatusNone;
                _this2.visibilityListener = null;
                _this2.rectDisplayOffset = 30;
                _this2._stageWrapper = null;
                _this2.stage = null;
                _this2.addDefaultControllers();
                window["app"] = _assertThisInitialized(_this2);
                return _this2
            }
            _createClass(App, [{
                key: "alive",
                get: function get() {
                    return this.status !== App.StatusDead
                }
            }, {
                key: "flow",
                get: function get() {
                    return this.controllers.flow
                }
            }, {
                key: "ui",
                get: function get() {
                    return this.controllers.ui
                }
            }, {
                key: "integrate",
                value: function integrate() {}
            }, {
                key: "initTicker",
                value: function initTicker() {
                    var ticker = this.ticker = PIXI.ticker.shared;
                    ticker.start();
                    ticker.minFPS = 0;
                    ticker.autoStart = false;
                    ticker.add(function(deltaTime) {
                        this.deltaMS = deltaTime / PIXI.settings.TARGET_FPMS
                    }, ticker);
                    this.scheduleUpdate();
                    this.scheduleRender();
                    this.backgroundTicker = this.createBackgroundTicker();
                    this.backgroundTicker.add(function() {
                        return ticker.update()
                    })
                }
            }, {
                key: "createBackgroundTicker",
                value: function createBackgroundTicker() {
                    function IntervalTicker() {
                        var listeners = [];
                        var interval = null;

                        function tick() {
                            listeners.slice(0).forEach(function(fn) {
                                return fn()
                            })
                        }
                        this.start = function() {
                            interval = interval || setInterval(tick, 1e3 / 6)
                        };
                        this.stop = function() {
                            clearInterval(interval);
                            interval = null
                        };
                        this.add = function(fn) {
                            listeners.push(fn)
                        };
                        this.remove = function(fn) {
                            var idx = listeners.indexOf(fn);
                            if (idx === -1) return;
                            listeners.splice(idx, 1)
                        }
                    }
                    var ticker;
                    try {
                        var workerCode = function workerCode() {
                            var ticker = new IntervalTicker;
                            ticker.add(function tick() {
                                self.postMessage("tick")
                            });
                            self.onmessage = function(_ref) {
                                var data = _ref.data;
                                if (data === "start") {
                                    ticker.start()
                                } else if (data === "stop") {
                                    ticker.stop()
                                }
                            }
                        };
                        var blob = new Blob(["".concat(IntervalTicker.toString()), "\n", "(".concat(workerCode.toString(), ")()")], {
                            type: "application/javascript"
                        });
                        var url = URL.createObjectURL(blob);
                        var worker = new Worker(url);
                        ticker = {
                            start: function start() {
                                worker.postMessage("start")
                            },
                            stop: function stop() {
                                worker.postMessage("stop")
                            },
                            add: function add(fn) {
                                worker.addEventListener("message", fn)
                            },
                            remove: function remove(fn) {
                                worker.removeListener("message", fn)
                            }
                        }
                    } catch (e) {
                        ticker = new IntervalTicker
                    }
                    return ticker
                }
            }, {
                key: "_renderStage",
                value: function _renderStage() {
                    this.renderer.render(this._stageWrapper)
                }
            }, {
                key: "scheduleRender",
                value: function scheduleRender() {
                    this.ticker.add(this._renderStage, this)
                }
            }, {
                key: "unscheduleRender",
                value: function unscheduleRender() {
                    this.ticker.remove(this._renderStage, this)
                }
            }, {
                key: "_updateDragonBones",
                value: function _updateDragonBones() {
                    dragonBones.WorldClock.clock.advanceTime(this.ticker.deltaMS * .001)
                }
            }, {
                key: "_updateCreatejsTween",
                value: function _updateCreatejsTween() {
                    createjs.Tween.tick(this.ticker.deltaMS, false)
                }
            }, {
                key: "scheduleUpdate",
                value: function scheduleUpdate() {
                    if (window.dragonBones) {
                        this.ticker.add(this._updateDragonBones, this)
                    }
                    if (createjs.Ticker) {
                        console.warn("createjs.Ticker is present");
                        createjs.Ticker = null
                    }
                    this.ticker.add(this._updateCreatejsTween, this)
                }
            }, {
                key: "unscheduleUpdate",
                value: function unscheduleUpdate() {
                    this.ticker.remove(this._updateDragonBones, this);
                    this.ticker.remove(this._updateCreatejsTween, this)
                }
            }, {
                key: "initLR",
                value: function initLR() {
                    this.lr = function() {
                        var fn = function fn(name) {
                            return fn.items[name]
                        };
                        fn.items = {};
                        fn.add = function(name) {
                            return fn.items[name] = app.stage.addChild(new PIXI.Container)
                        };
                        fn.addBefore = function(name, beforeName) {
                            return fn.items[name] = app.stage.addChildAt(new PIXI.Container, Math.max(0, app.stage.children.indexOf(fn.items[beforeName])))
                        };
                        fn.addAfter = function(name, afterName) {
                            return fn.items[name] = app.stage.addChildAt(new PIXI.Container, app.stage.children.indexOf(fn.items[afterName]) + 1)
                        };
                        fn.remove = function(name) {
                            var layer = fn.items[name];
                            if (layer) {
                                layer.parent.removeChild(layer);
                                delete fn.items[name]
                            }
                        };
                        return fn
                    }()
                }
            }, {
                key: "initListeners",
                value: function initListeners() {
                    var _this3 = this;
                    GR.Events.game.error.on(function(event) {
                        var data = event.data;
                        if (!data) return;
                        if (data.type === "crit") _this3.emit(_Enums.GameEvent.StatusError, "ERROR_".concat(data.code));
                        else if (data.type === "exceed") _this3.emit(_Enums.GameEvent.StatusExceed, "ERROR_".concat(data.code))
                    });
                    this.resize();
                    this.canvas.addEventListener("webglcontextlost", function() {
                        return _this3.alive && _this3.emit(_Enums.GameEvent.RaisedError, {
                            type: "crit",
                            code: "ERROR_CLIENT_ERROR"
                        }, new Error)
                    });
                    this.loader.on("error", function(e, l, r) {
                        return _this3.alive && !r.metadata.delay && _this3.emit(_Enums.GameEvent.RaisedError, {
                            type: "crit",
                            code: "ERROR_CLIENT_ERROR"
                        }, e)
                    });
                    window.addEventListener("mousedown", function() {
                        return window.focus()
                    });
                    window.addEventListener("resize", function() {
                        return _this3.resize()
                    });
                    try {
                        window.matchMedia("screen and (min-resolution: 2dppx)").addListener(function() {
                            return _this3.resize()
                        })
                    } catch (e) {}
                    this.on(_Enums.GameEvent.StatusError, function() {
                        return _this3.kill()
                    });
                    this._initVisibilityListener()
                }
            }, {
                key: "_initVisibilityListener",
                value: function _initVisibilityListener() {
                    var _this4 = this;
                    this.visibilityListener = window.Visibility.change(function(e, state) {
                        switch (state) {
                            case "hidden":
                                _this4.setPaused(true);
                                break;
                            case "visible":
                                _this4.setPaused(false);
                                break
                        }
                    });
                    if (window.requestAnimationFrame) {
                        var _this = this;
                        var visible = false;
                        var t;
                        setInterval(function() {
                            if (visible && Date.now() - t > 500) {
                                visible = false;
                                _this.setPaused(true)
                            }
                        }, 500);
                        requestAnimationFrame(function fn() {
                            if (!visible) {
                                visible = true;
                                _this.setPaused(false)
                            }
                            t = Date.now();
                            requestAnimationFrame(fn)
                        })
                    }
                }
            }, {
                key: "_removeVisibilityListener",
                value: function _removeVisibilityListener() {
                    if (this.visibilityListener !== null) {
                        window.Visibility.unbind(this.visibilityListener);
                        this.visibilityListener = null
                    }
                }
            }, {
                key: "createCanvas",
                value: function createCanvas() {
                    var box = document.createElement("div");
                    box.classList.add("game-box");
                    _gdk.env.element.appendChild(box);
                    var canvas = document.createElement("canvas");
                    canvas.setAttribute("id", "game");
                    box.appendChild(canvas);
                    return canvas
                }
            }, {
                key: "createStage",
                value: function createStage(scale) {
                    var stage = new PIXI.Container;
                    var stageWrapper = this._stageWrapper = new PIXI.Container;
                    stageWrapper.scale.set(scale);
                    stageWrapper.addChild(stage);
                    return stage
                }
            }, {
                key: "createRenderer",
                value: function createRenderer(canvas, scale) {
                    var rendererOptions = {
                        width: this.config.get("App.width") * scale,
                        height: this.config.get("App.height") * scale,
                        view: canvas,
                        transparent: this.config.get("App.transparent"),
                        clearBeforeRender: this.config.get("App.clearBeforeRender"),
                        backgroundColor: 0,
                        roundPixels: this.config.get("App.roundPixels"),
                        antialias: this.config.get("App.antialias"),
                        resolution: 1,
                        forceCanvas: false
                    };
                    if (GR.Detector.os.name === "android") {
                        if ([5, 4].indexOf(Math.floor(GR.Detector.os.version)) !== -1) {
                            rendererOptions.legacy = true;
                            rendererOptions.preserveDrawingBuffer = true
                        }
                    }
                    var renderer = PIXI.autoDetectRenderer(rendererOptions);
                    if (renderer.type === 1) {
                        app.RENDERER_TYPE = "WebGL"
                    } else if (renderer.type === 2) {
                        app.RENDERER_TYPE = "Canvas"
                    } else {
                        app.RENDERER_TYPE = "Unknown"
                    }
                    return renderer
                }
            }, {
                key: "resize",
                value: function resize() {
                    var WIDTH = this.config.get("App.width");
                    var HEIGHT = this.config.get("App.height");
                    var MIN_WIDTH = this.config.get("App.safeWidth");
                    var MAX_RATIO = WIDTH / HEIGHT;
                    var MIN_RATIO = MIN_WIDTH / HEIGHT;
                    var ww = window.innerWidth;
                    var wh = window.innerHeight;
                    var resolution = window.devicePixelRatio < 2 ? 1 : 2;
                    var RATIO = ww / wh;
                    var isPortrait = RATIO < MIN_RATIO;
                    this.ratio = isPortrait ? ww / MIN_WIDTH : wh / HEIGHT;
                    var CLAMP_R = Math.max(MIN_RATIO, Math.min(MAX_RATIO, RATIO));
                    var visibleWidth = HEIGHT * CLAMP_R;
                    var visibleHeight = HEIGHT;
                    this.viewBounds.x = (WIDTH - visibleWidth) / 2;
                    this.viewBounds.y = (HEIGHT - visibleHeight) / 2;
                    this.viewBounds.width = visibleWidth;
                    this.viewBounds.height = visibleHeight;
                    if (this.config.get("App.resizeCanvas")) {
                        var w, h;
                        if (this.config.get("Screen.available")) {
                            w = Math.round(window.innerWidth * resolution);
                            h = Math.round(window.innerHeight * resolution)
                        } else {
                            w = Math.round(Math.min(WIDTH * this.ratio * resolution, WIDTH));
                            h = Math.round(Math.min(HEIGHT * this.ratio * resolution, HEIGHT));
                            this._stageWrapper.scale.set(w / WIDTH, h / HEIGHT)
                        }
                        this.renderer.resize(w, h)
                    }
                    if (this.config.get("Screen.available")) {
                        var viewport = document.querySelector(".gr-viewport");
                        var viewportTop = parseInt(viewport.style.top || 0);
                        var viewportLeft = parseInt(viewport.style.left || 0);
                        var canvas = document.querySelector("#game");
                        var canvasWidth = canvas.width;
                        var canvasHeight = canvas.height;
                        var offset = 0;
                        this.hasPortraitOffset = false;
                        if (GR.UI.model.get("orientation") === "portrait") {
                            var canvasTop = -viewportTop;
                            canvas.style.top = "".concat(canvasTop, "px");
                            canvas.style.left = "0px";
                            canvas.style.width = "100%";
                            canvas.style.height = "auto";
                            if (GR.Detector.isMobileOrTablet && window.innerHeight < screen.height) {
                                offset = (screen.height - window.innerHeight) / resolution;
                                this.hasPortraitOffset = true
                            }
                            this._stageWrapper.scale.set(window.innerWidth * resolution / app.config.get("Screen.boardWidth"));
                            this._stageWrapper.pivot.set(app.config.get("Screen.backWidth") / 2, app.config.get("Screen.pivotY"));
                            var posY = viewportTop * app.config.get("Screen.backHeight") / window.innerHeight;
                            this._stageWrapper.x = canvasWidth / 2;
                            this._stageWrapper.y = posY * canvasHeight / app.config.get("Screen.backHeight") - offset
                        } else {
                            canvas.style.top = "0px";
                            canvas.style.left = "".concat(-viewportLeft, "px");
                            this._stageWrapper.x = canvasWidth / 2;
                            this._stageWrapper.y = 0;
                            if (window.innerWidth / window.innerHeight < 16 / 9) {
                                this._stageWrapper.scale.set(window.innerWidth * resolution / app.config.get("App.width"));
                                canvas.style.width = "100%";
                                canvas.style.height = "auto";
                                canvas.style.top = "".concat(-viewportTop, "px");
                                this._stageWrapper.y = GR.Detector.isMobileOrTablet ? viewportTop * 2 : viewportTop
                            } else {
                                this._stageWrapper.scale.set(window.innerHeight * resolution / app.config.get("App.height"));
                                canvas.style.width = "auto";
                                canvas.style.height = "100%"
                            }
                            this._stageWrapper.pivot.set(app.config.get("Screen.backWidth") / 2, app.config.get("Screen.pivotY"))
                        }
                        app.stageWrapperScale = this._stageWrapper.scaleX;
                        var QUAD_DISPLAY = window.innerWidth / window.innerHeight >= app.config.get("Screen.rectDisplayCoef");
                        this.quadDisplay = QUAD_DISPLAY && GR.UI.model.get("orientation") === "portrait";
                        this._stageWrapper.y -= this.quadDisplay ? this.rectDisplayOffset : 0;
                        if (this.board && this.board.logo) this.board.logo.visible = !app.quadDisplay;
                        if (this._stageWrapper.y < 0) {
                            console.warn("\n                stageWrapper has negative Y: ".concat(this._stageWrapper.y, ",\n                device offset: ").concat(offset, ",\n                device quadDisplay: ").concat(this.quadDisplay, ".\n                Set stageWrapper Y to 0.\n                "));
                            this._stageWrapper.y = 0
                        }
                        this.emit(_Enums.GameEvent.GameResizeComplete)
                    } else {
                        this.board && this.board.resize()
                    }
                }
            }, {
                key: "setPaused",
                value: function setPaused(isPaused) {
                    if (!this.alive || this._paused === isPaused) return;
                    this._paused = isPaused;
                    this.stage.interactiveChildren = !isPaused;
                    this.unscheduleRender();
                    if (this._paused) {
                        this.emit(_Enums.GameEvent.GamePause);
                        this.ticker.stop();
                        if (!_gdk.env.get("mobile")) {
                            this.backgroundTicker.start()
                        }
                    } else {
                        if (!_gdk.env.get("mobile")) {
                            this.backgroundTicker.stop()
                        }
                        this.ticker.start();
                        this.scheduleRender();
                        this._renderStage();
                        this.emit(_Enums.GameEvent.GameResume)
                    }
                }
            }, {
                key: "run",
                value: function run() {
                    var _this5 = this;
                    if (!_gdk.env.get("mobile")) {
                        this.isAutoReSize = window._PROVIDER.game.use.find(function(i) {
                            return i.startsWith("autoresize")
                        });
                        var ratios = ((this.isAutoReSize || "").match(/\d+:\d+/g) || ["16:9"]).map(function(i) {
                            return i.match(/^\d+/) / i.match(/\d+$/)
                        }).sort();
                        this.config.set("App.safeWidth", this.config.get("App.height") * ratios[0])
                    }
                    this.status = App.StatusRunning;
                    var audio = document.createElement("audio");
                    this.soundsPrefix = audio.canPlayType('audio/ogg; codecs="vorbis"') !== "" && this.config.get("Sounds.useOggSounds") ? "ogg" : "mp3";
                    this.assetsPrefix = _gdk.env.get("mobile") ? this.config.get("assetsResolutions.mobile.prefix") : this.config.get("assetsResolutions.desktop.prefix");
                    var scale = this.assetsScale = _gdk.env.get("mobile") ? this.config.get("assetsResolutions.mobile.scale") : this.config.get("assetsResolutions.desktop.scale");
                    var stageScale = this.config.get("App.scaleStage") && !this.config.get("App.resizeCanvas") ? scale : 1;
                    if (PIXI.utils.isWebGLSupported()) {
                        var gl = PIXI.glCore.createContext(window.document.createElement("canvas"));
                        if (gl.getShaderPrecisionFormat) {
                            var fragmentShader = gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_FLOAT);
                            PIXI.settings.PRECISION_FRAGMENT = fragmentShader.precision != 0 ? "highp" : "mediump"
                        }
                    }
                    PIXI.utils.skipHello();
                    this.renderer = this.createRenderer(this.canvas, stageScale);
                    this.stage = this.createStage(stageScale);
                    this.initListeners();
                    this.initLR();
                    this.initTicker();
                    var consoleStyles = ["background: linear-gradient(to bottom, rgba(209,255,82,1) 0%, rgba(145,231,64,1) 100%)", "border: 1px solid #000", "color: black", "display: block", "box-shadow: 0 1px 0 rgba(255, 255, 255, 0.4) inset, 0 5px 3px -5px rgba(0, 0, 0, 0.5), 0 -13px 5px -10px rgba(255, 255, 255, 0.4) inset", "line-height: 40px", "text-align: center", "font-weight: bold", "margin: 20px"].join(";");
                    console.log("%c Core: ".concat(app.VERSION, " ||| Runner: ").concat(GR.VERSION, " ||| GRAPI: ").concat(window._PROVIDER.game.grapi, " ||| PixiJS: ").concat(PIXI.VERSION, " *").concat(app.RENDERER_TYPE, "* "), consoleStyles);
                    ["bg", "board", "fg", "ui", "paytable", "ui_top", "gamePopup", "popups", "error", "startScreen"].forEach(function(i) {
                        return _this5.lr.add(i)
                    });
                    this.initControllers();
                    this.board = _Fabric.default.get(_Enums.Fabrics.BOARD);
                    this.bg = _Fabric.default.get(_Enums.Fabrics.BACKGROUND);
                    if (this.config.get("App.showStartScreen")) {
                        this.splashScreen = this.startScreen = _Fabric.default.get(_Enums.Fabrics.START_SCREEN)
                    }
                    this.emit(_Enums.GameEvent.Start)
                }
            }, {
                key: "lock",
                value: function lock() {
                    this.flow.lock();
                    this.ui.lock();
                    this.flow.isSpectator() && this.flow.lock()
                }
            }, {
                key: "unlock",
                value: function unlock() {
                    this.flow.unlock();
                    this.ui.unlock();
                    this.flow.isSpectator() && this.flow.unlock()
                }
            }, {
                key: "addDefaultControllers",
                value: function addDefaultControllers() {
                    var _this6 = this;
                    Object.getOwnPropertyNames(controllers).forEach(function(name) {
                        var controller = controllers[name];
                        if (typeof controller === "function" && !controller.isAbstract) {
                            name = controller.type || name.replace(/Controller$/, "").replace(/^[A-Z]+/, function(c) {
                                return c.toLowerCase()
                            });
                            _this6.addController(name, controller)
                        }
                    })
                }
            }, {
                key: "addController",
                value: function addController(name, controller) {
                    if (this.registeredControllers[name] !== constructor) {
                        this.removeController(name);
                        this.registeredControllers[name] = controller;
                        if (this.status === App.StatusRunning) {
                            this.initControllers()
                        }
                    }
                }
            }, {
                key: "removeController",
                value: function removeController(name) {
                    if (this.controllers[name]) {
                        this.controllers[name].detach();
                        delete this.controllers[name]
                    }
                    delete this.registeredControllers[name]
                }
            }, {
                key: "initControllers",
                value: function initControllers() {
                    var _this7 = this;
                    Object.getOwnPropertyNames(this.registeredControllers).forEach(function(name) {
                        if (_this7.controllers[name]) {
                            return
                        }
                        _this7.controllers[name] = new _this7.registeredControllers[name](_this7);
                        _this7.controllers[name].attach()
                    })
                }
            }, {
                key: "kill",
                value: function kill() {
                    if (this.status === App.StatusDead) return;
                    this.status = App.StatusDead;
                    this.stateMachine.kill();
                    this.loader.reset();
                    this.unscheduleUpdate();
                    this.unscheduleRender();
                    createjs.Tween.removeAllTweens();
                    this._removeVisibilityListener();
                    this.ticker.stop();
                    this.backgroundTicker.stop()
                }
            }, {
                key: "fundsExceed",
                value: function fundsExceed() {
                    this.emit(_Enums.GameEvent.RaisedError, {
                        type: "exceed",
                        code: "ERROR_FUNDS_EXCEED"
                    }, new Error)
                }
            }, {
                key: "playbackRate",
                get: function get() {
                    return this.ticker.speed
                },
                set: function set(v) {
                    return this.ticker.speed = v
                }
            }, {
                key: "getGameSymbol",
                value: function getGameSymbol(col, row) {
                    return this.board.reels.reels[col].symbols[row + 1]
                }
            }, {
                key: "debugFastFreeSpins",
                value: function debugFastFreeSpins() {
                    var _this8 = this;
                    var handler = function handler() {
                        if (_this8.model.current() !== "freespins") return;
                        var roundsLefts = _this8.model.current("rounds_left", 0);
                        _this8.playbackRate = roundsLefts > 2 ? 10 : 1;
                        if (roundsLefts <= 1) _this8.off("StateChanged", handler)
                    };
                    this.on("StateChanged", handler);
                    handler()
                }
            }, {
                key: "openDebugPanel",
                value: function openDebugPanel() {
                    app.emit(_Enums.GameEvent.OpenDebugPanel)
                }
            }]);
            return App
        }(PIXI.utils.EventEmitter);
        Object.assign(App, {
            StatusNone: 0,
            StatusRunning: 1,
            StatusDead: 2,
            status: null
        });
        var app = new App;
        exports.app = app;
        var _default = app;
        exports.default = _default;
        app.VERSION = "5.4.13"
    }, {
        "./../gdk": 102,
        "./components/Background": 34,
        "./components/BaseStartScreen": 35,
        "./components/Board": 37,
        "./controllers": 71,
        "./core/Config": 72,
        "./core/Enums": 73,
        "./core/Fabric": 74,
        "./core/GameModel": 75,
        "./core/Loader": 78,
        "./core/Patch": 79,
        "./core/States": 81,
        "./debug/config": 83,
        "./styles/main.pcss": 97
    }],
    34: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;
        var _Interfaces = require("core/core/Interfaces");
        var _app = require("core/app");
        var _Enums = require("core/core/Enums");
        var _Fabric = _interopRequireDefault(require("core/core/Fabric"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var Background = function(_Component) {
            _inherits(Background, _Component);
            var _super = _createSuper(Background);

            function Background() {
                var _this;
                _classCallCheck(this, Background);
                _this = _super.call(this);
                _this.mode = null;
                _this.config = {};
                return _this
            }
            _createClass(Background, [{
                key: "onInit",
                value: function onInit() {
                    this.interactiveChildren = false;
                    _app.app.lr("bg").addChild(this);
                    this._preInit();
                    this.use(_app.app.model.get("game.current"), true);
                    this._postInit()
                }
            }, {
                key: "use",
                value: function use(mode, force) {
                    if (this.mode !== mode) {
                        this.mode = mode
                    }
                    return Promise.resolve()
                }
            }, {
                key: "_preInit",
                value: function _preInit() {}
            }, {
                key: "_postInit",
                value: function _postInit() {}
            }]);
            return Background
        }(_Interfaces.Component);
        exports.default = Background;
        _Fabric.default.set(_Enums.Fabrics.BACKGROUND, Background)
    }, {
        "core/app": 33,
        "core/core/Enums": 73,
        "core/core/Fabric": 74,
        "core/core/Interfaces": 77
    }],
    35: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;
        var _Interfaces = require("core/core/Interfaces");
        var _app = require("core/app");
        var _Enums = _interopRequireWildcard(require("core/core/Enums"));
        var _Fabric = _interopRequireDefault(require("core/core/Fabric"));
        var _utils = _interopRequireDefault(require("core/helpers/utils"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _getRequireWildcardCache(nodeInterop) {
            if (typeof WeakMap !== "function") return null;
            var cacheBabelInterop = new WeakMap;
            var cacheNodeInterop = new WeakMap;
            return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {
                return nodeInterop ? cacheNodeInterop : cacheBabelInterop
            })(nodeInterop)
        }

        function _interopRequireWildcard(obj, nodeInterop) {
            if (!nodeInterop && obj && obj.__esModule) {
                return obj
            }
            if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") {
                return {
                    default: obj
                }
            }
            var cache = _getRequireWildcardCache(nodeInterop);
            if (cache && cache.has(obj)) {
                return cache.get(obj)
            }
            var newObj = {};
            var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
            for (var key in obj) {
                if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
                    var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
                    if (desc && (desc.get || desc.set)) {
                        Object.defineProperty(newObj, key, desc)
                    } else {
                        newObj[key] = obj[key]
                    }
                }
            }
            newObj.default = obj;
            if (cache) {
                cache.set(obj, newObj)
            }
            return newObj
        }

        function _construct(Parent, args, Class) {
            if (_isNativeReflectConstruct()) {
                _construct = Reflect.construct
            } else {
                _construct = function _construct(Parent, args, Class) {
                    var a = [null];
                    a.push.apply(a, args);
                    var Constructor = Function.bind.apply(Parent, a);
                    var instance = new Constructor;
                    if (Class) _setPrototypeOf(instance, Class.prototype);
                    return instance
                }
            }
            return _construct.apply(null, arguments)
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var BaseStartScreen = function(_Component) {
            _inherits(BaseStartScreen, _Component);
            var _super = _createSuper(BaseStartScreen);

            function BaseStartScreen() {
                _classCallCheck(this, BaseStartScreen);
                return _super.call(this)
            }
            _createClass(BaseStartScreen, [{
                key: "onInit",
                value: function onInit() {
                    _app.app.lr("startScreen").addChild(this);
                    this._preInit();
                    this.initView();
                    this._postInit()
                }
            }, {
                key: "addCustomGraphics",
                value: function addCustomGraphics() {
                    this.back = this.addChild(new PIXI.Graphics);
                    this.back.beginFill(0, .4);
                    if (_app.app.config.get("Screen.available")) {
                        this.back.drawRect(0, 0, _app.app.config.get("Screen.backWidth"), _app.app.config.get("Screen.backHeight"))
                    } else {
                        this.back.drawRect(0, 0, _app.app.config.get("App.width"), _app.app.config.get("App.height"))
                    }
                    this.back.endFill()
                }
            }, {
                key: "initView",
                value: function initView() {
                    var _this$tapBack, _this = this;
                    var TIME_TO_SKIP = 6e4;
                    GR.UI.model.set("game_mode", null);
                    this.addCustomGraphics();
                    var textInfo = this.textInfo = this.addTextAndStyles();
                    this.tapBack = this.addChild(new PIXI.Graphics);
                    this.tapBack.beginFill(0, .4);
                    this.tapText = this.addChild(new PIXI.Text(textInfo.text, textInfo.styles));
                    this.tapText.anchor.set(.5);
                    this.tapText.style.fontSize = 35;
                    this.skipContainer = this.addChild(new PIXI.Container);
                    this.skipContainer.interactive = true;
                    var available = _app.app.config.get("Screen.available");
                    var rect = available ? [0, 1185, _app.app.config.get("Screen.backWidth"), 50] : [0, 670, _app.app.config.get("App.width"), 50];
                    var skipRect = available ? [0, 0, _app.app.config.get("Screen.backWidth"), _app.app.config.get("Screen.backHeight")] : [0, 0, _app.app.config.get("App.width"), _app.app.config.get("App.height")];
                    this.tapText.x = available ? _app.app.config.get("Screen.backWidth") / 2 : _app.app.config.get("App.width") / 2;
                    this.tapText.y = available ? 1210 : 695;
                    this.skipContainer.hitArea = _construct(PIXI.Rectangle, skipRect);
                    (_this$tapBack = this.tapBack).drawRect.apply(_this$tapBack, rect);
                    this.tapBack.endFill();
                    if (!available) this.initHtml();
                    _utils.default.labelScale(this.tapText, 400, 63);
                    this.tapText.tween({
                        override: true,
                        loop: true
                    }).to({
                        alpha: 0
                    }, 300).wait(500).to({
                        alpha: 1
                    }, 300).wait(1e3);
                    this.initListeners();
                    _utils.default.wait(TIME_TO_SKIP).then(function() {
                        return !_this.skipped && _this.skip()
                    });
                    _app.app.emit(_Enums.default.SplashScreenShow);
                    GR.startscreen_pages = 1;
                    GR.startscreen = true
                }
            }, {
                key: "addTextAndStyles",
                value: function addTextAndStyles() {
                    return {
                        text: "TAP ANYWEHERE TO START (DEMO)",
                        styles: {
                            fill: "#ffffff",
                            fontSize: "20px"
                        }
                    }
                }
            }, {
                key: "initHtml",
                value: function initHtml() {
                    var element = document.querySelector(".gr-viewport");
                    var elementBefore = document.querySelector(".gr-canvas");
                    var tapTextDiv = document.createElement("div");
                    tapTextDiv.classList.add("portrait-text");
                    var tapText = document.createElement("p");
                    tapText.innerText = this.textInfo.text;
                    tapTextDiv.appendChild(tapText);
                    element.insertBefore(tapTextDiv, elementBefore.nextSibling)
                }
            }, {
                key: "initListeners",
                value: function initListeners() {
                    var _this2 = this;
                    this.skipContainer.on("pointerdown", function() {
                        return _this2.skip()
                    });
                    document.body.onkeyup = function(e) {
                        return e.keyCode == 32 && _this2.skip()
                    };
                    if (_app.app.config.get("Screen.available")) return;
                    GR.UI.model.follow("orientation", this.followMethod, this);
                    var back = document.querySelector(".game-bg");
                    back.addEventListener("click", function() {
                        return _this2.skip()
                    });
                    back.addEventListener("tap", function() {
                        return _this2.skip()
                    })
                }
            }, {
                key: "getNextPage",
                value: function getNextPage() {
                    createjs.Tween.removeTweens(this.tapText);
                    this.tapText.alpha = 1;
                    if (_app.app.config.get("Screen.available")) return;
                    var tap = document.querySelector(".portrait-text");
                    createjs.Tween.removeTweens(this.tapText);
                    var isPortrait = GR.UI.model.get("orientation") === "portrait";
                    isPortrait ? this.tapText.alpha = 0 : this.tapText.alpha = 1;
                    tap.classList.add("portrait-text_stopped")
                }
            }, {
                key: "followMethod",
                value: function followMethod() {
                    if (this.skipped) return;
                    this.portraitStartScreen()
                }
            }, {
                key: "removeListeners",
                value: function removeListeners() {
                    document.body.onkeyup = null;
                    this.skipContainer && this.skipContainer.off("pointerdown", this.skip);
                    if (_app.app.config.get("Screen.available")) return;
                    var back = document.querySelector(".game-bg");
                    back.removeEventListener("click", this.skip);
                    back.removeEventListener("tap", this.skip);
                    GR.UI.model.unfollow("orientation", this.resize, this)
                }
            }, {
                key: "onReset",
                value: function onReset() {
                    if (_app.app.flow.isSpectator()) {
                        this.skip();
                        return Promise.resolve()
                    }
                    return this.deferred.promise
                }
            }, {
                key: "portraitStartScreen",
                value: function portraitStartScreen() {
                    var isPortrait = GR.UI.model.get("orientation") === "portrait";
                    var tap = document.querySelector(".portrait-text");
                    if (isPortrait) {
                        this.tapText.visible = false;
                        this.tapBack.visible = false;
                        tap.classList.remove("portrait-logo-text-disable")
                    } else {
                        this.tapText.visible = true;
                        this.tapBack.visible = true;
                        tap.classList.add("portrait-logo-text-disable")
                    }
                }
            }, {
                key: "skip",
                value: function skip() {
                    if (this.skipped) return;
                    this.removeListeners();
                    GR.UI.view.quickspin.visible(!_app.app.flow.isSpectator());
                    GR.UI.model.set("game_mode", _app.app.model.get("game.current"));
                    this.removeFromParent();
                    this.tapText && createjs.Tween.removeTweens(this.tapText);
                    if (!_app.app.config.get("Screen.available")) {
                        var tap = document.querySelector(".portrait-text");
                        tap.classList.add("portrait-logo-text-disable")
                    }
                    this.deferred.resolve();
                    this.skipped = true
                }
            }, {
                key: "_preInit",
                value: function _preInit() {
                    this.deferred = _utils.default.deferred();
                    this.skipped = false
                }
            }, {
                key: "_postInit",
                value: function _postInit() {}
            }]);
            return BaseStartScreen
        }(_Interfaces.Component);
        exports.default = BaseStartScreen;
        _Fabric.default.set(_Enums.Fabrics.START_SCREEN, BaseStartScreen)
    }, {
        "core/app": 33,
        "core/core/Enums": 73,
        "core/core/Fabric": 74,
        "core/core/Interfaces": 77,
        "core/helpers/utils": 91
    }],
    36: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.BIGWIN_COINS_TEXT = BIGWIN_COINS_TEXT;
        exports.default = exports.BitmapCoinsText = void 0;
        var _index = require("core/helpers/index");

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var BitmapCoinsText = function(_PIXI$extras$BitmapTe) {
            _inherits(BitmapCoinsText, _PIXI$extras$BitmapTe);
            var _super = _createSuper(BitmapCoinsText);

            function BitmapCoinsText(coins, style) {
                var _this;
                _classCallCheck(this, BitmapCoinsText);
                _this = _super.call(this, "", style);
                _this.coins = coins;
                return _this
            }
            _createClass(BitmapCoinsText, [{
                key: "play",
                value: function play(from, to, time) {
                    var style = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;
                    var fps = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 30;
                    var deferred = _index.utils.deferred();
                    this.coins = from;
                    if (style !== null) {
                        this.style = style;
                        this.dirty = true
                    }
                    this.tween({
                        override: true
                    }).setFPS(fps).to({
                        coins: to
                    }, time).call(function() {
                        return deferred.resolve()
                    });
                    return deferred.promise
                }
            }, {
                key: "coins",
                get: function get() {
                    return this.coinsValue
                },
                set: function set(coins) {
                    this.coinsValue = coins;
                    this.text = _index.i18n.coins(coins)
                }
            }]);
            return BitmapCoinsText
        }(PIXI.extras.BitmapText);
        exports.BitmapCoinsText = BitmapCoinsText;
        var _default = BitmapCoinsText;
        exports.default = _default;

        function BIGWIN_COINS_TEXT() {
            var size = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 12;
            return {
                font: "".concat(size, "px Impact")
            }
        }
    }, {
        "core/helpers/index": 90
    }],
    37: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;
        var _app = require("core/app");
        var _Fabric = _interopRequireDefault(require("core/core/Fabric"));
        var _utils = require("core/utils");
        var _Interfaces = require("core/core/Interfaces");
        var _GameSymbol = _interopRequireDefault(require("./GameSymbol"));
        var _Reel = _interopRequireDefault(require("core/components/Reel"));
        var _Reels = _interopRequireDefault(require("core/components/Reels"));
        var _Enums = require("core/core/Enums");
        var _SkipController = _interopRequireDefault(require("../controllers/SkipController"));
        var _BigWinParams = _interopRequireDefault(require("./bigwin/BigWinParams"));
        var _AssetsHelper = _interopRequireDefault(require("../helpers/AssetsHelper"));
        var _BigWin = _interopRequireDefault(require("./bigwin/BigWin"));
        var _LabelWinContainer = _interopRequireDefault(require("./LabelWinContainer"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _construct(Parent, args, Class) {
            if (_isNativeReflectConstruct()) {
                _construct = Reflect.construct
            } else {
                _construct = function _construct(Parent, args, Class) {
                    var a = [null];
                    a.push.apply(a, args);
                    var Constructor = Function.bind.apply(Parent, a);
                    var instance = new Constructor;
                    if (Class) _setPrototypeOf(instance, Class.prototype);
                    return instance
                }
            }
            return _construct.apply(null, arguments)
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var Board = function(_Component) {
            _inherits(Board, _Component);
            var _super = _createSuper(Board);

            function Board() {
                var _this;
                _classCallCheck(this, Board);
                _this = _super.call(this);
                _this.root = _app.app.lr("board").addChild(_assertThisInitialized(_this));
                _this.animations = [];
                _this.bigWinConstructor = _BigWin.default;
                _this.bigWinParamsConstructor = _BigWinParams.default;
                _this.labelWinContainer = new _LabelWinContainer.default;
                _SkipController.default.on(function() {
                    return _this.animations.forEach(function(a) {
                        return a.skippable && a.onStop.call(_assertThisInitialized(_this))
                    })
                });
                GR.UI.model.follow("orientation", _this.followLogoPosition, _assertThisInitialized(_this));
                return _this
            }
            _createClass(Board, [{
                key: "addAnimation",
                value: function addAnimation(onStart, onStop) {
                    var _this2 = this;
                    var container = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
                    var skippable = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
                    var extendCallback = function extendCallback(original, fn) {
                        return function() {
                            return _utils.utils.getPromise(original && original.call(_this2)).then(fn)
                        }
                    };
                    if (container !== null) {
                        this.root.addChild(container);
                        if (_app.app.config.get("Board.dontDestroyAnimationContainer", false)) {
                            onStop = extendCallback(onStop, function() {
                                return container.removeFromParent()
                            });
                            onStart = extendCallback(onStart, function() {
                                return container.removeFromParent()
                            })
                        } else {
                            onStop = extendCallback(onStop, function() {
                                return container.destroy({
                                    children: true
                                })
                            });
                            onStart = extendCallback(onStart, function() {
                                return container.destroy({
                                    children: true
                                })
                            })
                        }
                    }
                    if (skippable) {
                        var lastTapTime = 0;
                        var skipContainer = new PIXI.Container;
                        skipContainer.interactive = true;
                        skipContainer.on("click tap", function(e) {
                            e.data.originalEvent.preventDefault();
                            var time = Date.now();
                            if (time - lastTapTime < 500) onStop();
                            lastTapTime = time
                        });
                        var screenAvailable = _app.app.config.get("Screen.available");
                        var rect = screenAvailable ? [this.pivotX - this.x, -_app.app._stageWrapper.pivotY, _app.app.config.get("Screen.backWidth"), _app.app.config.get("Screen.backHeight")] : [0, 0, _app.app.config.get("App.width"), _app.app.config.get("App.height")];
                        skipContainer.hitArea = _construct(PIXI.Rectangle, rect);
                        this.root.addChild(skipContainer);
                        onStop = extendCallback(onStop, function() {
                            return skipContainer.destroy()
                        });
                        onStart = extendCallback(onStart, function() {
                            return skipContainer.destroy()
                        })
                    }
                    var removeAnimation = function removeAnimation() {
                        var idx = _this2.animations.findIndex(function(i) {
                            return i.onStop === onStop
                        });
                        if (idx !== -1) _this2.animations.splice(idx, 1)
                    };
                    onStop = extendCallback(onStop, removeAnimation);
                    onStart = extendCallback(onStart, removeAnimation);
                    var defer = _utils.utils.deferred();
                    onStop = extendCallback(onStop, defer.resolve);
                    onStart = extendCallback(onStart, defer.resolve);
                    var stopPromise;
                    onStop = function(originalOnStop) {
                        return function() {
                            return stopPromise = stopPromise || originalOnStop.call(this)
                        }
                    }(onStop);
                    this.animations.push({
                        onStop: onStop,
                        skippable: skippable
                    });
                    onStart.call(this);
                    return defer.promise
                }
            }, {
                key: "stopAnimations",
                value: function stopAnimations() {
                    var _this3 = this;
                    var animations = this.animations.splice(0, this.animations.length);
                    return animations.map(function(info) {
                        return info.onStop.call(_this3)
                    })
                }
            }, {
                key: "followLogoPosition",
                value: function followLogoPosition() {
                    if (!_app.app.config.get("App.usePortraitMode")) return;
                    var isPortrait = GR.UI.model.get("orientation") === "portrait";
                    var logo = document.querySelector(".portrait-logo");
                    if (isPortrait) {
                        logo && logo.classList.remove("portrait-logo-text-disable");
                        if (this.logo) this.logo.alpha = 0
                    } else {
                        logo && logo.classList.add("portrait-logo-text-disable");
                        if (this.logo) this.logo.alpha = 1
                    }
                }
            }, {
                key: "onInit",
                value: function onInit() {
                    this.isInited = true;
                    this.resize();
                    this.followLogoPosition();
                    return Promise.resolve()
                }
            }, {
                key: "onReset",
                value: function onReset(animated) {
                    this.unfollowRoundBet();
                    this.stopAnimations();
                    if (this.reels) {
                        this.reels.fillFromModel(false);
                        this.reels.reset()
                    }
                    return Promise.resolve()
                }
            }, {
                key: "getSymbol",
                value: function getSymbol(col, row) {
                    return this.reels.reels[col - 1].symbols[row]
                }
            }, {
                key: "followRoundBetChange",
                value: function followRoundBetChange() {
                    var _this4 = this;
                    if (!this.followId) {
                        this.followId = _app.app.model.follow("game.round_bet", function(value, oldValue) {
                            if (_this4.inited && oldValue && value && value !== oldValue && !_app.app.model.get("game.restart", false)) {
                                _this4.reset()
                            }
                        })
                    }
                }
            }, {
                key: "unfollowRoundBet",
                value: function unfollowRoundBet() {
                    if (this.followId) {
                        _app.app.model.unfollow(this.followId);
                        this.followId = null
                    }
                }
            }, {
                key: "replayWinLines",
                value: function replayWinLines() {
                    var _this5 = this;
                    if (_app.app.model.winlines().length <= 1) return;
                    this.labelWinContainer.hide(true, true);
                    var promise = Promise.resolve();
                    var defer = _utils.utils.deferred();
                    var isReplayWinLines = _app.app.config.get("Board.replayWinLines", false);
                    this.followRoundBetChange();
                    this.addAnimation(function() {
                        var combinations = [].concat(_app.app.model.winscatters(), _app.app.model.winlines()).filter(function(c) {
                            return c.amount
                        });
                        if (!combinations.length) return;
                        var current = 0;
                        var showNext = function showNext() {
                            var comb = combinations[current];
                            promise = _utils.utils.Q([function() {
                                return _utils.utils.getPromise(_this5.hideAllLines())
                            }, function() {
                                return Promise.all([_utils.utils.wait(_app.app.config.get("Board.idleAnimationTime")), _this5.showCombination(comb)])
                            }, function() {
                                return _utils.utils.wait(_app.app.config.get("Board.idleAnimationInterval"))
                            }, function() {
                                ++current;
                                if (!isReplayWinLines && current >= combinations.length) {
                                    if (_this5.reels) {
                                        _this5.reels.fillFromModel(false);
                                        _this5.reels.reset()
                                    }
                                    return _utils.utils.getPromise(_this5.hideAllLines())
                                }
                                current %= combinations.length;
                                return showNext()
                            }])
                        };
                        promise = _utils.utils.Q([function() {
                            return _utils.utils.wait(_app.app.config.get("Board.idleAnimationDelay"))
                        }, function() {
                            return showNext()
                        }]);
                        return defer.promise
                    }, function() {
                        promise && promise.cancel && promise.cancel();
                        defer.resolve()
                    })
                }
            }, {
                key: "showRoundResult",
                value: function showRoundResult() {
                    var _this6 = this;
                    this.followRoundBetChange();
                    var deferred = _utils.utils.deferred();
                    var roundWin = _app.app.model.roundWin();
                    var isBigWin = _app.app.model.isBigWin();
                    var playSymbolsBeforeBigWin = _app.app.config.get("Board.playSymbolsBeforeBigWin") || false;
                    var promise = Promise.resolve();
                    if (isBigWin) {
                        promise = Promise.all([playSymbolsBeforeBigWin && this.showRoundWinSymbols(), this.showBigWinAnimation(roundWin)])
                    }
                    promise.then(function() {
                        return _this6.showWinAnimation(isBigWin ? 0 : roundWin)
                    }).then(function() {
                        return _utils.utils.wait(_app.app.model.winscatters().length ? _app.app.config.get("Board.roundWinScattersDelay") : 1)
                    }).then(function() {
                        return _this6.showRoundWinScatters()
                    }).then(deferred.resolve, deferred.resolve);
                    return this.addAnimation(function() {
                        return deferred.promise
                    }, function() {
                        return deferred.resolve()
                    })
                }
            }, {
                key: "showRoundWinScatters",
                value: function showRoundWinScatters() {
                    var _this7 = this;
                    var winscatters = _app.app.model.winscatters();
                    if (!winscatters || winscatters.length === 0) return Promise.resolve();
                    var wonFreespins = winscatters.some(function(i) {
                        return i.trigger === "freespins"
                    });
                    if (!wonFreespins) return Promise.resolve();
                    var freeSpinsCount = winscatters.reduce(function(prev, cur) {
                        return prev + (cur.freespins || 0)
                    }, 0);
                    _app.app.emit(_app.GameEvent.WinScatter);
                    var promises = [];
                    this.reels.forEachSymbol(function(symbol, i, j) {
                        var isActive = winscatters.some(function(winline) {
                            return winline.positions.some(function(pos) {
                                return pos[0] === i && pos[1] === j
                            })
                        });
                        isActive ? symbol.setShortState() : symbol.setBlurState();
                        if (!symbol.complete) promises.push(new Promise(function(res) {
                            return symbol.once(_GameSymbol.default.EventAnimationComplete, res)
                        }))
                    });
                    return Promise.all(promises).then(function() {
                        return _app.app.emit(_app.app.model.isFreeSpins() ? _app.GameEvent.WinAdditionalFreeSpins : _app.GameEvent.WinFreeSpins, _app.app.model.getFreeSpinsGranted())
                    }).then(function() {
                        return _this7.showFreeSpinsIntroLabel(freeSpinsCount, _app.app.model.isFreeSpins())
                    })
                }
            }, {
                key: "showWinAnimation",
                value: function showWinAnimation(roundWin) {
                    var _this8 = this;
                    if (!roundWin) {
                        return Promise.resolve()
                    }
                    var promise = _utils.utils.Q([function() {
                        return Promise.all([_utils.utils.wait(_app.app.config.get("Board.winAnimationMinTime")), _this8.showRoundWinSymbols(), _this8.showRoundWinCounter(roundWin)])
                    }, function() {
                        return _this8._hideRoundWinCounter()
                    }]);
                    this.labelWinContainer.once(_app.GameEvent.HideCounter, this.reels.setSymbolsDeBlurState, this);
                    this.reels.once(_Reels.default.StartEvent, function() {
                        return _this8.labelWinContainer.off(_app.GameEvent.HideCounter, _this8.reels.setSymbolsDeBlurState, _this8)
                    });
                    return this.addAnimation(function() {
                        return promise
                    }, function() {
                        _this8._hideRoundWinCounter(true);
                        promise && promise.cancel && promise.cancel()
                    }, null, true)
                }
            }, {
                key: "showBigWinAnimation",
                value: function showBigWinAnimation(roundWin) {
                    var params = new this.bigWinParamsConstructor;
                    if (!_AssetsHelper.default.isSpineLoaded(params.spineName)) {
                        return this.showWinAnimation(roundWin)
                    }
                    var animation = new this.bigWinConstructor(params);
                    return this.addAnimation(function() {
                        return animation.play(roundWin)
                    }, function() {
                        return animation.skip()
                    }, animation.getContainer(), this.bigWinConstructor.SKIPPABLE)
                }
            }, {
                key: "getHalfHeight",
                value: function getHalfHeight() {
                    return this.root.toLocal(new PIXI.Point(0, this.reels.getMeasuredHeight() / 2), this.reels).y
                }
            }, {
                key: "showWinLine",
                value: function showWinLine(winline) {
                    var promises = [];
                    this.reels.forEachSymbol(function(symbol, i, j) {
                        var isActive = winline.positions.some(function(pos) {
                            return pos[0] === i && pos[1] === j
                        });
                        isActive ? symbol.setShortState() : symbol.setBlurState();
                        if (!symbol.complete) promises.push(new Promise(function(res) {
                            return symbol.once(_GameSymbol.default.EventAnimationComplete, res)
                        }))
                    });
                    return Promise.all(promises)
                }
            }, {
                key: "playTriggersAnimations",
                value: function playTriggersAnimations() {
                    var _this9 = this;
                    if (_app.app.config.get("Board.skipTriggerAnimation") && (GR.UI.model.get("quick_spin", false) || _app.app.model.get("turboskip.active", false))) return Promise.resolve();
                    var defer = _utils.utils.deferred();
                    var promises = [];
                    var tMap = _app.app.model.triggerMap();
                    var callback = function callback(reelId, r) {
                        var reel = reelId - 1;
                        if (!tMap[reel]) return;
                        for (var row = 0; row < tMap[reel].length; row++) {
                            if (tMap[reel][row]) {
                                (function() {
                                    var s = r.symbols[row + 1];
                                    var symbol = _this9.addChild(_GameSymbol.default.create(s.id));
                                    symbol.setLandState();
                                    symbol.position = _this9.toLocal(r.getMeasuredSymbolPosition(row), r);
                                    if (!symbol.complete) {
                                        promises.push(new Promise(function(res) {
                                            return symbol.once(_GameSymbol.default.EventAnimationComplete, function() {
                                                res();
                                                symbol.destroy()
                                            })
                                        }))
                                    } else {
                                        symbol.destroy()
                                    }
                                })()
                            }
                        }
                    };
                    _app.app.on(_Reel.default.EVENT.STOP_BEFORE_BACK_OUT, callback);
                    _app.app.once(_Reels.default.StopEvent, function() {
                        _app.app.off(_Reel.default.EVENT.STOP_BEFORE_BACK_OUT, callback);
                        Promise.all(promises).then(function() {
                            return defer.resolve()
                        })
                    });
                    return defer.promise
                }
            }, {
                key: "addLogo",
                value: function addLogo() {
                    var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
                    var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
                    this.logo = this.addChild(PIXI.Sprite.fromFrame("logo"));
                    this.logo.anchor.set(.5, 0);
                    this.logo.position.set(x, y)
                }
            }, {
                key: "spin",
                value: function spin() {
                    return this.reels.spin()
                }
            }, {
                key: "respin",
                value: function respin() {
                    return this.reels.spin()
                }
            }, {
                key: "stop",
                value: function stop() {
                    return Promise.all([this.reels.stop(), this.playTriggersAnimations()])
                }
            }, {
                key: "skip",
                value: function skip() {
                    return this.reels.skip()
                }
            }, {
                key: "showRoundWinCombinations",
                value: function showRoundWinCombinations() {
                    console.warn(".showRoundWinCombinations is deprecated, use .showWinAnimation instead!");
                    return this.showWinAnimation(_app.app.model.roundWin())
                }
            }, {
                key: "showRoundWinLines",
                value: function showRoundWinLines() {
                    var _this10 = this;
                    this.followRoundBetChange();
                    return Promise.all(_app.app.model.winlines().map(function(i) {
                        return _this10.showLine(i)
                    }))
                }
            }, {
                key: "showRoundWinSymbols",
                value: function showRoundWinSymbols() {
                    var _this11 = this;
                    var winlines = _app.app.model.winlines();
                    if (!winlines || winlines.length === 0) return Promise.resolve();
                    var promises = [];
                    this.reels.forEachSymbol(function(symbol, i, j) {
                        var isActive = winlines.some(function(winline) {
                            return winline.positions.some(function(pos) {
                                return pos[0] === i && pos[1] === j
                            })
                        });
                        var oversizeSymbol = _this11.reels.getOversizeSymbol(i, j);
                        if (isActive) {
                            symbol.setShortState();
                            oversizeSymbol && oversizeSymbol.setShortState()
                        } else {
                            symbol.setBlurState();
                            oversizeSymbol && oversizeSymbol.setBlurState()
                        }
                        if (!symbol.complete) promises.push(new Promise(function(res) {
                            return symbol.once(_GameSymbol.default.EventAnimationComplete, res)
                        }))
                    });
                    return Promise.all(promises)
                }
            }, {
                key: "showWinPanel",
                value: function showWinPanel(value) {}
            }, {
                key: "showLine",
                value: function showLine(line) {
                    return Promise.all([this.lines && this.lines.show(line), this.markers && this.markers.enable(line)])
                }
            }, {
                key: "hideAllLines",
                value: function hideAllLines() {
                    var animated = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
                    this.lines && this.lines.hideAll(animated);
                    this.markers && this.markers.disableAll(animated)
                }
            }, {
                key: "showCombination",
                value: function showCombination(winline) {
                    return Promise.all([this.showWinLine(winline), this.showWinPanel(winline.amount), "line" in winline && this.showLine(winline)])
                }
            }, {
                key: "idle",
                value: function idle() {
                    console.warn("board.idle is deprecated, use board.reset instead!");
                    return this.reset()
                }
            }, {
                key: "showLabel",
                value: function showLabel(message) {
                    var label = new PIXI.Text(message, Board.STYLE_MESSAGE);
                    label.position.set(_app.app.config.get("App.width") / 2, this.getHalfHeight());
                    label.anchor.set(.5, .5);
                    label.alpha = 0;
                    this.addChild(label);
                    return new Promise(function(res) {
                        label.tween().to({
                            alpha: 1
                        }, 300).call(function() {
                            return _app.app.emit(_app.GameEvent.LabelPopupShow)
                        }).wait(1400).call(function() {
                            return res()
                        }).wait(600).to({
                            alpha: 0
                        }, 300).call(function() {
                            return label.destroy()
                        })
                    })
                }
            }, {
                key: "showFreeSpinsOutroLabel",
                value: function showFreeSpinsOutroLabel() {
                    var win = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
                    win = win === null ? _app.app.model.current("total_win", 0) : win;
                    var time = win > 0 ? 4e3 : 1400;
                    _app.app.emit(_app.GameEvent.FreeSpinsOutroLabel, win);
                    GR.UI.model.set("total_win", win);
                    return win > 0 ? this.totalWin.show("", win) : this.showLabel(_utils.i18n.get("POPUP_FREESPINS_OUTRO_NO_WIN"), false, time, true)
                }
            }, {
                key: "showFreeSpinsIntroLabel",
                value: function showFreeSpinsIntroLabel(freeSpinsCount, freeSpinsAdditional) {
                    return new Promise(function(res) {
                        return res()
                    })
                }
            }, {
                key: "showRoundWinCounter",
                value: function showRoundWinCounter(roundWin) {
                    if (!this.labelWinContainer.parent) {
                        this.addChild(this.labelWinContainer)
                    }
                    if (_app.app.config.get("Screen.available")) {
                        this.labelWinContainer.position.set(this.pivotX, this.getHalfHeight())
                    } else {
                        this.labelWinContainer.position.set(_app.app.config.get("App.width") / 2, this.getHalfHeight())
                    }
                    return this.labelWinContainer.show(roundWin)
                }
            }, {
                key: "_hideRoundWinCounter",
                value: function _hideRoundWinCounter() {
                    var force = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
                    if (!this.labelWinContainer.parent || this.labelWinContainer.forceStop) return Promise.resolve();
                    return this.labelWinContainer.hide(force)
                }
            }, {
                key: "resize",
                value: function resize() {
                    if (!_app.app.config.get("App.usePortraitMode")) return;
                    if (!this.isInited) return;
                    if (!_app.app.model.isMobile()) return;
                    var portraitDeltaX = _app.app.model.isPortrait() ? _app.app.config.get("App.portraitDeltaX") : 0;
                    var scale = _app.app.model.isPortrait() ? _app.app.config.get("App.portraitScale") : 1;
                    _app.app.board.scale.set(scale);
                    _app.app.board.x = portraitDeltaX;
                    _app.app.bg.scale.set(scale);
                    _app.app.bg.x = portraitDeltaX
                }
            }]);
            return Board
        }(_Interfaces.Component);
        exports.default = Board;
        _Fabric.default.set(_Enums.Fabrics.BOARD, Board)
    }, {
        "../controllers/SkipController": 68,
        "../helpers/AssetsHelper": 86,
        "./GameSymbol": 39,
        "./LabelWinContainer": 41,
        "./bigwin/BigWin": 45,
        "./bigwin/BigWinParams": 47,
        "core/app": 33,
        "core/components/Reel": 42,
        "core/components/Reels": 43,
        "core/core/Enums": 73,
        "core/core/Fabric": 74,
        "core/core/Interfaces": 77,
        "core/utils": 99
    }],
    38: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = exports.Paytable = void 0;
        Object.defineProperty(exports, "templates", {
            enumerable: true,
            get: function get() {
                return _HTMLPaytable.templates
            }
        });
        var _app = require("../app");
        var _HTMLPaytable = require("./HTMLPaytable");
        var _i18n = _interopRequireDefault(require("../helpers/i18n"));
        var _mustache = _interopRequireDefault(require("mustache"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _get() {
            if (typeof Reflect !== "undefined" && Reflect.get) {
                _get = Reflect.get
            } else {
                _get = function _get(target, property, receiver) {
                    var base = _superPropBase(target, property);
                    if (!base) return;
                    var desc = Object.getOwnPropertyDescriptor(base, property);
                    if (desc.get) {
                        return desc.get.call(arguments.length < 3 ? target : receiver)
                    }
                    return desc.value
                }
            }
            return _get.apply(this, arguments)
        }

        function _superPropBase(object, property) {
            while (!Object.prototype.hasOwnProperty.call(object, property)) {
                object = _getPrototypeOf(object);
                if (object === null) break
            }
            return object
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var GR = window.GR;
        var Paytable = function(_ParentPaytable) {
            _inherits(Paytable, _ParentPaytable);
            var _super = _createSuper(Paytable);

            function Paytable() {
                var _this;
                _classCallCheck(this, Paytable);
                _this = _super.call(this);
                GR.UI.model.follow("bet_per_line", function(v) {
                    var p = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
                    return p !== null && _this.init()
                });
                GR.UI.model.follow("bet", function(v) {
                    var p = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
                    return p !== null && _this.init()
                });
                _app.app.model.follow("settings.rtp", function(v) {
                    var p = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
                    return p !== null && _this.init()
                });
                return _this
            }
            _createClass(Paytable, [{
                key: "init",
                value: function init() {
                    var pagesHTML = [].concat(this.getPages());
                    if (!_app.app.config.get("CommonRules.available")) {
                        pagesHTML = pagesHTML.concat(this.getGlossary()).concat(this.getPays())
                    }
                    pagesHTML = pagesHTML.filter(function(page) {
                        return page
                    }).map(function(page) {
                        return _mustache.default.render(_HTMLPaytable.templates.paytable.mobile, {
                            pages: [page],
                            pays: ""
                        })
                    });
                    GR.UI.model.set("paytable", pagesHTML);
                    if (_app.app.config.get("CommonRules.available")) {
                        this.getCommonRulesPage(_app.app.config.get("CommonRules.textId", "PAYTABLE_COMMON_RULES"))
                    }
                    this.addListeners()
                }
            }, {
                key: "addListeners",
                value: function addListeners() {}
            }, {
                key: "getGlossary",
                value: function getGlossary() {
                    var headerID = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
                    var lang = _app.env.get("lang");
                    var requiredLanguages = _app.app.config.get("Licenses.glossaryRequiredLanguages");
                    if (!_i18n.default.has("GLOSSARY_CONTENT") || !requiredLanguages.includes(lang)) {
                        return null
                    }
                    var translates = _i18n.default.get("GLOSSARY_CONTENT").split(",").map(function(e) {
                        var arr = e.split("|");
                        return {
                            origin: arr[0],
                            translate: arr[1]
                        }
                    });
                    var glossary = '\n            {{#header}}\n            <h1>{{{.}}}</h1>\n            {{/header}}\n            <table class="paytable-glossary  paytable-glossary__{{lang}}">\n                {{#translates}}\n                <tr>\n                    <td>{{origin}}</td>\n                    <td>{{translate}}</td>\n                </tr>\n                {{/translates}}\n            </table>';
                    return {
                        title: _i18n.default.get("GLOSSARY_NAME"),
                        class: "paytable-page_glossary",
                        content: _mustache.default.render(glossary, {
                            translates: translates,
                            lang: lang,
                            header: headerID ? _i18n.default.get(headerID) : null
                        })
                    }
                }
            }, {
                key: "getPays",
                value: function getPays() {
                    if (!_i18n.default.has("PAYTABLE_PAYS")) {
                        return null
                    }
                    var paysInfo = _i18n.default.html("PAYTABLE_PAYS", this.getPaysParams());
                    if (!paysInfo) {
                        return
                    }
                    var rtp = this.getRTPText();
                    if (rtp) {
                        rtp = "<br/>".concat(rtp)
                    } else {
                        rtp = ""
                    }
                    return {
                        title: _i18n.default.html("PAYTABLE_PAYS_TITLE"),
                        class: "paytable-page_pays-formation",
                        content: paysInfo + rtp
                    }
                }
            }, {
                key: "getPaysParams",
                value: function getPaysParams() {
                    return [""]
                }
            }, {
                key: "getRTPText",
                value: function getRTPText() {
                    var rtp = _app.app.model.get("settings.rtp", null);
                    return rtp ? _i18n.default.html("PAYTABLE_RTP", rtp) : ""
                }
            }, {
                key: "generateCommonTexts",
                value: function generateCommonTexts(id) {
                    var texts = _i18n.default.get(id, this.generateCommonTextsParams());
                    var template = "\n            {{#texts}}\n                {{{.}}}\n            {{/texts}}\n        ";
                    return _mustache.default.render(template, {
                        texts: texts
                    })
                }
            }, {
                key: "getCommonRulesRTP",
                value: function getCommonRulesRTP() {
                    var rtp = this.getRTPText();
                    if (rtp) {
                        rtp = "<p>".concat(rtp, "</p>")
                    } else {
                        rtp = ""
                    }
                    return rtp
                }
            }, {
                key: "generateCommonTextsParams",
                value: function generateCommonTextsParams() {
                    var glossary = this.getGlossary("CR_GLOSSARY");
                    var rtp = this.getCommonRulesRTP();
                    return {
                        lines: _app.app.model.get("settings.lines", null),
                        time: GR.Options.options.round_expire || 90,
                        glossary: glossary ? glossary.content : "",
                        rtp: rtp
                    }
                }
            }, {
                key: "getCommonRulesPage",
                value: function getCommonRulesPage(data) {
                    data = this.generateCommonTexts(data);
                    GR.UI.model.set("common_rules", data)
                }
            }], [{
                key: "createSymbolsPage",
                value: function createSymbolsPage(symbols, symbolsClass, symbolClass, options) {
                    options = options || {};
                    if (!("betPerLine" in options)) {
                        options.betPerLine = GR.UI.model.get("bet_per_line")
                    }
                    if (!("bet" in options)) {
                        options.bet = GR.UI.model.get("bet")
                    }
                    return _get(_getPrototypeOf(Paytable), "createSymbolsPage", this).call(this, symbols, symbolsClass, symbolClass, options)
                }
            }]);
            return Paytable
        }(_HTMLPaytable.Paytable);
        exports.Paytable = Paytable;
        var _default = Paytable;
        exports.default = _default;
        GR.PAYTABLE = Paytable
    }, {
        "../app": 33,
        "../helpers/i18n": 89,
        "./HTMLPaytable": 40,
        mustache: 20
    }],
    39: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = exports.GameSymbol = void 0;
        var _Enums = require("./../core/Enums");
        var _app = _interopRequireDefault(require("../app"));
        var _GSSpriteView = require("./symbolView/GSSpriteView");
        var _GSView = _interopRequireDefault(require("./symbolView/GSView"));
        var _GSSpineView = _interopRequireDefault(require("./symbolView/GSSpineView"));
        var _GSBonusView = _interopRequireDefault(require("./symbolView/GSBonusView"));
        var _GSViewConfig = _interopRequireDefault(require("./symbolView/GSViewConfig"));
        var _GSEmptyView = _interopRequireDefault(require("./symbolView/GSEmptyView"));
        var _GSSpineNames = _interopRequireDefault(require("./symbolView/GSSpineNames"));
        var _AssetsHelper = _interopRequireDefault(require("../helpers/AssetsHelper"));
        var _GSOversizeBonusView = require("./symbolView/GSOversizeBonusView");
        var _GSOversizeStaticView = require("./symbolView/GSOversizeStaticView");

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var GameSymbol = function(_PIXI$Container) {
            _inherits(GameSymbol, _PIXI$Container);
            var _super = _createSuper(GameSymbol);

            function GameSymbol() {
                var _this;
                var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
                _classCallCheck(this, GameSymbol);
                _this = _super.call(this);
                _this.init(id);
                return _this
            }
            _createClass(GameSymbol, [{
                key: "init",
                value: function init() {
                    var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
                    if (Object.keys(GameSymbol.mapping).length === 0) {
                        throw new Error("GameSymbol.mapping not assigned!")
                    }
                    this.id = null;
                    this.view = null;
                    this.state = null;
                    this.currentBonusSymbolValue = 0;
                    this.config = new _GSViewConfig.default;
                    this.returnToStaticState = false;
                    this.interactive = false;
                    this.hitArea = new PIXI.Rectangle(0, 0, _app.default.config.get("GameSymbol.width"), _app.default.config.get("GameSymbol.height"));
                    this.setId(id);
                    this.setZIndex();
                    this.createState(GameSymbol.STATIC)
                }
            }, {
                key: "id",
                get: function get() {
                    return this._id
                },
                set: function set(id) {
                    if (this._id === id) return;
                    this._id = id;
                    this.state = null
                }
            }, {
                key: "complete",
                get: function get() {
                    return this.view.complete
                }
            }, {
                key: "setId",
                value: function setId() {
                    var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
                    id === null ? this.setRandomId() : this.id = id;
                    this.setZIndex()
                }
            }, {
                key: "setZIndex",
                value: function setZIndex() {
                    var useZIndex = _app.default.config.get("AdvancedReels.useCustomZIndex");
                    if (useZIndex) {
                        this.zIndex = _app.default.config.get("AdvancedReels.symbolZIndex.".concat(this.id))
                    }
                }
            }, {
                key: "setRandomId",
                value: function setRandomId() {
                    var values = Object.keys(GameSymbol.mapping);
                    this.id = Number(values[Math.floor(Math.random() * values.length)])
                }
            }, {
                key: "createState",
                value: function createState(state) {
                    if (this.state === state) {
                        return
                    }
                    var oldView = this.view;
                    this.generateView(state);
                    this.view.createState(state);
                    this.state = state;
                    if (oldView) {
                        this.removeChild(oldView);
                        oldView.clear();
                        oldView = null
                    }
                }
            }, {
                key: "generateView",
                value: function generateView(state) {
                    if (this.config.stateMapping[state].spine.includes(this.id) && this._isSpineLoaded(this.id)) {
                        if (state === GameSymbol.OVERSIZE && _app.default.config.get("AdvancedReels.oversizeSymbols").includes(this.id)) {
                            this.view = this.addChild(new _GSOversizeBonusView.GSOversizeBonusView)
                        } else {
                            if (GameSymbol.BONUS_ID_ARRAY.includes(this.id)) {
                                this.view = this.addChild(new _GSBonusView.default)
                            } else {
                                this.view = this.addChild(new _GSSpineView.default)
                            }
                        }
                    } else if (this.config.stateMapping[state].sprite.includes(this.id)) {
                        if (this.id === GameSymbol.EMPTY_ID) {
                            this.view = this.addChild(new _GSEmptyView.default)
                        } else {
                            if (state === GameSymbol.OVERSIZE && _app.default.config.get("AdvancedReels.oversizeSymbols").includes(this.id)) {
                                this.view = this.addChild(new _GSOversizeStaticView.GSOversizeStaticView)
                            } else {
                                this.view = this.addChild(new _GSSpriteView.GSSpriteView)
                            }
                        }
                    } else {
                        this.view = this.addChild(new _GSSpriteView.GSSpriteView)
                    }
                }
            }, {
                key: "setEmptyTexture",
                value: function setEmptyTexture() {
                    this.view.setEmptyTexture()
                }
            }, {
                key: "setMoveState",
                value: function setMoveState() {
                    if (this.state === GameSymbol.MOVE) return;
                    this.createState(GameSymbol.MOVE);
                    if (GameSymbol.BONUS_ID_ARRAY.includes(this.id)) {
                        var coins = _GSView.default.generateRandomBonusSymbolValue();
                        this.setBonusSymbolViewValue(coins)
                    }
                }
            }, {
                key: "setStaticState",
                value: function setStaticState() {
                    if (this.state === GameSymbol.STATIC) return;
                    this.createState(GameSymbol.STATIC)
                }
            }, {
                key: "setBlurState",
                value: function setBlurState() {
                    var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 100;
                    if (this.state === GameSymbol.BLUR) return;
                    this.state = GameSymbol.BLUR;
                    this.view.setBlurState(time)
                }
            }, {
                key: "setShortState",
                value: function setShortState() {
                    if (this.state === GameSymbol.SHORT) return;
                    this.createState(GameSymbol.STATIC);
                    this.state = GameSymbol.SHORT;
                    return this.view.setShortState()
                }
            }, {
                key: "setLandState",
                value: function setLandState() {
                    if (this.state === GameSymbol.LAND) return;
                    this.createState(GameSymbol.STATIC);
                    this.state = GameSymbol.LAND;
                    this.view.setLandState()
                }
            }, {
                key: "setAnticipationState",
                value: function setAnticipationState() {
                    if (this.state === GameSymbol.ANTICIPATION_IDLE) return;
                    this.createState(GameSymbol.ANTICIPATION_IDLE);
                    this.view.setAnticipationState()
                }
            }, {
                key: "setAnticipationEndState",
                value: function setAnticipationEndState() {
                    this.createState(GameSymbol.STATIC);
                    this.view.setAnticipationEndState()
                }
            }, {
                key: "setTriggerState",
                value: function setTriggerState() {
                    if (this.state === GameSymbol.TRIGGER) return;
                    this.createState(GameSymbol.TRIGGER);
                    this.view.setTriggerState()
                }
            }, {
                key: "setOversizeState",
                value: function setOversizeState() {
                    var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
                    if (this.state === GameSymbol.OVERSIZE) return;
                    this.createState(GameSymbol.OVERSIZE);
                    this.view.setOversizeState(time)
                }
            }, {
                key: "setDefaultScale",
                value: function setDefaultScale() {
                    var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function() {};
                    this.view.setDefaultScale(callback)
                }
            }, {
                key: "setBonusSymbolValue",
                value: function setBonusSymbolValue(value) {
                    this.currentBonusSymbolValue = value
                }
            }, {
                key: "setBonusSymbolViewValueAlpha",
                value: function setBonusSymbolViewValueAlpha() {
                    var alpha = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;
                    this.view.setBonusSymbolViewValueAlpha(alpha)
                }
            }, {
                key: "setBonusSymbolViewValue",
                value: function setBonusSymbolViewValue(value) {
                    this.view.setBonusSymbolViewValue(value)
                }
            }, {
                key: "setImageValue",
                value: function setImageValue(value) {
                    this.view.setImageValue(value)
                }
            }, {
                key: "swap",
                value: function swap(symbol) {
                    this.setId(symbol.id);
                    this.createState(symbol.state);
                    this.setBonusSymbolValue(symbol.currentBonusSymbolValue);
                    if (this.id !== GameSymbol.EMPTY_ID) {
                        this.view.setBonusSymbolViewValue(symbol.currentBonusSymbolValue)
                    }
                }
            }, {
                key: "desaturateState",
                value: function desaturateState() {
                    this.view.desaturateState()
                }
            }, {
                key: "setBonusCollectedState",
                value: function setBonusCollectedState() {
                    this.createState(this.state);
                    this.view.setBonusCollectedState()
                }
            }, {
                key: "setDeBlurState",
                value: function setDeBlurState() {
                    var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 300;
                    if (this.state !== GameSymbol.BLUR) return;
                    this.state = GameSymbol.STATIC;
                    this.view.setDeBlurState(time)
                }
            }, {
                key: "setState",
                value: function setState(state) {
                    this.createState(state);
                    this.view.setState(state)
                }
            }, {
                key: "setMaxScale",
                value: function setMaxScale() {
                    this.view.setMaxScale()
                }
            }, {
                key: "_isSpineLoaded",
                value: function _isSpineLoaded(id) {
                    var name = _GSSpineNames.default.getSpineName(id);
                    if (name) {
                        return _AssetsHelper.default.isSpineLoaded(name)
                    }
                    return true
                }
            }, {
                key: "_onComplete",
                value: function _onComplete() {
                    this.view._onComplete()
                }
            }], [{
                key: "register",
                value: function register(pId, pSymbol) {
                    this.registeredSymbols[pId] = pSymbol
                }
            }, {
                key: "create",
                value: function create(pId) {
                    return new(this.registeredSymbols[pId] || GameSymbol)(pId)
                }
            }, {
                key: "getSprite",
                value: function getSprite(symbolId) {
                    var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
                    state = state || GameSymbol.STATIC;
                    return PIXI.Sprite.fromFrame(GameSymbol.getSpriteName(symbolId, state))
                }
            }, {
                key: "getSpriteName",
                value: function getSpriteName(symbolId) {
                    var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
                    state = state || GameSymbol.STATIC;
                    return "".concat(GameSymbol.mapping[symbolId], "_").concat(state)
                }
            }, {
                key: "getImage",
                value: function getImage(symbolId) {
                    return _app.default.renderer.extract.image(this.getSprite(symbolId))
                }
            }, {
                key: "generateMapping",
                value: function generateMapping() {
                    var data = _app.default.model.getSymbols();
                    data.forEach(function(s) {
                        GameSymbol.mapping[s.id] = s.name
                    })
                }
            }, {
                key: "setSpecialSymbolsConst",
                value: function setSpecialSymbolsConst() {
                    if (!GameSymbol.WILD_ID) {
                        var wild = _app.default.model.getWildSymbolsId();
                        if (wild.length > 1) {
                            console.warn("Module have ".concat(wild.length, " wild symbols id, override WILD_ID const in client GameSymbol.\n            Using first id by default"))
                        }
                        GameSymbol.WILD_ID = wild[0]
                    }
                    if (!GameSymbol.SCATTER_ID) {
                        var scatter = _app.default.model.getScatterSymbolsId();
                        if (scatter.length > 1) {
                            console.warn("Module have ".concat(scatter.length, " scatter symbols id, override SCATTER_ID const in client GameSymbol.\n            Using first id by default"))
                        }
                        GameSymbol.SCATTER_ID = scatter[0]
                    }
                    if (!GameSymbol.BONUS_ID) {
                        var bonusArr = [];
                        var data = _app.default.model.getSymbols();
                        data.forEach(function(s) {
                            if (s.name.includes(GameSymbol.BONUS_NAME)) {
                                bonusArr.push(s.id)
                            }
                        });
                        GameSymbol.BONUS_ID_ARRAY = bonusArr;
                        if (bonusArr.length > 1) {
                            console.warn("Module have ".concat(bonusArr.length, " bonus symbols id, override BONUS_ID const in client GameSymbol.\n            Using first id by default"))
                        }
                        GameSymbol.BONUS_ID = bonusArr[0]
                    }
                }
            }]);
            return GameSymbol
        }(PIXI.Container);
        exports.GameSymbol = exports.default = GameSymbol;
        GameSymbol.STATIC = "static";
        GameSymbol.SHORT = "short";
        GameSymbol.MOVE = "move";
        GameSymbol.BLUR = "blur";
        GameSymbol.LAND = "land";
        GameSymbol.TRIGGER = "trigger";
        GameSymbol.ANTICIPATION_IDLE = "anticipation_idle";
        GameSymbol.OVERSIZE = "oversize";
        GameSymbol.EMPTY_ID = "empty";
        GameSymbol.WILD_ID = null;
        GameSymbol.SCATTER_ID = null;
        GameSymbol.BONUS_ID = null;
        GameSymbol.BONUS_ID_ARRAY = [];
        GameSymbol.BONUS_NAME = "el_bonus";
        Object.defineProperty(GameSymbol, "ANTICIPATION", {
            configurable: true,
            get: function get() {
                return this.MOVE
            },
            set: function set(v) {
                delete this.ANTICIPATION;
                this.ANTICIPATION = v
            }
        });
        GameSymbol.mapping = {};
        GameSymbol.registeredSymbols = {};
        GameSymbol.EventAnimationComplete = "GameSymbol.EventAnimationComplete"
    }, {
        "../app": 33,
        "../helpers/AssetsHelper": 86,
        "./../core/Enums": 73,
        "./symbolView/GSBonusView": 53,
        "./symbolView/GSEmptyView": 54,
        "./symbolView/GSOversizeBonusView": 55,
        "./symbolView/GSOversizeStaticView": 56,
        "./symbolView/GSSpineNames": 57,
        "./symbolView/GSSpineView": 58,
        "./symbolView/GSSpriteView": 59,
        "./symbolView/GSView": 60,
        "./symbolView/GSViewConfig": 61
    }],
    40: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.templates = exports.default = exports.Paytable = exports.MobilePaytable = exports.DesktopPaytable = void 0;
        var _app = _interopRequireDefault(require("../app"));
        var _mustache = _interopRequireDefault(require("mustache"));
        var _gdk = require("../../gdk");
        var _i18n = _interopRequireDefault(require("../helpers/i18n"));
        var _GameSymbol = _interopRequireDefault(require("../components/GameSymbol"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }
        var Paytable = function() {
            function Paytable() {
                var _this = this;
                _classCallCheck(this, Paytable);
                _app.default.model.follow("settings.version", function(v) {
                    var p = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
                    return p !== null && _this.init()
                });
                _app.default.model.follow("game.math_version", function(v) {
                    var p = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
                    return p !== null && _this.init()
                })
            }
            _createClass(Paytable, [{
                key: "init",
                value: function init(root) {
                    throw new TypeError
                }
            }, {
                key: "getPages",
                value: function getPages() {
                    return []
                }
            }, {
                key: "getPays",
                value: function getPays() {
                    return _i18n.default.html("PAYTABLE_PAYS")
                }
            }, {
                key: "show",
                value: function show() {
                    throw new TypeError
                }
            }, {
                key: "hide",
                value: function hide() {
                    throw new TypeError
                }
            }, {
                key: "toggle",
                value: function toggle() {
                    throw new TypeError
                }
            }, {
                key: "isEmpty",
                value: function isEmpty() {
                    throw new TypeError
                }
            }], [{
                key: "getSymbolPaysText",
                value: function getSymbolPaysText(id) {
                    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
                        _ref$betPerLine = _ref.betPerLine,
                        betPerLine = _ref$betPerLine === void 0 ? null : _ref$betPerLine,
                        _ref$bet = _ref.bet,
                        bet = _ref$bet === void 0 ? null : _ref$bet,
                        _ref$noFSText = _ref.noFSText,
                        noFSText = _ref$noFSText === void 0 ? false : _ref$noFSText,
                        _ref$withoutCoins = _ref.withoutCoins,
                        withoutCoins = _ref$withoutCoins === void 0 ? false : _ref$withoutCoins;
                    var paytable = _app.default.model.get("settings.paytable.".concat(id), []).sort(function(a, b) {
                        return b.occurrences - a.occurrences
                    });
                    withoutCoins = withoutCoins || this.calculateMinimalWin(betPerLine, bet);
                    return paytable.map(function(info) {
                        var tb = false;
                        var fs = false;
                        var pays = [];
                        if (info.multiplier > 0) {
                            if (info.type === "tb") {
                                if (bet == null) {
                                    pays.push("".concat(info.multiplier, "").concat(_i18n.default.get("PAYTABLE_TB")));
                                    tb = true
                                } else {
                                    pays.push(_i18n.default.coins(info.multiplier * bet, true, withoutCoins))
                                }
                            } else {
                                if (betPerLine == null) {
                                    pays.push(info.multiplier)
                                } else {
                                    pays.push(_i18n.default.coins(info.multiplier * betPerLine, true, withoutCoins))
                                }
                            }
                        }
                        if (!noFSText && info.trigger === "freespins" && info.freespins > 0) {
                            pays.push("".concat(info.freespins, "").concat(_i18n.default.get("PAYTABLE_FS")));
                            fs = true
                        }
                        return {
                            occurrences: "".concat(info.occurrences, ""),
                            pays: pays.join(", "),
                            tb: tb,
                            fs: fs
                        }
                    }).filter(function(info) {
                        return info.pays
                    })
                }
            }, {
                key: "calculateMinimalWin",
                value: function calculateMinimalWin() {
                    var betPerLine = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
                    var bet = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
                    var symbols = _app.default.model.get("settings.symbols", []);
                    var symbolsPays = [];
                    symbols.forEach(function(s) {
                        var paytable = _app.default.model.get("settings.paytable.".concat(s.id), []).sort(function(a, b) {
                            return b.occurrences - a.occurrences
                        });
                        var pays = [];
                        paytable.forEach(function(info) {
                            if (info.multiplier > 0) {
                                if (info.type === "tb") {
                                    if (bet !== null) {
                                        pays.push(info.multiplier * bet)
                                    }
                                } else {
                                    if (betPerLine !== null) {
                                        pays.push(info.multiplier * betPerLine)
                                    }
                                }
                            }
                        });
                        symbolsPays.push(Math.min.apply(Math, pays))
                    });
                    return symbolsPays.every(function(sp) {
                        return sp === Infinity ? true : sp % 100 === 0 && sp > 1e3
                    })
                }
            }, {
                key: "create",
                value: function create(root) {
                    var pt = _app.default.model.isMobile() ? new MobilePaytable : new DesktopPaytable;
                    pt.init(root);
                    return pt
                }
            }, {
                key: "generatePayline",
                value: function generatePayline(cols, rows, payline) {
                    var html = "<table>";
                    for (var r = 0; r < rows; ++r) {
                        html += "<tr>";
                        for (var c = 0; c < cols; ++c) {
                            var active = payline[c] === r;
                            html += '<td class="payline '.concat(active ? "active" : "", '"></td>')
                        }
                        html += "</tr>"
                    }
                    html += "</table>";
                    return html
                }
            }, {
                key: "generatePaylines",
                value: function generatePaylines(cols, rows, paylines) {
                    var _this2 = this;
                    var deltaIndex = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;
                    return paylines.map(function(payline, i) {
                        return {
                            index: i + 1 + deltaIndex,
                            content: _this2.generatePayline(cols, rows, payline)
                        }
                    })
                }
            }, {
                key: "createSymbolImage",
                value: function createSymbolImage(id) {
                    return this.imageCache[id] = this.imageCache[id] || _app.default.renderer.extract.base64(_GameSymbol.default.getSprite(id))
                }
            }, {
                key: "createSymbol",
                value: function createSymbol(id, options) {
                    var _this3 = this;
                    var icons = [],
                        additionalImageClass = "",
                        additionalText = "";
                    if (Array.isArray(id)) {
                        icons = id.map(function(id) {
                            return _this3.createSymbolImage(id)
                        });
                        additionalImageClass = "multiple-icons";
                        additionalText = _i18n.default.get("PAYTABLE_AOK");
                        id = id[0]
                    } else {
                        icons = this.createSymbolImage(id)
                    }
                    var title = _i18n.default.has("PT_SYM_".concat(id, "_TITLE")) ? _i18n.default.html("PT_SYM_".concat(id, "_TITLE")) : null;
                    var text = _i18n.default.has("PT_SYM_".concat(id)) ? _i18n.default.html("PT_SYM_".concat(id)) : null;
                    var pays = Paytable.getSymbolPaysText(id, options);
                    return {
                        icons: icons,
                        title: title,
                        text: text,
                        pays: pays,
                        additionalClass: additionalImageClass,
                        additionalText: additionalText
                    }
                }
            }, {
                key: "createSymbols",
                value: function createSymbols(symbols, options) {
                    var _this4 = this;
                    return symbols.map(function(id) {
                        return _this4.createSymbol(id, options)
                    }).filter(function(i) {
                        return i !== null
                    })
                }
            }, {
                key: "createSymbolsPage",
                value: function createSymbolsPage(symbols, symbolsClass, symbolClass, options) {
                    var sym = this.createSymbols(symbols, options);
                    var textTbFs = [];
                    if (sym.some(function(_ref2) {
                            var pays = _ref2.pays;
                            return pays.some(function(_ref3) {
                                var tb = _ref3.tb;
                                return tb
                            })
                        })) {
                        textTbFs.push(_i18n.default.get("PAYTABLE_TB_DESCRIPTION"))
                    }
                    if (sym.some(function(_ref4) {
                            var pays = _ref4.pays;
                            return pays.some(function(_ref5) {
                                var fs = _ref5.fs;
                                return fs
                            })
                        })) {
                        textTbFs.push(_i18n.default.get("PAYTABLE_FS_DESCRIPTION"))
                    }
                    return _mustache.default.render(templates.page.symbols, {
                        symbols: sym,
                        symbolsClass: symbolsClass,
                        symbolClass: symbolClass,
                        textTbFs: textTbFs.join(". ")
                    })
                }
            }, {
                key: "toHTML",
                value: function toHTML(string) {
                    var root = document.createElement("div");
                    root.innerHTML = string.trim();
                    return root.firstElementChild
                }
            }]);
            return Paytable
        }();
        exports.Paytable = Paytable;
        Paytable.imageCache = {};
        var _default = Paytable;
        exports.default = _default;
        var templates = {};
        exports.templates = templates;
        templates.block = {};
        templates.block.pages = '\n{{#pages}}\n    <div class="paytable-page {{class}}">\n        <div class="paytable-title">{{{title}}}</div>\n        <div class="paytable-page-content-wrapper">\n            <div class="paytable-page-content">\n                {{{content}}}\n                {{^content}}\n                    {{{.}}}\n                {{/content}}\n            </div>\n        </div>\n    </div>\n{{/pages}}';
        templates.block.pays = '<div class="paytable-pays">{{{pays}}}</div>';
        templates.paytable = {};
        templates.paytable.desktop = '\n<div class="paytable-wrapper">\n    <div class="paytable-content">\n        '.concat(templates.block.pages, '\n        <div class="paytable-footer">\n            <div class="paytable-controls">\n                <div>\n                    {{#pages}}\n                        <div class="paytable-button page"></div>\n                    {{/pages}}\n                </div>\n                <div>\n                    <div class="paytable-button left"></div>\n                    <div class="paytable-button back"></div>\n                    <div class="paytable-button right"></div>\n                </div>\n            </div>\n            ').concat(templates.block.pays, "\n        </div>\n    </div>\n</div>");
        templates.paytable.mobile = '\n<div class="paytable-wrapper">\n    <div class="paytable-content">\n        '.concat(templates.block.pages, "\n        ").concat(templates.block.pays, "\n    </div>\n</div>");
        templates.page = {};
        templates.page.symbols = '\n<div class="paytable-symbols {{symbolsClass}}">\n    {{#symbols}}\n        <div class="paytable-symbol {{symbolClass}} {{additionalClass}}">\n            <div class="paytable-symbol-title">{{{title}}}</div>\n            <div class="paytable-symbol-inner-wrapper {{symbolClass}}">\n                <div class="paytable-symbol-icon">\n                    {{#icons}}\n                        <img src="{{.}}" />\n                    {{/icons}}\n                </div>\n                {{#pays.length}}\n                    <div class="paytable-symbol-pays">\n                        {{#additionalText}}\n                            <span class="of-a-kind">{{.}}</span>\n                        {{/additionalText}} \n                        <table>\n                        {{#pays}}\n                            <tr>\n                                <td class="occurrences">{{occurrences}}</td>\n                                <td class="pays">{{pays}}</td>\n                            </tr>\n                        {{/pays}}\n                        </table>\n                    </div>\n                {{/pays.length}}\n            </div>\n            {{#text}}\n                <div class="paytable-symbol-text">{{{text}}}</div>\n            {{/text}}\n        </div>\n    {{/symbols}}\n</div>\n<div class="paytable-tb-fs">{{{textTbFs}}}</div>';
        templates.page.paylines = '\n<div class="paytable-paylines">\n    {{#paylines}}\n        <div class="payline"><div class="lineNumber">{{index}}</div>{{{content}}}</div>\n    {{/paylines}}\n</div>';
        templates.page.features = '\n<div class="paytable-page-features">\n    <div class="title">{{{title}}}</div>\n    <div class="description">\n        {{{content}}}\n        {{^content}}\n            {{{.}}}\n        {{/content}}\n    </div>\n</div>';
        var MobilePaytable = function(_Paytable) {
            _inherits(MobilePaytable, _Paytable);
            var _super = _createSuper(MobilePaytable);

            function MobilePaytable() {
                var _this5;
                _classCallCheck(this, MobilePaytable);
                _this5 = _super.call(this);
                _this5.el = null;
                _this5.root = null;
                return _this5
            }
            _createClass(MobilePaytable, [{
                key: "init",
                value: function init(root) {
                    this.root = root || this.root;
                    if (this.el && this.el.parentNode) {
                        this.el.parentNode.removeChild(this.el);
                        this.el = null
                    }
                    var pages = this.getPages();
                    var pays = this.getPays();
                    if (pages && !Array.isArray(pages)) {
                        console.warn("Paytable.getPages must return array. Use Paytable.getPays for pays");
                        pays = pages.pays;
                        pages = pages.pages
                    }
                    if (pages) {
                        for (var i = pages.length - 1; i > 0; --i) {
                            if (pages[i].title === pages[i - 1].title) {
                                pages[i].title = ""
                            }
                        }
                    }
                    this.el = Paytable.toHTML(_mustache.default.render(templates.paytable.mobile, {
                        pages: pages,
                        pays: pays
                    }));
                    this.root.appendChild(this.el)
                }
            }]);
            return MobilePaytable
        }(Paytable);
        exports.MobilePaytable = MobilePaytable;
        var DesktopPaytable = function(_Paytable2) {
            _inherits(DesktopPaytable, _Paytable2);
            var _super2 = _createSuper(DesktopPaytable);

            function DesktopPaytable() {
                var _this6;
                _classCallCheck(this, DesktopPaytable);
                _this6 = _super2.call(this);
                _this6.empty = true;
                _this6.pagesConfig = null;
                _this6.root = null;
                _this6.el = null;
                return _this6
            }
            _createClass(DesktopPaytable, [{
                key: "init",
                value: function init(root) {
                    var _this7 = this;
                    this.root = root || this.root;
                    if (this.el && this.el.parentNode) {
                        this.el.parentNode.removeChild(this.el);
                        this.el = null
                    }
                    var pages = this.pagesConfig = this.getPages();
                    var pays = this.getPays();
                    if (pages && !Array.isArray(pages)) {
                        console.warn("Paytable.getPages must return array. Use Paytable.getPays for pays");
                        pays = pages.pays;
                        pages = this.pagesConfig = pages.pages
                    }
                    if (!pages || !pages.length) return;
                    this.empty = false;
                    var el = this.el = Paytable.toHTML(_mustache.default.render(templates.paytable.desktop, {
                        pages: pages,
                        pays: pays
                    }));
                    this.pages = Array.prototype.slice.call(el.querySelectorAll(".paytable-page"));
                    this.buttonPages = Array.prototype.slice.call(el.querySelectorAll(".paytable-controls .paytable-button.page"));
                    var buttonLeft = el.querySelector(".paytable-controls .paytable-button.left");
                    var buttonBack = el.querySelector(".paytable-controls .paytable-button.back");
                    var buttonRight = el.querySelector(".paytable-controls .paytable-button.right");
                    this.buttonPages.forEach(function(button, idx) {
                        button.addEventListener("click", function() {
                            return _this7.setPage(idx)
                        })
                    });
                    buttonLeft.addEventListener("click", function() {
                        return _this7.setPage(_this7.currentPage - 1)
                    });
                    buttonRight.addEventListener("click", function() {
                        return _this7.setPage(_this7.currentPage + 1)
                    });
                    buttonBack.addEventListener("click", function() {
                        return _this7.hide()
                    });
                    this.root.appendChild(el);
                    this.setPage(0);
                    this.hide()
                }
            }, {
                key: "_changeWatchPage",
                value: function _changeWatchPage() {
                    try {
                        var pageName = this.pagesConfig[this.currentPage] && this.pagesConfig[this.currentPage].title.toLowerCase();
                        _gdk.analytics.timingStart("paytable_watch", "".concat(this.currentPage + 1, ",").concat(pageName))
                    } catch (e) {}
                }
            }, {
                key: "setPage",
                value: function setPage(idx) {
                    var _this8 = this;
                    this.currentPage = (idx + this.pages.length) % this.pages.length;
                    this.buttonPages.forEach(function(button, idx) {
                        button.classList[_this8.currentPage === idx ? "add" : "remove"]("active")
                    });
                    this.pages.forEach(function(page, idx) {
                        page.classList[_this8.currentPage === idx ? "add" : "remove"]("active")
                    });
                    if (this.el.classList.contains("active")) this._changeWatchPage()
                }
            }, {
                key: "show",
                value: function show() {
                    if (!this.isEmpty()) {
                        this.el.classList.add("active");
                        this._changeWatchPage()
                    }
                }
            }, {
                key: "hide",
                value: function hide() {
                    if (!this.isEmpty()) {
                        this.el.classList.remove("active");
                        _gdk.analytics.timingEnd("paytable_watch")
                    }
                }
            }, {
                key: "toggle",
                value: function toggle() {
                    if (!this.isEmpty()) {
                        this.el.classList.contains("active") ? this.hide() : this.show()
                    }
                }
            }, {
                key: "isEmpty",
                value: function isEmpty() {
                    return this.empty
                }
            }]);
            return DesktopPaytable
        }(Paytable);
        exports.DesktopPaytable = DesktopPaytable
    }, {
        "../../gdk": 102,
        "../app": 33,
        "../components/GameSymbol": 39,
        "../helpers/i18n": 89,
        mustache: 20
    }],
    41: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;
        var _app = _interopRequireDefault(require("core/app"));
        var _helpers = require("core/helpers");
        var _Enums = require("core/core/Enums");
        var _BitmapCoinsText = _interopRequireDefault(require("core/components/BitmapCoinsText"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var LabelWinContainer = function(_PIXI$Container) {
            _inherits(LabelWinContainer, _PIXI$Container);
            var _super = _createSuper(LabelWinContainer);

            function LabelWinContainer() {
                var _this;
                _classCallCheck(this, LabelWinContainer);
                _this = _super.call(this);
                _this.initialized = false;
                return _this
            }
            _createClass(LabelWinContainer, [{
                key: "init",
                value: function init() {
                    var fontSize = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 104;
                    var bitmapFontName = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "bitmapfont";
                    this.label = this.addChild(new _BitmapCoinsText.default(0, {
                        font: "".concat(fontSize, "px ").concat(bitmapFontName)
                    }));
                    this.scaleChecker = new _BitmapCoinsText.default(0, {
                        font: "".concat(fontSize, "px ").concat(bitmapFontName)
                    });
                    this.label.anchor.set(.5, .5);
                    this.isEmit = false;
                    this.hideInProgress = false;
                    this.initialized = true
                }
            }, {
                key: "show",
                value: function show(roundWin) {
                    var _this2 = this;
                    if (!this.initialized) return Promise.resolve();
                    var label = this.label;
                    createjs.Tween.removeTweens(label);
                    this.isSmallWin = roundWin <= _app.default.model.roundBet() * _app.default.config.get("Board.winCounterMinTB");
                    var time = this.isSmallWin ? 1 : 1011;
                    var startValue = this.isSmallWin ? roundWin : 0;
                    label.coins = startValue;
                    this.forceStop = false;
                    this.hideInProgress = false;
                    if (this.isSmallWin) {
                        if (_app.default.model.canAction("spin")) GR.UI.model.set("last_win", startValue);
                        GR.UI.model.set("total_win", _app.default.model.current("total_win", 0) - _app.default.model.current("round_win", 0) + startValue);
                        GR.UI.model.set("balance", _app.default.model.get("user.balance") - _app.default.model.current("round_win", 0) + startValue);
                        GR.UI.model.set("freebet.total_win", _app.default.model.get("freebet.total_win", 0) - _app.default.model.current("round_win", 0) + startValue)
                    }
                    label.text = _helpers.i18n.coins(startValue);
                    label.alpha = 0;
                    label.scale.set(this._calculateScale(roundWin));
                    var alphaTime = roundWin > 0 && !this.isSmallWin ? 300 : 200;
                    return roundWin > 0 && !this.isSmallWin ? label.tween().call(function() {
                        return _this2.addCoins(roundWin, time)
                    }).to({
                        alpha: 1
                    }, alphaTime).wait(time).promise() : label.tween().call(function() {
                        return _app.default.emit(_Enums.GameEvent.WinOneTB)
                    }).to({
                        alpha: 1
                    }, alphaTime).promise(function() {
                        _this2.isEmit = true
                    })
                }
            }, {
                key: "addCoins",
                value: function addCoins(value) {
                    var _this3 = this;
                    var time = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 400;
                    var label = this.label;
                    var deferred = _helpers.utils.deferred();
                    label.tween().call(function() {
                        return _app.default.emit(_Enums.GameEvent.WinCountStart)
                    }).to({
                        coins: label.coins + value
                    }, time).setFPS(16).call(function() {
                        _app.default.emit(_Enums.GameEvent.WinCountEnd);
                        _this3.isEmit = true;
                        deferred.resolve()
                    }).on("change", function() {
                        if (_app.default.model.canAction("spin")) GR.UI.model.set("last_win", _this3.label.coins);
                        GR.UI.model.set("total_win", _app.default.model.current("total_win", 0) - _app.default.model.current("round_win", 0) + _this3.label.coins);
                        GR.UI.model.set("balance", _app.default.model.get("user.balance") - _app.default.model.current("round_win", 0) + _this3.label.coins);
                        GR.UI.model.set("freebet.total_win", _app.default.model.get("freebet.total_win", 0) - _app.default.model.current("round_win", 0) + _this3.label.coins);
                        _this3.label.text = _helpers.i18n.coins(_this3.label.coins)
                    });
                    return deferred.promise
                }
            }, {
                key: "hideFromView",
                value: function hideFromView() {
                    this.label.alpha = 0
                }
            }, {
                key: "hide",
                value: function hide() {
                    var _this4 = this;
                    var force = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
                    var oneTimeHide = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
                    if (!this.initialized || this.hideInProgress) return Promise.resolve();
                    var label = this.label;
                    createjs.Tween.removeTweens(label);
                    label.alpha = 1;
                    if (force) {
                        this.forceStop = true;
                        var deferred = _helpers.utils.deferred();
                        label.text = _helpers.i18n.coins(_app.default.model.roundWin());
                        if (_app.default.model.canAction("spin")) GR.UI.model.set("last_win", _app.default.model.roundWin());
                        GR.UI.model.set("total_win", _app.default.model.current("total_win", 0));
                        GR.UI.model.set("balance", _app.default.model.get("user.balance"));
                        GR.UI.model.set("freebet.total_win", _app.default.model.get("freebet.total_win", 0));
                        if (!this.isEmit && !this.isSmallWin && !oneTimeHide) _app.default.emit(_Enums.GameEvent.WinCountEnd);
                        this.isEmit = false;
                        _helpers.utils.wait(oneTimeHide ? 300 : 1e3).then(function() {
                            if (_this4.forceStop) {
                                label.alpha = 0
                            }
                            _this4.emit(_Enums.GameEvent.HideCounter);
                            deferred.resolve()
                        });
                        return deferred.promise
                    } else {
                        return label.tween().wait(this.isSmallWin ? 1 : 1e3).call(function() {
                            _this4.emit(_Enums.GameEvent.HideCounter);
                            _this4.hideInProgress = true
                        }).to({
                            scaleX: 0,
                            scaleY: 0
                        }, 300).to({
                            alpha: 0
                        }).promise(function() {
                            _this4.isEmit = false;
                            _this4.hideInProgress = false
                        })
                    }
                }
            }, {
                key: "_calculateScale",
                value: function _calculateScale(win) {
                    var scale = 1;
                    if (!_app.default.config.get("Board.scaleCounter")) return scale;
                    var boardWidth = _app.default.config.get("Screen.available") ? _app.default.config.get("Screen.boardWidth") : _app.default.board.reels.width;
                    this.scaleChecker.coins = win;
                    if (this.scaleChecker.width > boardWidth) scale = boardWidth / this.scaleChecker.width;
                    return scale
                }
            }]);
            return LabelWinContainer
        }(PIXI.Container);
        exports.default = LabelWinContainer;
        LabelWinContainer.WIN_TIME = 3e3
    }, {
        "core/app": 33,
        "core/components/BitmapCoinsText": 36,
        "core/core/Enums": 73,
        "core/helpers": 90
    }],
    42: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;
        var _GameSymbol = _interopRequireDefault(require("./GameSymbol"));
        var _helpers = require("../helpers");
        var _app = require("../app");
        var _AnimationSequence = _interopRequireDefault(require("../helpers/AnimationSequence"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _toConsumableArray(arr) {
            return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread()
        }

        function _nonIterableSpread() {
            throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }

        function _unsupportedIterableToArray(o, minLen) {
            if (!o) return;
            if (typeof o === "string") return _arrayLikeToArray(o, minLen);
            var n = Object.prototype.toString.call(o).slice(8, -1);
            if (n === "Object" && o.constructor) n = o.constructor.name;
            if (n === "Map" || n === "Set") return Array.from(o);
            if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen)
        }

        function _iterableToArray(iter) {
            if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter)
        }

        function _arrayWithoutHoles(arr) {
            if (Array.isArray(arr)) return _arrayLikeToArray(arr)
        }

        function _arrayLikeToArray(arr, len) {
            if (len == null || len > arr.length) len = arr.length;
            for (var i = 0, arr2 = new Array(len); i < len; i++) {
                arr2[i] = arr[i]
            }
            return arr2
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }

        function _defineProperty(obj, key, value) {
            if (key in obj) {
                Object.defineProperty(obj, key, {
                    value: value,
                    enumerable: true,
                    configurable: true,
                    writable: true
                })
            } else {
                obj[key] = value
            }
            return obj
        }
        var Reel = function(_PIXI$Container) {
            _inherits(Reel, _PIXI$Container);
            var _super = _createSuper(Reel);

            function Reel(id, options) {
                var _this;
                _classCallCheck(this, Reel);
                _this = _super.call(this);
                _this.init(id, options);
                return _this
            }
            _createClass(Reel, [{
                key: "init",
                value: function init(id, options) {
                    options = options || {};
                    options.rows = options.rows || _app.app.config.get("App.rows");
                    options.skipTopRows = options.skipTopRows || 0;
                    options.skipBottomRows = options.skipBottomRows || 0;
                    this.id = id;
                    this.state = Reel.STATE.NORMAL;
                    this.reelMaskContainer = this.addChild(new PIXI.Container);
                    this.reelMaskContainer.renderable = false;
                    this.reelMask = null;
                    this.additionalSymbols = [];
                    this.reel = this.addChild(new PIXI.Container);
                    this.rows = options.rows;
                    this.reelStackData = this.clearStackData();
                    this.skipTopRows = options.skipTopRows;
                    this.skipBottomRows = options.skipBottomRows;
                    this.symbols = [];
                    for (var i = -1; i <= this.rows; ++i) {
                        var symbol = this.createSymbol(i);
                        this.reel.addChild(symbol);
                        this.symbols.push(symbol)
                    }
                    this.initMaskHandlers();
                    this.cacheStopTime = {};
                    this.maxAdjacencyDistance = this.calculateMaxAdjacencyDistance();
                    this.sortByZIndex();
                    this.emit(Reel.EVENT.INIT)
                }
            }, {
                key: "calculateMaxAdjacencyDistance",
                value: function calculateMaxAdjacencyDistance() {
                    var maxAdjacencyDistance = 0;
                    if (!_app.app.config.get("AdvancedReels.useAdjacencyMatrix") || !_app.app.config.get("AdvancedReels.useAdvancedReels")) return maxAdjacencyDistance;
                    for (var key in _GameSymbol.default.mapping) {
                        var symbolMatrix = _app.app.config.get("AdvancedReels.adjacencyMatrix.".concat(key));
                        if (symbolMatrix) {
                            maxAdjacencyDistance = Math.max.apply(Math, _toConsumableArray(symbolMatrix).concat([maxAdjacencyDistance]))
                        }
                    }
                    return maxAdjacencyDistance
                }
            }, {
                key: "sortByZIndex",
                value: function sortByZIndex() {
                    if (!_app.app.config.get("AdvancedReels.useCustomZIndex")) return;
                    var sort = function sort(a, b) {
                        a.zIndex = a.zIndex || 0;
                        b.zIndex = b.zIndex || 0;
                        return a.zIndex - b.zIndex
                    };
                    this.reel.children.sort(sort)
                }
            }, {
                key: "reset",
                value: function reset() {
                    createjs.Tween.removeTweens(this);
                    createjs.Tween.removeTweens(this.reel);
                    this.reel.y = 0;
                    this.state = null;
                    this.quickSpin = false;
                    this.timeLeftForStop = null;
                    this.timeLeftTween = null;
                    this.emit(Reel.EVENT.RESET)
                }
            }, {
                key: "calculateStopDuration",
                value: function calculateStopDuration(quick, state) {
                    var tween = createjs.Tween.get({});
                    var oldState = this.state;
                    this.state = state;
                    this._stop({
                        tween: tween,
                        needAdvance: false
                    });
                    this.state = oldState;
                    var duration = tween.duration;
                    tween.paused = true;
                    return duration
                }
            }, {
                key: "getMeasuredStopDuration",
                value: function getMeasuredStopDuration(quick, state) {
                    var key = "".concat(state, "_").concat(!!quick);
                    if (this.cacheStopTime[key]) {
                        return this.cacheStopTime[key]
                    }
                    this.cacheStopTime[key] = this.calculateStopDuration(quick, state);
                    this.reelStackData = this.generateStackData(this.symbols.map(function(s) {
                        return s.id
                    }));
                    return this.cacheStopTime[key]
                }
            }, {
                key: "spin",
                value: function spin() {
                    var _this2 = this;
                    this.timeLeftForStop = null;
                    this.timeLeftTween = null;
                    if (this.state === Reel.STATE.HOLD) return Promise.resolve();
                    var defer = _helpers.utils.deferred();
                    this.once(Reel.EVENT.PUSH_FIRST, function() {
                        return defer.resolve()
                    });
                    this.reelStackData = this.generateStackData();
                    this.quickSpin = _app.app.model.isQuickSpin();
                    var sequence = this.sequence = new _AnimationSequence.default(this.reel.tween(true));
                    sequence.addAnimation("spin", function(_ref) {
                        var tween = _ref.tween;
                        return _this2._spin({
                            tween: tween
                        })
                    });
                    sequence.addAnimation("loop", function(_ref2) {
                        var tween = _ref2.tween;
                        return _this2._loop({
                            tween: tween
                        })
                    });
                    sequence.addAnimation("stop", function(_ref3) {
                        var tween = _ref3.tween;
                        return _this2._stop({
                            tween: tween
                        })
                    });
                    sequence.addTransition("spin", "loop", function() {
                        return _this2.state === Reel.STATE.SPINNING
                    });
                    sequence.addTransition("spin", "stop", function() {
                        return _this2.state !== Reel.STATE.SPINNING
                    });
                    sequence.addTransition("loop", "stop", function() {
                        return _this2.state !== Reel.STATE.SPINNING
                    });
                    sequence.addTransition("loop", "loop", function() {
                        return _this2.state === Reel.STATE.SPINNING
                    });
                    sequence.play("spin");
                    defer.resolve();
                    return defer.promise
                }
            }, {
                key: "stop",
                value: function stop() {
                    var stoppingType = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Reel.STATE.STOPPING;
                    var timeLeftForStop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
                    if (stoppingType === Reel.STATE.SKIPPING) {
                        return this.skip()
                    }
                    if (this.state === Reel.STATE.HOLD || this.state !== Reel.STATE.SPINNING) {
                        return
                    }
                    this.timeLeftForStop = timeLeftForStop;
                    this.timeLeftTween = createjs.Tween.get({}).wait(1e5);
                    this.state = stoppingType
                }
            }, {
                key: "skippable",
                value: function skippable() {
                    return [Reel.STATE.SPINNING, Reel.STATE.SKIPPING, Reel.STATE.STOPPING, Reel.STATE.STOPPING_ANTICIPATION, Reel.STATE.STOPPING_FINAL].includes(this.state)
                }
            }, {
                key: "needToCallStopOnSkip",
                value: function needToCallStopOnSkip() {
                    return this.state !== Reel.STATE.SKIPPING && this.state !== Reel.STATE.STOPPING_FINAL
                }
            }, {
                key: "skip",
                value: function skip() {
                    var _this3 = this;
                    if (!this.skippable()) {
                        return Promise.resolve()
                    }
                    return new Promise(function(res) {
                        _this3.once(Reel.EVENT.STOP, res);
                        if (_this3.needToCallStopOnSkip()) {
                            _this3.state = Reel.STATE.SKIPPING;
                            _this3._stop()
                        }
                    })
                }
            }, {
                key: "_spin",
                value: function _spin(_ref4) {
                    var _this4 = this;
                    var tween = _ref4.tween;
                    var delta = _app.app.config.get("GameSymbol.height") + _app.app.config.get("Reels.gapV");
                    var time = this.quickSpin ? _app.app.config.get("Reel.quickStartTime") : _app.app.config.get("Reel.startTime");
                    var backInAmount = _app.app.config.get("Reel.backInAmount");
                    tween.call(function() {
                        _this4.state = Reel.STATE.SPINNING;
                        _this4.emit(Reel.EVENT.START);
                        _this4.once(Reel.EVENT.PUSH, function() {
                            _this4.emit(Reel.EVENT.PUSH_FIRST)
                        })
                    });
                    var currentTime = tween.duration;
                    var startMinimumTime = currentTime + time * (2 * backInAmount) / (3 * backInAmount + 3);
                    var startAfterBackIn = currentTime + time * (backInAmount / (backInAmount + 1));
                    tween.call(function() {
                        return _this4.emit(Reel.EVENT.START_MINIMUM)
                    });
                    tween._actionTail.t = startMinimumTime;
                    tween.call(function() {
                        return _this4.emit(Reel.EVENT.START_AFTER_BACK_IN)
                    });
                    tween._actionTail.t = startAfterBackIn;
                    tween.to({
                        y: delta
                    }, time, createjs.Ease.getBackIn(backInAmount)).to({
                        y: 0
                    }).call(function() {
                        return _this4.push()
                    })
                }
            }, {
                key: "_loop",
                value: function _loop(_ref5) {
                    var _this5 = this;
                    var tween = _ref5.tween;
                    var delta = _app.app.config.get("GameSymbol.height") + _app.app.config.get("Reels.gapV");
                    var time = this.quickSpin ? _app.app.config.get("Reel.quickCycleTime") : _app.app.config.get("Reel.cycleTime");
                    tween.to({
                        y: delta
                    }, time).to({
                        y: 0
                    }).call(function() {
                        return _this5.push()
                    })
                }
            }, {
                key: "_stop",
                value: function _stop() {
                    var _this6 = this;
                    var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
                        tween = _ref6.tween,
                        _ref6$needAdvance = _ref6.needAdvance,
                        needAdvance = _ref6$needAdvance === void 0 ? true : _ref6$needAdvance;
                    needAdvance = needAdvance && this.timeLeftForStop && tween;
                    tween = tween || this.reel.tween(true);
                    var startTime = tween.duration;
                    var quickSpin = this.quickSpin;
                    var useQuickAnticipation = quickSpin && _app.app.config.get("Reel.useQuickAnticipation");
                    var leaveTime;
                    var cycleTime;
                    var cycleFinalTime;
                    if (this.state === Reel.STATE.SKIPPING && _app.app.config.get("Reel.turboSkip")) {
                        leaveTime = _app.app.config.get("Reel.skipLeaveTime");
                        cycleTime = _app.app.config.get("Reel.skipCycleTime")
                    } else {
                        leaveTime = quickSpin ? _app.app.config.get("Reel.quickLeaveTime") : _app.app.config.get("Reel.leaveTime");
                        cycleTime = quickSpin ? _app.app.config.get("Reel.quickCycleTime") : _app.app.config.get("Reel.cycleTime")
                    }
                    cycleFinalTime = cycleTime;
                    var withAnticipation = false;
                    var additionalBaseTimes = null;
                    var additionalFinalTimes = null;
                    var additionalTimes = null;
                    var backOutAmount = null;
                    if (this.state === Reel.STATE.STOPPING_ANTICIPATION) {
                        if (_app.app.config.get("AdvancedReels.useAdvancedReels") && _app.app.config.get("AdvancedReels.useAdvancedAnticipationMultipliers")) {
                            additionalBaseTimes = useQuickAnticipation ? _app.app.config.get("AdvancedReels.quikAnticipationMultipliers.".concat(this.id, ".additionalTimes")) : _app.app.config.get("AdvancedReels.anticipationMultipliers.".concat(this.id, ".additionalTimes"));
                            backOutAmount = useQuickAnticipation ? _app.app.config.get("AdvancedReels.quikAnticipationMultipliers.".concat(this.id, ".backOutAmount")) : _app.app.config.get("AdvancedReels.anticipationMultipliers.".concat(this.id, ".backOutAmount"))
                        } else {
                            additionalBaseTimes = useQuickAnticipation ? _app.app.config.get("Reel.quickAnticipationTimingMultiplier") : _app.app.config.get("Reel.anticipationTimingMultiplier");
                            backOutAmount = useQuickAnticipation ? _app.app.config.get("Reel.backOutAmountQuickAnticipation") : _app.app.config.get("Reel.backOutAmountAnticipation")
                        }
                        withAnticipation = additionalBaseTimes && additionalBaseTimes.length
                    }
                    tween.call(function() {
                        _this6.emit(Reel.EVENT.BEFORE_START_STOP)
                    });
                    var deltaY = _app.app.config.get("GameSymbol.height") + _app.app.config.get("Reels.gapV");
                    this.additionalSymbols = [];
                    var reelData = this.getFinishReelData();
                    var animatedSymbols = 1;
                    var anticipationArray = [];
                    var anticipationCurrCombo = this.symbols.slice().map(function(s) {
                        return s.id
                    });
                    if (withAnticipation) {
                        var finalBoardCount = _app.app.config.get("App.rows") + 1;
                        additionalFinalTimes = additionalBaseTimes.slice(-finalBoardCount).reverse();
                        additionalTimes = additionalBaseTimes.slice(0, additionalBaseTimes.length - additionalFinalTimes.length);
                        var delta = additionalTimes.length - this.maxAdjacencyDistance;
                        var anticipationArraySteps = delta < 1 ? additionalTimes.length : delta;
                        for (var i = 0; i < anticipationArraySteps; i++) {
                            var newSymbol = this.getNextPossibleSymbol(anticipationCurrCombo);
                            anticipationArray.push(newSymbol);
                            anticipationCurrCombo.pop();
                            anticipationCurrCombo.unshift(newSymbol)
                        }
                        anticipationArray = anticipationArray.concat(this.getPossibleSymbolsArray(anticipationCurrCombo).reverse());
                        for (var _i = 0; _i < additionalTimes.length; _i++) {
                            tween.to({
                                y: deltaY
                            }, cycleTime / additionalTimes[_i]);
                            tween.to({
                                y: 0
                            });
                            tween.call(this.push, [anticipationArray.shift(), _GameSymbol.default.ANTICIPATION, true], this)
                        }
                        var lastMultiplier = additionalTimes[additionalTimes.length - 1];
                        leaveTime = _app.app.config.get("Reel.leaveTimeAnticipation") / lastMultiplier;
                        cycleTime = cycleTime / lastMultiplier
                    }
                    var randomReelData = withAnticipation ? [] : this.getPossibleSymbolsArray();
                    var randomDataCycleTime = this.state === Reel.STATE.SKIPPING ? 1 : cycleTime;
                    if (randomReelData.length > 0) {
                        for (var _i2 = randomReelData.length - 1; _i2 >= 0; --_i2) {
                            tween.to({
                                y: _app.app.config.get("GameSymbol.height") + _app.app.config.get("Reels.gapV")
                            }, randomDataCycleTime);
                            tween.to({
                                y: 0
                            });
                            tween.call(this.push, [randomReelData[_i2], _GameSymbol.default.MOVE], this)
                        }
                    }
                    for (var _i3 = reelData.length - 1; _i3 > 0; --_i3) {
                        var time = cycleTime;
                        if (additionalFinalTimes && additionalFinalTimes.length > 0) {
                            time = cycleFinalTime / additionalFinalTimes[_i3 - 1]
                        }
                        tween.to({
                            y: deltaY
                        }, time);
                        tween.to({
                            y: 0
                        });
                        tween.call(this.push, [reelData[_i3]], this);
                        if (_i3 === animatedSymbols) {
                            tween.call(function() {
                                return _this6.state = Reel.STATE.STOPPING_FINAL
                            })
                        }
                    }
                    if (additionalFinalTimes && additionalFinalTimes.length > 0) {
                        leaveTime = _app.app.config.get("Reel.leaveTimeAnticipation") / additionalFinalTimes[0]
                    }
                    backOutAmount = backOutAmount || _app.app.config.get("Reel.backOutAmount");
                    var currentTime = tween.duration;
                    var stopMaxTime = currentTime + leaveTime * (3 + backOutAmount) / (3 * backOutAmount + 3);
                    var stopBeforeBackOutTime = currentTime + leaveTime * (1 / (backOutAmount + 1));
                    tween.call(this.push, [reelData[0]], this);
                    tween.call(function() {
                        return _this6.emit(Reel.EVENT.PUSH_LAST)
                    });
                    tween._actionTail.t = currentTime;
                    tween.to({
                        y: -deltaY
                    });
                    tween.to({
                        y: 0
                    }, leaveTime, createjs.Ease.getBackOut(backOutAmount));
                    tween.call(function() {
                        return _this6.emit(Reel.EVENT.STOP_BEFORE_BACK_OUT)
                    });
                    tween._actionTail.t = stopBeforeBackOutTime;
                    tween.call(function() {
                        return _this6.emit(Reel.EVENT.STOP_MAXIMUM)
                    });
                    tween._actionTail.t = stopMaxTime;
                    tween.call(function() {
                        _this6.state = Reel.STATE.NORMAL;
                        _this6.emit(Reel.EVENT.STOP)
                    });
                    this.timeTween = leaveTime / 2;
                    this.timeScaleTween = 1;
                    var endTime = tween.duration;
                    var duration = endTime - startTime;
                    this.reelStackData = this.clearStackData();
                    if (needAdvance) {
                        var magicNum = 10;
                        var durationLeft = Math.max(0, this.timeLeftForStop - this.timeLeftTween.position);
                        tween.timeScale = Math.max(.1, Math.min(10, duration / (durationLeft + magicNum)));
                        this.timeTween = leaveTime / 2;
                        this.stopMaxTimeTween = stopMaxTime;
                        this.backOutAmountTween = backOutAmount;
                        this.timeScaleTween = tween.timeScale
                    }
                }
            }, {
                key: "getSymbol",
                value: function getSymbol(row) {
                    return this.symbols[row + 1]
                }
            }, {
                key: "createSymbol",
                value: function createSymbol(idx) {
                    var id = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
                    if (id === null) id = this.getRandomSymbolId();
                    var symbol = _GameSymbol.default.create(id);
                    symbol.position = this.getMeasuredSymbolPosition(idx);
                    symbol.interactive = true;
                    return symbol
                }
            }, {
                key: "getMeasuredWidth",
                value: function getMeasuredWidth() {
                    return _app.app.config.get("GameSymbol.width")
                }
            }, {
                key: "getMeasuredHeight",
                value: function getMeasuredHeight() {
                    var visibleSymbols = this.symbols.length - this.skipTopRows - this.skipBottomRows - 2;
                    return visibleSymbols * _app.app.config.get("GameSymbol.height") + (visibleSymbols - 1) * _app.app.config.get("Reels.gapV")
                }
            }, {
                key: "getMeasuredSymbolPosition",
                value: function getMeasuredSymbolPosition(idx) {
                    var width = _app.app.config.get("GameSymbol.width");
                    var height = _app.app.config.get("GameSymbol.height");
                    var gapV = _app.app.config.get("Reels.gapV");
                    return new PIXI.Point(width / 2, (height + gapV) * idx + height / 2)
                }
            }, {
                key: "createMask",
                value: function createMask(x, y, width, height) {
                    switch (_app.app.config.get("Reel.maskType")) {
                        case "gradient":
                            if (!_app.app.config.get("Reel.maskStep")) {
                                throw new Error("Not found in config app - Reel.maskStep")
                            }
                            return _helpers.graphics.getReelGradient(x, y, width, height, _app.app.config.get("Reel.maskStep"));
                        case "rect":
                            return _helpers.graphics.getRect(x, y, width, height);
                        case "none":
                            return null;
                        default:
                            throw new Error("Not found in config app - Reel.maskType")
                    }
                }
            }, {
                key: "setMaskCoords",
                value: function setMaskCoords(rectArray) {
                    if (this.reelMask) {
                        this.reelMask.removeFromParent()
                    }
                    var configMask = rectArray || this.getDefaultMaskCoords();
                    this.reelMask = this.createMask.apply(this, _toConsumableArray(configMask));
                    if (this.reelMask) {
                        this.reelMaskContainer.addChild(this.reelMask)
                    }
                    this.reelMaskContainer.mask = this.reelMask;
                    this.emit(Reel.EVENT.MASK_UPDATE)
                }
            }, {
                key: "getDefaultMaskCoords",
                value: function getDefaultMaskCoords() {
                    var width = _app.app.config.get("App.width");
                    var height = _app.app.config.get("GameSymbol.height");
                    var gapV = _app.app.config.get("Reels.gapV");
                    return [-width / 2, this.skipTopRows * (height + gapV) - _app.app.config.get("Reel.maskVerticalPadding"), width * 2, (height + gapV) * (this.rows - this.skipBottomRows - this.skipTopRows) - gapV + _app.app.config.get("Reel.maskVerticalPadding") * 2]
                }
            }, {
                key: "applyMask",
                value: function applyMask() {
                    var animated = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
                    var time = animated ? 200 : 0;
                    this.reel.mask = this.reelMask;
                    this.reel.mask && this.reel.mask.tween(true).advance(0)
                }
            }, {
                key: "clearMask",
                value: function clearMask() {
                    var _this7 = this;
                    var animated = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
                    var time = animated ? 200 : 0;
                    this.reel.mask && this.reel.mask.tween(true).wait(time).call(function() {
                        return _this7.reel.mask = null
                    }).advance(0)
                }
            }, {
                key: "applyMaskForSymbols",
                value: function applyMaskForSymbols() {
                    var _this8 = this;
                    var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
                    if (value) {
                        var topMasked = this.skipTopRows + 1;
                        var bottomMasked = this.symbols.length - this.skipBottomRows - 3;
                        this.symbols.forEach(function(symbol, i) {
                            return symbol.mask = i < topMasked || i > bottomMasked ? _this8.reelMask : null
                        })
                    } else {
                        this.symbols.forEach(function(symbol) {
                            return symbol.mask = null
                        })
                    }
                }
            }, {
                key: "setMaskState",
                value: function setMaskState(reel, symbol) {
                    if (reel) {
                        this.applyMask(false)
                    } else {
                        this.clearMask(false)
                    }
                    this.applyMaskForSymbols(symbol)
                }
            }, {
                key: "push",
                value: function push() {
                    var symbolId = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
                    var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
                    var anticipationArraySymbol = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
                    var height = _app.app.config.get("GameSymbol.height");
                    var gapV = _app.app.config.get("Reels.gapV");
                    var yShift = height + gapV;
                    var len = this.symbols.length;
                    var lastSymbol = this.symbols[len - 1];
                    for (var i = len - 2; i >= 0; i--) {
                        this.symbols[i].y += yShift;
                        this.symbols[i + 1] = this.symbols[i]
                    }
                    this.symbols[0] = lastSymbol;
                    lastSymbol.y = -height / 2 - gapV;
                    if (symbolId === null) {
                        var data = this.symbols.slice(1).map(function(s) {
                            return s.id
                        });
                        symbolId = this.getNextPossibleSymbol(data);
                        state = state || _GameSymbol.default.MOVE
                    } else {
                        state = state || _GameSymbol.default.STATIC
                    }
                    lastSymbol.setId(symbolId);
                    lastSymbol.setState(state);
                    if (_app.app.config.get("Reel.customizeAnticipationSymbols") && this.state === Reel.STATE.STOPPING_ANTICIPATION && anticipationArraySymbol) {
                        this.customizeAnticipationSymbol(lastSymbol)
                    }
                    if (_app.app.config.get("Reel.sortZIndex")) {
                        this.reel.setChildIndex(lastSymbol, 0)
                    }
                    this.sortByZIndex();
                    this.emit(Reel.EVENT.PUSH)
                }
            }, {
                key: "customizeAnticipationSymbol",
                value: function customizeAnticipationSymbol(symbol) {}
            }, {
                key: "getRandomSymbolId",
                value: function getRandomSymbolId() {
                    return _helpers.utils.random(this.getRandomSymbolsList())
                }
            }, {
                key: "checkSymbolMatrix",
                value: function checkSymbolMatrix(id, reelData) {
                    var additionalDistance = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
                    if (!_app.app.config.get("AdvancedReels.useAdjacencyMatrix") || !_app.app.config.get("AdvancedReels.useAdvancedReels")) return true;
                    var adjMatrix = _app.app.config.get("AdvancedReels.adjacencyMatrix.".concat(id));
                    for (var i = 0; i < reelData.length; i++) {
                        var currentId = reelData[i];
                        if (reelData.indexOf(currentId) + additionalDistance < adjMatrix[currentId - 1]) {
                            return false
                        }
                    }
                    return true
                }
            }, {
                key: "checkProbability",
                value: function checkProbability(id, randomNum) {
                    if (!_app.app.config.get("AdvancedReels.useCustomSymbolProbability" || !_app.app.config.get("AdvancedReels.useAdvancedReels"))) {
                        return true
                    }
                    var targetProbability = _app.app.config.get("AdvancedReels.symbolProbability.".concat(id)) * _app.app.model.get("settings.symbols").length;
                    return targetProbability > randomNum
                }
            }, {
                key: "getNextPossibleSymbol",
                value: function getNextPossibleSymbol() {
                    var _this9 = this;
                    var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
                    var forwardData = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
                    var additionalDistance = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
                    var stackSymbolsIds = _app.app.config.get("AdvancedReels.useStackSymbols") ? _app.app.config.get("AdvancedReels.stackSymbols").map(function(s) {
                            return s.id
                        }) : [],
                        symbolId = this.getRandomSymbolId(),
                        randomNum = Math.random();
                    if (!this.reelStackData.started || this.reelStackData.started && (this.reelStackData.remaining == 0 || this.reelStackData.remaining > 0 && !this.checkSymbolMatrix(this.reelStackData.symbolId, forwardData, additionalDistance))) {
                        while (!this.checkSymbolMatrix(symbolId, data) || !this.checkProbability(symbolId, randomNum) || forwardData.length && !this.checkSymbolMatrix(symbolId, forwardData, additionalDistance)) {
                            symbolId = this.getRandomSymbolId();
                            randomNum = Math.random()
                        }
                        if (this.reelStackData.started) this.reelStackData = this.clearStackData()
                    }
                    if (this.reelStackData.started && this.reelStackData.remaining > 0) {
                        symbolId = this.reelStackData.symbolId;
                        this.reelStackData.remaining--
                    } else if (stackSymbolsIds.includes(symbolId) && !this.reelStackData.started) {
                        var currStackData = _app.app.config.get("AdvancedReels.stackSymbols").filter(function(s) {
                                return s.id == symbolId
                            })[0],
                            customStackData = currStackData.customStacks ? currStackData.customStacks.filter(function(cs) {
                                return cs.reelId === _this9.id
                            }) : [],
                            stack = customStackData.length ? customStackData[0].stack : currStackData.stack;
                        this.reelStackData.started = true;
                        this.reelStackData.symbolId = symbolId;
                        this.reelStackData.remaining = stack[Math.floor(Math.random() * stack.length)] - 1
                    }
                    return symbolId
                }
            }, {
                key: "getAdditionalSymbol",
                value: function getAdditionalSymbol() {
                    var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
                    if (this.needStackSymbol(data)) return data[0];
                    var symbolId = this.getRandomSymbolId(),
                        randomNum = Math.random();
                    while (!this.checkSymbolMatrix(symbolId, data) || !this.checkProbability(symbolId, randomNum)) {
                        symbolId = this.getRandomSymbolId();
                        randomNum = Math.random()
                    }
                    return symbolId
                }
            }, {
                key: "needStackSymbol",
                value: function needStackSymbol(data) {
                    if (!_app.app.config.get("AdvancedReels.useStackSymbols")) return false;
                    var currStackData = _app.app.config.get("AdvancedReels.stackSymbols").filter(function(s) {
                        return s.id == data[0]
                    })[0];
                    if (!currStackData) return false;
                    var stack = currStackData.stack,
                        remaining = stack[Math.floor(Math.random() * stack.length)];
                    var reelStackLength = data.findIndex(function(id) {
                        return id != data[0]
                    });
                    if (reelStackLength === -1) reelStackLength = data.length;
                    return remaining - reelStackLength > 0
                }
            }, {
                key: "getPossibleSymbolsArray",
                value: function getPossibleSymbolsArray() {
                    var currentData = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.symbols.map(function(s) {
                        return s.id
                    });
                    var reelData = this.getFinishReelData().slice().reverse(),
                        symbolsArray = [];
                    if (!_app.app.config.get("AdvancedReels.useAdjacencyMatrix") || !_app.app.config.get("AdvancedReels.useAdvancedReels")) return symbolsArray;
                    for (var i = 0; i < this.maxAdjacencyDistance; i++) {
                        var symbol = this.getNextPossibleSymbol(currentData, reelData, this.maxAdjacencyDistance - (symbolsArray.length + 1));
                        currentData.unshift(symbol);
                        symbolsArray.unshift(symbol)
                    }
                    return symbolsArray
                }
            }, {
                key: "clearStackData",
                value: function clearStackData() {
                    return {
                        started: false,
                        remaining: 0,
                        symbolId: null
                    }
                }
            }, {
                key: "generateStackData",
                value: function generateStackData() {
                    var reelData = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.getFinishReelData();
                    if (!this.needStackSymbol(reelData)) return this.clearStackData();
                    var currStackData = _app.app.config.get("AdvancedReels.stackSymbols").filter(function(s) {
                        return s.id == reelData[0]
                    })[0];
                    var stack = currStackData.stack,
                        remaining = stack[Math.floor(Math.random() * stack.length)];
                    var reelStackLength = reelData.findIndex(function(id) {
                        return id != reelData[0]
                    });
                    remaining -= reelStackLength;
                    return {
                        started: true,
                        remaining: remaining,
                        symbolId: reelData[0]
                    }
                }
            }, {
                key: "getRandomSymbolsList",
                value: function getRandomSymbolsList() {
                    var values = _app.app.model.get("settings.reelsamples.".concat(_app.app.model.get("game.current")), [])[this.id - 1];
                    if (!values || !values.length) {
                        if (this.cacheMapping !== _GameSymbol.default.mapping) {
                            this.cacheMapping = _GameSymbol.default.mapping;
                            this.cacheMappingValues = Object.keys(this.cacheMapping).map(function(i) {
                                return parseInt(i, 10)
                            })
                        }
                        values = this.cacheMappingValues
                    }
                    return values
                }
            }, {
                key: "getFinishReelData",
                value: function getFinishReelData() {
                    var data = this.getReelData();
                    if (this.additionalSymbols === null || this.additionalSymbols.length == 0) {
                        var upperSymbol = this.getAdditionalSymbol(data);
                        var bottomSymbol = this.getAdditionalSymbol(data.slice().reverse().concat(upperSymbol));
                        if (this.state === Reel.STATE.STOPPING_ANTICIPATION && _app.app.config.get("Reel.needAdditionalScatter")) {
                            var scatterAvailable = _app.app.model.anticipationMap()[this.id - 1];
                            var noScatter = !data.includes(_GameSymbol.default.SCATTER_ID);
                            var probability = Math.random() <= _app.app.config.get("Reel.additionalScatterProbability");
                            var needAdditionalScatter = scatterAvailable && noScatter && probability;
                            if (needAdditionalScatter && upperSymbol !== _GameSymbol.default.SCATTER_ID && bottomSymbol !== _GameSymbol.default.SCATTER_ID) {
                                var scatterRandom = Math.random();
                                if (scatterRandom >= .5) {
                                    bottomSymbol = this.checkSymbolMatrix(_GameSymbol.default.SCATTER_ID, data.slice().reverse()) ? _GameSymbol.default.SCATTER_ID : bottomSymbol
                                } else {
                                    upperSymbol = this.checkSymbolMatrix(_GameSymbol.default.SCATTER_ID, data) ? _GameSymbol.default.SCATTER_ID : upperSymbol
                                }
                            }
                        }
                        this.additionalSymbols = [upperSymbol, bottomSymbol]
                    }
                    return [this.additionalSymbols[0]].concat(_toConsumableArray(data), [this.additionalSymbols[1]])
                }
            }, {
                key: "fillFromModel",
                value: function fillFromModel() {
                    var data = this.getFinishReelData();
                    var len = Math.min(data.length, this.symbols.length);
                    for (var i = 0; i < len; ++i) {
                        var symbol = this.symbols[i];
                        symbol.setId(data[i]);
                        symbol.setStaticState()
                    }
                    this.sortByZIndex()
                }
            }, {
                key: "getReelData",
                value: function getReelData() {
                    return _app.app.model.board()[this.id - 1]
                }
            }, {
                key: "initMaskHandlers",
                value: function initMaskHandlers() {
                    var _this10 = this;
                    var symbolMask = _app.app.config.get("Reel.higherBoard", false);
                    var symbolsHigherBoard = symbolMask && _app.app.config.get("Reel.symbolsHigherBoard", []).length;
                    var topSymbolEnabled = _app.app.config.get("Reel.enableTopSymbolWhenStop", true);
                    var bottomSymbolEnabled = _app.app.config.get("Reel.enableBottomSymbolWhenStop", true);
                    var maskOnStop = _app.app.config.get("Reel.enableMaskWhenStop", true);
                    if (symbolMask) {
                        this.on(Reel.EVENT.INIT, function() {
                            return symbolsHigherBoard ? _this10.setOversizeSymbolsMask() : _this10.setMaskState(false, maskOnStop)
                        });
                        this.on(Reel.EVENT.RESET, function() {
                            return symbolsHigherBoard ? _this10.setOversizeSymbolsMask() : _this10.setMaskState(false, maskOnStop)
                        });
                        this.on(Reel.EVENT.MASK_UPDATE, function() {
                            return symbolsHigherBoard ? _this10.setOversizeSymbolsMask() : _this10.setMaskState(false, maskOnStop)
                        });
                        this.on(Reel.EVENT.STOP, function() {
                            return symbolsHigherBoard ? _this10.setOversizeSymbolsMask() : _this10.setMaskState(false, maskOnStop)
                        });
                        this.on(Reel.EVENT.START, function() {
                            return symbolsHigherBoard ? _this10.setOversizeSymbolsMask() : _this10.setMaskState(false, maskOnStop)
                        });
                        this.on(Reel.EVENT.PUSH_FIRST, function() {
                            return _this10.setMaskState(true, false)
                        });
                        this.on(Reel.EVENT.STOP_MAXIMUM, function() {
                            return _this10.setMaskState(false, true)
                        })
                    } else {
                        this.on(Reel.EVENT.INIT, function() {
                            return _this10.setMaskState(maskOnStop, false)
                        });
                        this.on(Reel.EVENT.RESET, function() {
                            return _this10.setMaskState(maskOnStop, false)
                        });
                        this.on(Reel.EVENT.MASK_UPDATE, function() {
                            return _this10.setMaskState(maskOnStop, false)
                        });
                        this.on(Reel.EVENT.STOP, function() {
                            return _this10.setMaskState(maskOnStop, false)
                        });
                        this.on(Reel.EVENT.START, function() {
                            return _this10.setMaskState(true, false)
                        })
                    }
                    if (!topSymbolEnabled) {
                        var changeSymbolsVisibility = function changeSymbolsVisibility(visible) {
                            var extraSymbols = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
                            for (var i = 0; i < _this10.skipTopRows + 1 + extraSymbols; ++i) {
                                var symbol = _this10.symbols[i];
                                symbol.visible = visible;
                                symbol.alpha = +visible;
                                createjs.Tween.removeTweens(symbol)
                            }
                        };
                        this.on(Reel.EVENT.INIT, function() {
                            return changeSymbolsVisibility(false)
                        });
                        this.on(Reel.EVENT.RESET, function() {
                            return changeSymbolsVisibility(false)
                        });
                        this.on(Reel.EVENT.MASK_UPDATE, function() {
                            return changeSymbolsVisibility(false)
                        });
                        this.on(Reel.EVENT.STOP, function() {
                            return changeSymbolsVisibility(false)
                        });
                        this.on(Reel.EVENT.START_MINIMUM, function() {
                            return changeSymbolsVisibility(true)
                        });
                        this.on(Reel.EVENT.BEFORE_START_STOP, function() {
                            return changeSymbolsVisibility(true, 1)
                        });
                        this.on(Reel.EVENT.PUSH_LAST, function() {
                            return changeSymbolsVisibility(false)
                        })
                    }
                    if (!bottomSymbolEnabled) {
                        var _changeSymbolsVisibility = function _changeSymbolsVisibility(visible) {
                            for (var i = _this10.symbols.length - _this10.skipBottomRows - 1; i < _this10.symbols.length; ++i) {
                                var symbol = _this10.symbols[i];
                                symbol.visible = visible;
                                symbol.alpha = +visible;
                                createjs.Tween.removeTweens(symbol)
                            }
                        };
                        this.on(Reel.EVENT.INIT, function() {
                            return _changeSymbolsVisibility(false)
                        });
                        this.on(Reel.EVENT.RESET, function() {
                            return _changeSymbolsVisibility(false)
                        });
                        this.on(Reel.EVENT.MASK_UPDATE, function() {
                            return _changeSymbolsVisibility(false)
                        });
                        this.on(Reel.EVENT.STOP, function() {
                            return _changeSymbolsVisibility(false)
                        });
                        this.on(Reel.EVENT.STOP_MAXIMUM, function() {
                            return _changeSymbolsVisibility(false)
                        });
                        this.on(Reel.EVENT.PUSH, function() {
                            var visible = true;
                            var i = 0;
                            var symbol = _this10.symbols[i];
                            symbol.visible = visible;
                            symbol.alpha = +visible;
                            createjs.Tween.removeTweens(symbol)
                        })
                    }
                }
            }, {
                key: "setOversizeSymbolsMask",
                value: function setOversizeSymbolsMask() {
                    var symbols = _app.app.config.get("Reel.symbolsHigherBoard");
                    var symbolMask = symbols.includes(this.symbols[1].id);
                    var reelMask = !symbolMask;
                    this.setMaskState(reelMask, symbolMask)
                }
            }, {
                key: "beforeStop",
                value: function beforeStop() {}
            }, {
                key: "beforeStartStop",
                value: function beforeStartStop() {}
            }, {
                key: "beforeAnticipationStartStop",
                value: function beforeAnticipationStartStop() {}
            }, {
                key: "beforeAnticipationStop",
                value: function beforeAnticipationStop() {}
            }, {
                key: "emit",
                value: function emit(event) {
                    var _PIXI$Container$proto;
                    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
                        args[_key - 1] = arguments[_key]
                    }(_PIXI$Container$proto = PIXI.Container.prototype.emit).call.apply(_PIXI$Container$proto, [this, event].concat(args));
                    _app.app.emit.apply(_app.app, [event, this.id, this].concat(args))
                }
            }, {
                key: "debugDraw",
                set: function set(enabled) {
                    if (this._debugDrawContainer) {
                        this._debugDrawContainer.removeFromParent()
                    }
                    if (enabled) {
                        var _graphics = this._debugDrawContainer = new PIXI.Graphics;
                        this.dd = new PIXI.Graphics;
                        _graphics.lineStyle(2, 16711680);
                        _graphics.drawRect(0, 0, this.getMeasuredWidth(), this.getMeasuredHeight());
                        this.addChild(_graphics)
                    }
                }
            }], [{
                key: "create",
                value: function create(id, options) {
                    return new(this.registeredReels[id] || Reel)(id, options)
                }
            }]);
            return Reel
        }(PIXI.Container);
        exports.default = Reel;
        _defineProperty(Reel, "STATE", {
            NORMAL: "Reel.STATE.NORMAL",
            HOLD: "Reel.STATE.HOLD",
            SPINNING: "Reel.STATE.SPINNING",
            SKIPPING: "Reel.STATE.SKIPPING",
            STOPPING: "Reel.STATE.STOPPING",
            STOPPING_ANTICIPATION: "Reel.STATE.STOPPING_ANTICIPATION",
            STOPPING_FINAL: "Reel.STATE.STOPPING_FINAL"
        });
        _defineProperty(Reel, "EVENT", {
            INIT: "Reel.EVENT.INIT",
            RESET: "Reel.EVENT.RESET",
            MASK_UPDATE: "Reel.EVENT.MASK_UPDATE",
            START: "Reel.EVENT.START",
            START_MINIMUM: "Reel.EVENT.START_MINIMUM",
            START_AFTER_BACK_IN: "Reel.EVENT.START_AFTER_BACK_IN",
            PUSH: "Reel.EVENT.PUSH",
            PUSH_FIRST: "Reel.EVENT.PUSH_FIRST",
            PUSH_LAST: "Reel.EVENT.PUSH_LAST",
            ANTICIPATION_STOPPING: "Reel.EVENT.ANTICIPATION_STOPPING",
            STOP_BEFORE_BACK_OUT: "Reel.EVENT.STOP_BEFORE_BACK_OUT",
            STOP_MAXIMUM: "Reel.EVENT.STOP_MAXIMUM",
            STOP: "Reel.EVENT.STOP",
            BEFORE_START_STOP: "Reel.EVENT.BEFORE_START_STOP"
        });
        _helpers.utils.deprecateMethodOverride(Reel.prototype, "beforeStop", "beforeStartStop", "beforeAnticipationStartStop", "beforeAnticipationStop");
        Reel.registeredReels = {};
        Object.defineProperties(Reel, {
            NORMAL: {
                get: function get() {
                    console.warn("Use Reel.STATE.NORMAL instead of Reel.NORMAL!");
                    return Reel.STATE.NORMAL
                }
            },
            HOLD: {
                get: function get() {
                    console.warn("Use Reel.STATE.HOLD instead of Reel.HOLD!");
                    return Reel.STATE.HOLD
                }
            },
            SPINNING: {
                get: function get() {
                    console.warn("Use Reel.STATE.SPINNING instead of Reel.SPINNING!");
                    return Reel.STATE.SPINNING
                }
            },
            SKIPPING: {
                get: function get() {
                    console.warn("Use Reel.STATE.SKIPPING instead of Reel.SKIPPING!");
                    return Reel.STATE.SKIPPING
                }
            },
            STOPPING: {
                get: function get() {
                    console.warn("Use Reel.STATE.STOPPING instead of Reel.STOPPING!");
                    return Reel.STATE.STOPPING
                }
            },
            STOPPING_ANTICIPATION: {
                get: function get() {
                    console.warn("Use Reel.STATE.STOPPING_ANTICIPATION instead of Reel.STOPPING_ANTICIPATION!");
                    return Reel.STATE.STOPPING_ANTICIPATION
                }
            },
            STOPPING_FINAL: {
                get: function get() {
                    console.warn("Use Reel.STATE.STOPPING_FINAL instead of Reel.STOPPING_FINAL!");
                    return Reel.STATE.STOPPING_FINAL
                }
            }
        });
        Object.defineProperties(Reel, {
            InitEvent: {
                get: function get() {
                    console.warn("Use Reel.EVENT.INIT instead of Reel.InitEvent!");
                    return Reel.EVENT.INIT
                }
            },
            ResetEvent: {
                get: function get() {
                    console.warn("Use Reel.EVENT.RESET instead of Reel.ResetEvent!");
                    return Reel.EVENT.RESET
                }
            },
            StartEvent: {
                get: function get() {
                    console.warn("Use Reel.EVENT.START instead of Reel.StartEvent!");
                    return Reel.EVENT.START
                }
            },
            PushEvent: {
                get: function get() {
                    console.warn("Use Reel.EVENT.PUSH instead of Reel.PushEvent!");
                    return Reel.EVENT.PUSH
                }
            },
            FirstPushEvent: {
                get: function get() {
                    console.warn("Use Reel.EVENT.PUSH_FIRST instead of Reel.FirstPushEvent!");
                    return Reel.EVENT.PUSH_FIRST
                }
            },
            StopMaximumEvent: {
                get: function get() {
                    console.warn("Use Reel.EVENT.STOP_MAXIMUM instead of Reel.StopMaximumEvent!");
                    return Reel.EVENT.STOP_MAXIMUM
                }
            },
            StopEvent: {
                get: function get() {
                    console.warn("Use Reel.EVENT.STOP instead of Reel.StopEvent!");
                    return Reel.EVENT.STOP
                }
            },
            AnticipationStoppingEvent: {
                get: function get() {
                    console.warn("Use Reel.EVENT.ANTICIPATION_STOPPING instead of Reel.AnticipationStoppingEvent!");
                    return Reel.EVENT.ANTICIPATION_STOPPING
                }
            },
            BeforeBackOutEvent: {
                get: function get() {
                    console.warn("Use Reel.EVENT.STOP_BEFORE_BACK_OUT instead of Reel.BeforeBackOutEvent!");
                    return Reel.EVENT.STOP_BEFORE_BACK_OUT
                }
            }
        })
    }, {
        "../app": 33,
        "../helpers": 90,
        "../helpers/AnimationSequence": 85,
        "./GameSymbol": 39
    }],
    43: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;
        var _app = _interopRequireDefault(require("../app"));
        var _Reel = _interopRequireDefault(require("./Reel"));
        var _helpers = require("../helpers");
        var _SkipController = _interopRequireDefault(require("../controllers/SkipController"));
        var _GameSymbol = _interopRequireDefault(require("./GameSymbol"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _toConsumableArray(arr) {
            return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread()
        }

        function _nonIterableSpread() {
            throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }

        function _unsupportedIterableToArray(o, minLen) {
            if (!o) return;
            if (typeof o === "string") return _arrayLikeToArray(o, minLen);
            var n = Object.prototype.toString.call(o).slice(8, -1);
            if (n === "Object" && o.constructor) n = o.constructor.name;
            if (n === "Map" || n === "Set") return Array.from(o);
            if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen)
        }

        function _iterableToArray(iter) {
            if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter)
        }

        function _arrayWithoutHoles(arr) {
            if (Array.isArray(arr)) return _arrayLikeToArray(arr)
        }

        function _arrayLikeToArray(arr, len) {
            if (len == null || len > arr.length) len = arr.length;
            for (var i = 0, arr2 = new Array(len); i < len; i++) {
                arr2[i] = arr[i]
            }
            return arr2
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var Reels = function(_PIXI$Container) {
            _inherits(Reels, _PIXI$Container);
            var _super = _createSuper(Reels);

            function Reels() {
                var _this;
                _classCallCheck(this, Reels);
                _this = _super.call(this);
                _this.reels = [];
                _this.oversizeSymbols = [];
                _this.reelOffset = 0;
                _this.skipPressDefer = _helpers.utils.deferred();
                _this.quickSpin = false;
                return _this
            }
            _createClass(Reels, [{
                key: "getMeasuredHeight",
                value: function getMeasuredHeight() {
                    return Math.max.apply(Math, _toConsumableArray(this.reels.map(function(r) {
                        return r.getMeasuredHeight()
                    })))
                }
            }, {
                key: "getMeasuredWidth",
                value: function getMeasuredWidth() {
                    return this.reels.length * _app.default.config.get("GameSymbol.width") + (this.reels.length - 1) * _app.default.config.get("Reels.gapH")
                }
            }, {
                key: "init",
                value: function init(options) {
                    var _this2 = this;
                    options = options || {};
                    options.cols = options.cols || _app.default.config.get("App.cols");
                    options.reelOffset = options.reelOffset || 0;
                    this.reelOffset = options.reelOffset;
                    this.reels.length = options.cols;
                    for (var i = 0; i < options.cols; ++i) {
                        var reel = this.createReel(i + options.reelOffset, {
                            rows: _app.default.model.rows(i + 1),
                            skipTopRows: options.skipTopRows && options.skipTopRows[i] || 0,
                            skipBottomRows: options.skipBottomRows && options.skipBottomRows[i] || 0,
                            reelOffset: options.reelOffset
                        });
                        this.addChild(reel);
                        this.reels[i] = reel
                    }
                    _app.default.model.follow("game.restart", function() {
                        return _this2.reels.forEach(function(r) {
                            return r.additionalSymbols = null
                        })
                    });
                    var cols = Math.min(_app.default.model.cols(), this.reels.length);
                    for (var _i = 0; _i < cols; ++_i) {
                        this.oversizeSymbols.push([]);
                        var rows = _app.default.model.rows(this.reels[_i].id);
                        for (var j = 0; j < rows; ++j) {
                            this.oversizeSymbols[_i].push(null)
                        }
                    }
                    this.fillFromModel()
                }
            }, {
                key: "reset",
                value: function reset() {
                    createjs.Tween.removeTweens(this);
                    this.reels.forEach(function(r) {
                        return r.reset()
                    })
                }
            }, {
                key: "createReel",
                value: function createReel(index, options) {
                    var reel = _Reel.default.create(index + 1, options);
                    reel.setMaskCoords();
                    reel.x = (_app.default.config.get("GameSymbol.width") + _app.default.config.get("Reels.gapH")) * (index - (options.reelOffset || 0));
                    return reel
                }
            }, {
                key: "forEachSymbol",
                value: function forEachSymbol(callback) {
                    var cols = Math.min(_app.default.model.cols(), this.reels.length);
                    for (var i = 0; i < cols; ++i) {
                        var rows = _app.default.model.rows(this.reels[i].id);
                        for (var j = 0; j < rows; ++j) {
                            callback.call(this, this.reels[i].symbols[j + 1], i + this.reelOffset, j)
                        }
                    }
                }
            }, {
                key: "fillFromModel",
                value: function fillFromModel() {
                    var cancelAnimation = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
                    if (_app.default.model.get("game.restart", false)) return;
                    this.reels.forEach(function(r) {
                        r.fillFromModel()
                    });
                    if (_app.default.config.get("AdvancedReels.useOversizeSymbols")) this.fillFromModelOversize()
                }
            }, {
                key: "fillFromModelOversize",
                value: function fillFromModelOversize() {
                    var _this3 = this;
                    if (!_app.default.config.get("AdvancedReels.useOversizeSymbols")) return;
                    if (!this.oversizeContainer) this.oversizeContainer = this.addChild(new PIXI.Container);
                    this.reels.forEach(function(r) {
                        var ids = _app.default.config.get("AdvancedReels.oversizeSymbols");
                        var _loop = function _loop(i) {
                            var s = r.symbols[i];
                            var symbol = _this3.oversizeSymbols[r.id - 1][i - 1];
                            if (ids.some(function(id) {
                                    return id === s.id
                                })) {
                                if (!symbol) {
                                    symbol = new _GameSymbol.default(s.id);
                                    _this3.oversizeSymbols[r.id - 1][i - 1] = symbol
                                }
                                _this3.oversizeContainer.addChild(symbol);
                                symbol.setId(s.id);
                                if (symbol.id === _GameSymbol.default.BONUS_ID) {
                                    symbol.setBonusSymbolValue(s.currentBonusSymbolValue);
                                    symbol.setBonusSymbolViewValue(s.currentBonusSymbolValue)
                                }
                                symbol.setOversizeState(1);
                                var _s$toParentCoords = s.toParentCoords(_this3),
                                    x = _s$toParentCoords.x,
                                    y = _s$toParentCoords.y;
                                symbol.x = x;
                                symbol.y = y;
                                s.visible = false
                            } else {
                                if (symbol) {
                                    symbol.removeFromParent();
                                    symbol.view.clear();
                                    symbol = null;
                                    _this3.oversizeSymbols[r.id - 1][i - 1] = null
                                }
                                s.visible = true
                            }
                        };
                        for (var i = 1; i < r.symbols.length - 1; i++) {
                            _loop(i)
                        }
                    })
                }
            }, {
                key: "clearOversizeSymbols",
                value: function clearOversizeSymbols() {
                    var _this4 = this;
                    for (var i = 0; i < this.oversizeSymbols.length; i++) {
                        var r = this.oversizeSymbols[i];
                        var _loop2 = function _loop2(j) {
                            var s = r[j];
                            var symbol = _this4.getSymbol(i, j);
                            symbol.visible = true;
                            if (s) {
                                s.setDefaultScale(function() {
                                    s.removeFromParent();
                                    s.view.clear();
                                    s = null
                                });
                                r[j] = null
                            }
                        };
                        for (var j = 0; j < r.length; j++) {
                            _loop2(j)
                        }
                    }
                }
            }, {
                key: "showOversizeSymbols",
                value: function showOversizeSymbols(reel) {
                    var _this5 = this;
                    var ids = _app.default.config.get("AdvancedReels.oversizeSymbols");
                    var _loop3 = function _loop3(i) {
                        var s = reel.symbols[i];
                        if (ids.some(function(id) {
                                return id === s.id
                            })) {
                            var symbol = _this5.oversizeContainer.addChild(new _GameSymbol.default(s.id));
                            if (symbol.id === _GameSymbol.default.BONUS_ID) {
                                symbol.setBonusSymbolValue(s.currentBonusSymbolValue);
                                symbol.setBonusSymbolViewValue(s.currentBonusSymbolValue)
                            }
                            reel.withAnticipation ? symbol.setOversizeState(symbol.config.oversizeAppearTimeAnticipation) : symbol.setOversizeState();
                            if (s.state === _GameSymbol.default.BLUR) symbol.setBlurState();
                            var _s$toParentCoords2 = s.toParentCoords(_this5),
                                x = _s$toParentCoords2.x,
                                y = _s$toParentCoords2.y;
                            symbol.x = x;
                            symbol.y = y;
                            _this5.oversizeSymbols[reel.id - 1][i - 1] = symbol;
                            s.visible = false;
                            var delta = _app.default.config.get("GameSymbol.height") + _app.default.config.get("Reels.gapV");
                            var time = reel.timeTween;
                            var quickSpin = _this5.quickSpin;
                            var turboStop = quickSpin && _app.default.config.get("Reel.turboStop");
                            if (turboStop) time = _app.default.config.get("Reel.turboStopOversizeTime");
                            var t = symbol.tween(true).to({
                                y: delta * i - delta / 2
                            }, time);
                            t.timeScale = reel.timeScaleTween
                        }
                    };
                    for (var i = 1; i < reel.symbols.length - 1; i++) {
                        _loop3(i)
                    }
                }
            }, {
                key: "getOversizeSymbol",
                value: function getOversizeSymbol(col, row) {
                    return this.oversizeSymbols[col][row]
                }
            }, {
                key: "spin",
                value: function spin() {
                    var _this6 = this;
                    this.skipPressDefer = _helpers.utils.deferred();
                    _SkipController.default.on(this.skipPressDefer.resolve);
                    this.emit(Reels.StartEvent);
                    var immediately = this.quickSpin = _app.default.model.isQuickSpin();
                    var def = _helpers.utils.deferred();
                    var spinDefers = this.reels.map(function() {
                        return _helpers.utils.deferred()
                    });
                    var runSpin = function runSpin(index) {
                        if (index < _this6.reels.length) {
                            var reel = _this6.reels[index];
                            if (reel.state === _Reel.default.STATE.HOLD) {
                                spinDefers[index].resolve();
                                runSpin(index + 1)
                            } else {
                                if (_app.default.config.get("AdvancedReels.useOversizeSymbols")) {
                                    reel.once(_Reel.default.EVENT.START, _this6.clearOversizeSymbols, _this6);
                                    reel.once(_Reel.default.EVENT.STOP_MAXIMUM, function() {
                                        return _this6.showOversizeSymbols(reel)
                                    })
                                }
                                var cycleTime = _app.default.config.get("Reels.startTime".concat(immediately ? "Quick" : ""));
                                var tween = createjs.Tween.get(_this6, {
                                    override: true
                                });
                                if (Array.isArray(cycleTime)) {
                                    cycleTime = cycleTime[Math.min(index, cycleTime.length - 1)]
                                }
                                tween.wait(cycleTime).call(function() {
                                    _helpers.utils.getPromise(reel.spin()).then(function() {
                                        return spinDefers[index].resolve()
                                    });
                                    runSpin(index + 1)
                                }).advance(0)
                            }
                        } else {
                            def.resolve()
                        }
                    };
                    _helpers.utils.wait(_app.default.config.get("Reels.spinStartDelay")).then(function() {
                        return runSpin(0)
                    });
                    var spinPromise = Promise.all([def.promise].concat(_toConsumableArray(spinDefers.map(function(d) {
                        return d.promise
                    }))));
                    return spinPromise
                }
            }, {
                key: "_stop",
                value: function _stop(_ref) {
                    var _this7 = this;
                    var unholdReels = _ref.unholdReels,
                        anticipationMap = _ref.anticipationMap,
                        normalState = _ref.normalState,
                        intervalNormal = _ref.intervalNormal,
                        intervalAnticipation = _ref.intervalAnticipation,
                        _ref$extraDelay = _ref.extraDelay,
                        extraDelay = _ref$extraDelay === void 0 ? 0 : _ref$extraDelay;
                    var quickSpin = this.quickSpin;
                    var turboStop = quickSpin && _app.default.config.get("Reel.turboStop");
                    var stopDefers = unholdReels.map(function() {
                        return _helpers.utils.deferred()
                    });
                    var stopDeltas = unholdReels.map(function(_ref2) {
                        var index = _ref2.index;
                        var isAnticipation = anticipationMap[index];
                        return isAnticipation ? intervalAnticipation : intervalNormal
                    });
                    var delayBeforeFirstStop = intervalNormal;
                    var measuredDurations = unholdReels.map(function(_ref3) {
                        var reel = _ref3.reel,
                            index = _ref3.index;
                        var isAnticipation = anticipationMap[index];
                        var stopType = isAnticipation ? _Reel.default.STATE.STOPPING_ANTICIPATION : normalState;
                        return reel.getMeasuredStopDuration(quickSpin, stopType)
                    });
                    if (quickSpin && _app.default.config.get("Reel.turboStop")) {
                        var cacheStopTimeCheck = this.reels.map(function(r) {
                            return r.cacheStopTime["Reel.STATE.STOPPING_true"]
                        }).filter(function(r) {
                            return r
                        });
                        if (new Set(cacheStopTimeCheck).size > 1) {
                            var maxStopTimeValue = Math.max.apply(Math, _toConsumableArray(cacheStopTimeCheck));
                            for (var i = 0; i < measuredDurations.length; i++) {
                                if (!anticipationMap[i]) {
                                    measuredDurations[i] = maxStopTimeValue
                                }
                            }
                            this.reels.forEach(function(r) {
                                return r.cacheStopTime = {}
                            })
                        }
                    }
                    var measuredDurationsNormal = unholdReels.map(function(_ref4) {
                        var reel = _ref4.reel;
                        return reel.getMeasuredStopDuration(quickSpin, normalState)
                    });
                    var now = Date.now();
                    var delays = unholdReels.reduce(function(delays, _ref5, unholdIndex) {
                        var reel = _ref5.reel,
                            index = _ref5.index;
                        if (unholdIndex === 0) {
                            delays[0] = 0
                        } else if (turboStop) {
                            delays[unholdIndex] = delays[unholdIndex - 1] + measuredDurations[unholdIndex - 1] - measuredDurationsNormal[unholdIndex]
                        } else {
                            delays[unholdIndex] = delays[unholdIndex - 1] + stopDeltas[unholdIndex] + measuredDurations[unholdIndex - 1] - measuredDurationsNormal[unholdIndex]
                        }
                        return delays
                    }, []);
                    var minStopDelay = Math.min.apply(Math, _toConsumableArray(delays));
                    if (minStopDelay < 0) {
                        delays = delays.map(function(d) {
                            return d - minStopDelay
                        })
                    }
                    delays = delays.map(function(d) {
                        return d + delayBeforeFirstStop + extraDelay
                    });
                    var firstReelIndex = (unholdReels[0] || {}).index;
                    var measuredStop = measuredDurations.map(function(d, i) {
                        return d + delays[i]
                    });
                    var stopTS = measuredStop.map(function(time) {
                        return now + time
                    });
                    unholdReels.forEach(function(_ref6, unholdIndex) {
                        var reel = _ref6.reel,
                            index = _ref6.index;
                        reel.once(_Reel.default.EVENT.STOP, function() {
                            return stopDefers[unholdIndex].resolve()
                        });
                        var isAnticipation = anticipationMap[index];
                        var ifFirstToStop = index === firstReelIndex;
                        var stopType = isAnticipation ? _Reel.default.STATE.STOPPING_ANTICIPATION : normalState;
                        var tween = _this7.tween().wait(delays[unholdIndex]).call(function() {
                            if (ifFirstToStop && isAnticipation) {
                                reel.emit(_Reel.default.EVENT.ANTICIPATION_STOPPING)
                            }
                            reel.stop(stopType, measuredStop[unholdIndex] - tween.position)
                        }).wait(1e5);
                        tween.advance(0);
                        if (!ifFirstToStop) {
                            var nextUnholdReelInfo = unholdReels[unholdIndex + 1];
                            if (nextUnholdReelInfo) {
                                var nextReel = nextUnholdReelInfo.reel,
                                    nextIndex = nextUnholdReelInfo.index;
                                var nextAnticipation = anticipationMap[nextIndex];
                                if (nextAnticipation && nextReel) {
                                    var emitAnticipationStopping = function emitAnticipationStopping() {
                                        if (_this7._skipping) return;
                                        nextReel.emit(_Reel.default.EVENT.ANTICIPATION_STOPPING)
                                    };
                                    reel.once(_Reel.default.EVENT.STOP_BEFORE_BACK_OUT, emitAnticipationStopping);
                                    nextReel.once(_Reel.default.EVENT.STOP, function() {
                                        reel.off(_Reel.default.EVENT.STOP_BEFORE_BACK_OUT, emitAnticipationStopping)
                                    })
                                }
                            }
                        }
                    });
                    return {
                        promise: Promise.all(_toConsumableArray(stopDefers.map(function(d) {
                            return d.promise
                        }))),
                        stopTS: stopTS
                    }
                }
            }, {
                key: "_skip",
                value: function _skip(_ref7) {
                    var unholdReels = _ref7.unholdReels,
                        stopTS = _ref7.stopTS;
                    this._skipping = true;
                    createjs.Tween.removeTweens(this);
                    var skippingReels = unholdReels.filter(function(_ref8) {
                        var reel = _ref8.reel;
                        return reel.skippable() && reel.needToCallStopOnSkip()
                    });
                    var now = Date.now();
                    var extraDelay = unholdReels.reduce(function(delay, _ref9, unholdIndex) {
                        var reel = _ref9.reel,
                            index = _ref9.index;
                        if (reel.skippable() && reel.needToCallStopOnSkip()) {
                            return delay
                        }
                        return Math.max(delay, stopTS[unholdIndex] - now)
                    }, 0);
                    return this._stop({
                        unholdReels: skippingReels,
                        anticipationMap: [],
                        normalState: _Reel.default.STATE.SKIPPING,
                        intervalNormal: _app.default.config.get("Reels.leaveTimeSkip"),
                        extraDelay: extraDelay
                    })
                }
            }, {
                key: "stop",
                value: function stop() {
                    var _this8 = this;
                    this.emit(Reels.WillStopEvent);
                    this._skipping = false;
                    var quickSpin = this.quickSpin;
                    var unholdReels = this.reels.map(function(reel, index) {
                        return {
                            reel: reel,
                            index: index
                        }
                    }).filter(function(_ref10) {
                        var reel = _ref10.reel;
                        return reel.state !== _Reel.default.STATE.HOLD
                    });
                    var _this$_stop = this._stop({
                            unholdReels: unholdReels,
                            anticipationMap: _app.default.model.anticipationMap(),
                            normalState: _Reel.default.STATE.STOPPING,
                            intervalNormal: _app.default.config.get("Reels.leaveTime".concat(quickSpin ? "Quick" : "")),
                            intervalAnticipation: _app.default.config.get("Reels.leaveTime".concat(quickSpin ? "Quick" : "", "Anticipation")),
                            extraDelay: 0
                        }),
                        stopPromise = _this$_stop.promise,
                        stopTS = _this$_stop.stopTS;
                    this.skipPressDefer.promise.then(function() {
                        return _this8._skip({
                            unholdReels: unholdReels,
                            stopTS: stopTS
                        }).promise
                    });
                    return stopPromise.then(function() {
                        _SkipController.default.off(_this8.skipPressDefer.resolve);
                        _this8.emit(Reels.StopEvent)
                    })
                }
            }, {
                key: "setSymbolsDeBlurState",
                value: function setSymbolsDeBlurState() {
                    if (_app.default.model.isBonusTrigger() || _app.default.model.winscatters().length) return;
                    this.reels.forEachSymbol(function(symbol) {
                        symbol.setDeBlurState()
                    });
                    var length = this.reels.oversizeSymbols.length;
                    for (var i = 0; i < length; i++) {
                        var r = this.reels.oversizeSymbols[i];
                        var reelLength = r.length;
                        for (var j = 0; j < reelLength; j++) {
                            var s = r[j];
                            if (s) {
                                s.setDeBlurState()
                            }
                        }
                    }
                }
            }, {
                key: "skip",
                value: function skip() {
                    this.skipPressDefer.resolve()
                }
            }, {
                key: "getSymbol",
                value: function getSymbol(col, row) {
                    return this.reels[col].getSymbol(row)
                }
            }, {
                key: "getSymbolPosition",
                value: function getSymbolPosition(col, row, from) {
                    var gp = this.reels[col].toGlobal(this.reels[col].getMeasuredSymbolPosition(row));
                    return from ? from.toLocal(gp) : gp
                }
            }, {
                key: "emit",
                value: function emit(event) {
                    var _PIXI$Container$proto;
                    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
                        args[_key - 1] = arguments[_key]
                    }(_PIXI$Container$proto = PIXI.Container.prototype.emit).call.apply(_PIXI$Container$proto, [this, event].concat(args));
                    _app.default.emit.apply(_app.default, [event, this].concat(args))
                }
            }]);
            return Reels
        }(PIXI.Container);
        exports.default = Reels;
        Reels.StartEvent = "Reels.StartEvent";
        Reels.StopEvent = "Reels.StopEvent";
        Reels.WillStopEvent = "Reels.WillStopEvent"
    }, {
        "../app": 33,
        "../controllers/SkipController": 68,
        "../helpers": 90,
        "./GameSymbol": 39,
        "./Reel": 42
    }],
    44: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;
        var _Background2 = _interopRequireDefault(require("core/components/Background"));
        var _Enums = require("core/core/Enums");
        var _app = require("core/app");

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var SpriteBackground = function(_Background) {
            _inherits(SpriteBackground, _Background);
            var _super = _createSuper(SpriteBackground);

            function SpriteBackground() {
                _classCallCheck(this, SpriteBackground);
                return _super.apply(this, arguments)
            }
            _createClass(SpriteBackground, [{
                key: "_preInit",
                value: function _preInit() {
                    this.back = this.addChild(new PIXI.Sprite)
                }
            }, {
                key: "use",
                value: function use(mode, force) {
                    if (this.mode !== mode) {
                        this.mode = mode;
                        if (this.mode in this.config) {
                            this.back.texture = PIXI.Texture.fromFrame("".concat(this.config[mode]))
                        }
                    }
                    return Promise.resolve()
                }
            }]);
            return SpriteBackground
        }(_Background2.default);
        exports.default = SpriteBackground;
        _app.Fabric.set(_Enums.Fabrics.BACKGROUND, SpriteBackground)
    }, {
        "core/app": 33,
        "core/components/Background": 34,
        "core/core/Enums": 73
    }],
    45: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;
        var _app = require("../../app");
        var _BigWinParams = require("./BigWinParams");
        var _BigWinEnums = require("./BigWinEnums");
        var _helpers = require("../../helpers");
        var _SkipController = _interopRequireDefault(require("../../controllers/SkipController"));
        var _BitmapCoinsText = require("../BitmapCoinsText");

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _toConsumableArray(arr) {
            return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread()
        }

        function _nonIterableSpread() {
            throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }

        function _unsupportedIterableToArray(o, minLen) {
            if (!o) return;
            if (typeof o === "string") return _arrayLikeToArray(o, minLen);
            var n = Object.prototype.toString.call(o).slice(8, -1);
            if (n === "Object" && o.constructor) n = o.constructor.name;
            if (n === "Map" || n === "Set") return Array.from(o);
            if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen)
        }

        function _iterableToArray(iter) {
            if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter)
        }

        function _arrayWithoutHoles(arr) {
            if (Array.isArray(arr)) return _arrayLikeToArray(arr)
        }

        function _arrayLikeToArray(arr, len) {
            if (len == null || len > arr.length) len = arr.length;
            for (var i = 0, arr2 = new Array(len); i < len; i++) {
                arr2[i] = arr[i]
            }
            return arr2
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }

        function _defineProperty(obj, key, value) {
            if (key in obj) {
                Object.defineProperty(obj, key, {
                    value: value,
                    enumerable: true,
                    configurable: true,
                    writable: true
                })
            } else {
                obj[key] = value
            }
            return obj
        }
        var BigWin = function(_PIXI$Container) {
            _inherits(BigWin, _PIXI$Container);
            var _super = _createSuper(BigWin);

            function BigWin(params) {
                var _this;
                _classCallCheck(this, BigWin);
                _this = _super.call(this);
                _this.params = params || new _BigWinParams.BigWinParams;
                _this.bigWinType = _BigWinEnums.BigWinType.NO_BIG_WIN;
                _this.roundWinCount = 0;
                _this.interactiveChildren = true;
                _this.playDeferred = _helpers.utils.deferred();
                _this.onLastState = false;
                _this.hiden = false;
                _this.currentStep = _BigWinEnums.BigWinType.NO_BIG_WIN;
                _this._initView();
                _app.app.board.addChild(_assertThisInitialized(_this));
                return _this
            }
            _createClass(BigWin, [{
                key: "play",
                value: function play() {
                    var _this2 = this;
                    var roundWin = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
                    this.bigWinType = BigWin.getBigWinType(roundWin);
                    if (this.bigWinType === _BigWinEnums.BigWinType.NO_BIG_WIN) return Promise.resolve();
                    this.roundWinCount = roundWin;
                    this.withoutCounter = _app.app.config.get("Board.bigwinWithoutCounter");
                    var animationStartTime = this.withoutCounter ? this.params.stepCountTimes[0] / 1e3 : 0;
                    this.spine.scale.set(this._calculateScale(roundWin));
                    this.spine.state.setAnimation(0, this.params.animations[this.bigWinType], false);
                    this.spine.state.tracks[0].trackTime = animationStartTime;
                    this.spine.update(0);
                    this.spine.state.on(PIXI.spine.core.AnimationState.COMPLETE, this.onCompleteSpineAnimation, this);
                    this._addListeners();
                    _helpers.utils.wait(this.params.stepCountTimes[0]).then(function() {
                        !_this2.hiden && _this2.background.tween(true).to({
                            alpha: 1
                        }, 300)
                    });
                    this._onPlay();
                    return this.playDeferred.promise
                }
            }, {
                key: "onCompleteSpineAnimation",
                value: function onCompleteSpineAnimation() {
                    this.stop()
                }
            }, {
                key: "stop",
                value: function stop() {
                    var _this3 = this;
                    this._onStop().then(function() {
                        return _this3.hide()
                    })
                }
            }, {
                key: "skip",
                value: function skip() {
                    if (_app.app.controllers.flow.isStream()) return;
                    this._onSkip()
                }
            }, {
                key: "hide",
                value: function hide() {
                    var _this4 = this;
                    if (this.hiden) return;
                    this.hiden = true;
                    this.interactiveChildren = false;
                    this.spine.tween(true).to({
                        alpha: 0
                    }, 500);
                    this.background.tween(true).to({
                        alpha: 0
                    }, 500);
                    _helpers.utils.wait(3e3).then(function() {
                        return _this4.dispose()
                    })
                }
            }, {
                key: "dispose",
                value: function dispose() {
                    this.skipContainer.off("pointerdown");
                    this.skipContainer && this.skipContainer.destroy();
                    this.children.length && this.removeChildren();
                    _SkipController.default.off(this.skip);
                    return this._onDispose()
                }
            }, {
                key: "getContainer",
                value: function getContainer() {
                    return null
                }
            }, {
                key: "_addListeners",
                value: function _addListeners() {
                    var _this5 = this;
                    _SkipController.default.on(this.skip, this);
                    GR.Events.flow.round_start.on(this.skip, this);
                    _app.app.once(_app.GameEvent.BigWinSkip, function() {
                        _SkipController.default.off(_this5.skip, _this5);
                        GR.Events.flow.round_start.off(_this5.skip, _this5);
                        _this5.skipContainer.off("pointerdown")
                    });
                    _app.app.once(_app.GameEvent.BigWinStop, function() {
                        return GR.Events.flow.round_start.off(_this5.skip, _this5)
                    });
                    _app.app.emit(_app.GameEvent.BigWin)
                }
            }, {
                key: "_onPlay",
                value: function _onPlay() {
                    return this._playAnimations()
                }
            }, {
                key: "_onStop",
                value: function _onStop() {
                    var _this6 = this;
                    this.stopPromise = this.stopPromise || new Promise(function(resolve) {
                        _this6.onLastState = true;
                        _this6.spine.state.off(PIXI.spine.core.AnimationState.COMPLETE, _this6.onCompleteSpineAnimation, _this6);
                        _this6._showFinalResult();
                        _this6._stopParticles();
                        GR.UI.model.set("controls.available", true);
                        _app.app.emit(_app.GameEvent.BigWinFinalState);
                        _this6.tween().wait(_this6.params.finalResultTime).call(function() {
                            return _app.app.emit(_app.GameEvent.BigWinStop, _this6.bigWinType)
                        }).call(function() {
                            _this6.playDeferred.resolve();
                            resolve()
                        })
                    });
                    return this.stopPromise
                }
            }, {
                key: "_onDispose",
                value: function _onDispose() {
                    this.spine.destroy();
                    this.removeFromParent()
                }
            }, {
                key: "_onSkip",
                value: function _onSkip() {
                    _app.app.emit(_app.GameEvent.BigWinSkip, this.bigWinType);
                    this.currentStep = this.bigWinType;
                    if (this.onLastState) {
                        this.playDeferred.resolve();
                        this.hide()
                    } else {
                        this.stop()
                    }
                }
            }, {
                key: "_initView",
                value: function _initView() {
                    var _this7 = this;
                    this.background = this.addChild(new PIXI.Graphics);
                    this.background.beginFill(0, .3);
                    this.background.drawRect(this.params.positions.x, this.params.positions.y, this.params.appWidth, this.params.appHeight);
                    this.background.endFill();
                    this.background.alpha = 0;
                    this.coinsAnimation = this.addChild(new this.params.particleClass(new this.params.particleClassParams));
                    this.coinsAnimation.pivot.x = .5;
                    this.coinsAnimation.pivot.y = .5;
                    this.spine = this.addChild(PIXI.spine.Spine.fromLoader(this.params.spineName));
                    var animation = this.spine.spineData.findAnimation(this.params.defaultAnimationName);
                    animation.apply(this.spine.skeleton, 0);
                    this.spine.position.set(this.params.spinePosition.x, this.params.spinePosition.y);
                    this.spine.autoUpdate = true;
                    this.coinsText = this.addChild(new _BitmapCoinsText.BitmapCoinsText(1, this.params.counterStyle));
                    this.coinsText.anchor.set(.5, .5);
                    this._addCounterToSpine();
                    this.skipContainer = this.addChild(new PIXI.Container);
                    this.skipContainer.interactive = true;
                    this.skipContainer.on("pointerdown", function() {
                        return _this7.skip()
                    });
                    this.skipContainer.hitArea = new PIXI.Rectangle(this.params.positions.x, this.params.positions.y, this.params.appWidth, this.params.appHeight)
                }
            }, {
                key: "_addCounterToSpine",
                value: function _addCounterToSpine() {
                    BigWin.replaceSpineSprite(this.spine, this.params.spineCounterName, this.coinsText, this.params.defaultAnimationName)
                }
            }, {
                key: "_showFinalResult",
                value: function _showFinalResult() {
                    if (_app.app.model.canAction("spin")) {
                        GR.UI.model.set("last_win", _app.app.model.get("game.last_win", 0))
                    }
                    GR.UI.model.set("total_win", _app.app.model.current("total_win", 0));
                    GR.UI.model.set("balance", _app.app.model.get("user.balance"));
                    GR.UI.model.set("freebet.total_win", _app.app.model.get("freebet.total_win", 0));
                    createjs.Tween.removeTweens(this.coinsText);
                    var roundBet = _app.app.model.get("game.round_bet");
                    var multipliers = _app.app.model.bigWinMultipliers();
                    this.coinsText.coins = this.roundWinCount > roundBet * multipliers[this.bigWinType] ? roundBet * multipliers[this.bigWinType] : this.roundWinCount;
                    if (!this.coinsAnimation.emittersList.length && !this.onLastState) this.coinsAnimation.play();
                    this.spine.autoUpdate = false;
                    this.spine.state.tracks[0].trackTime = BigWin.getSpineDuration(this.spine, this.params.animations[this.bigWinType]);
                    this.spine.update(0)
                }
            }, {
                key: "_showBackgroundAnimation",
                value: function _showBackgroundAnimation() {}
            }, {
                key: "_onBigWinStep",
                value: function _onBigWinStep(step) {
                    this.currentStep = step;
                    if (this.currentStep === _BigWinEnums.BigWinType.BIG_WIN) {
                        GR.UI.model.set("controls.available", false);
                        _app.app.emit(_app.GameEvent.BigWinStart, this.roundWinCount);
                        _app.app.emit(_app.GameEvent.BigWinSchetStart);
                        this._showBackgroundAnimation();
                        this._playParticles()
                    }
                    _app.app.emit(_app.GameEvent.BigWinStep, this.currentStep, this.bigWinType)
                }
            }, {
                key: "_playAnimations",
                value: function _playAnimations() {
                    var list = [];
                    list.push.apply(list, _toConsumableArray(this._getCounterAnimationsList()));
                    return _helpers.utils.Q(list)
                }
            }, {
                key: "_playParticles",
                value: function _playParticles() {
                    this.coinsAnimation.play()
                }
            }, {
                key: "_stopParticles",
                value: function _stopParticles() {
                    this.coinsAnimation.stop()
                }
            }, {
                key: "_getCounterAnimationsList",
                value: function _getCounterAnimationsList() {
                    var _this8 = this;
                    var list = [];
                    var roundWin = _app.app.model.current("round_win", 0);
                    var roundBet = _app.app.model.get("game.round_bet");
                    var multipliers = _app.app.model.bigWinMultipliers();
                    var diff = this.params.differenceInDuration;
                    var stepToStart = 0;
                    if (this.withoutCounter) {
                        var startCoinsText = (_app.app.model.bigWinMultipliers()[0] - diff) * roundBet;
                        this.coinsText.coins = startCoinsText;
                        stepToStart = 1
                    }
                    var _loop = function _loop(i) {
                        var count = _this8.roundWinCount > roundBet * (multipliers[i] - diff) && i !== _this8.bigWinType ? roundBet * (multipliers[i] - diff) : _this8.roundWinCount;
                        var step = i;
                        list.push(function() {
                            return new Promise(function(resolve) {
                                _this8.coinsText.tween(true).setFPS(_this8.params.counterFPS).call(function() {
                                    return _this8._onBigWinStep(step)
                                }).to({
                                    coins: count
                                }, _this8.params.stepCountTimes[step]).call(function() {
                                    if (i === _this8.bigWinType) {
                                        _this8._stopParticles();
                                        _app.app.emit(_app.GameEvent.BigWinCountStop)
                                    }
                                    resolve()
                                }).on("change", function() {
                                    if (_app.app.model.canAction("spin")) {
                                        GR.UI.model.set("last_win", _this8.coinsText.coins)
                                    }
                                    GR.UI.model.set("total_win", _app.app.model.current("total_win", 0) - roundWin + _this8.coinsText.coins);
                                    GR.UI.model.set("balance", _app.app.model.get("user.balance") - roundWin + _this8.coinsText.coins);
                                    GR.UI.model.set("freebet.total_win", _app.app.model.get("freebet.total_win", 0) - roundWin + _this8.coinsText.coins)
                                })
                            })
                        })
                    };
                    for (var i = stepToStart; i <= this.bigWinType; i++) {
                        _loop(i)
                    }
                    return list
                }
            }, {
                key: "_calculateScale",
                value: function _calculateScale(roundWin) {
                    var scale = 1;
                    if (!_app.app.config.get("Board.scaleCounter")) return scale;
                    var finalScalesMap = [1.14, 1.33, 1.52];
                    var boardWidth = _app.app.config.get("Screen.available") ? _app.app.config.get("Screen.boardWidth") : _app.app.board.reels.width;
                    var scaleChecker = new _BitmapCoinsText.BitmapCoinsText(0, this.params.counterStyle);
                    scaleChecker.scale.set(finalScalesMap[this.bigWinType - 1]);
                    scaleChecker.coins = roundWin;
                    if (scaleChecker.width > boardWidth) scale = boardWidth / scaleChecker.width;
                    return scale
                }
            }], [{
                key: "getBigWinType",
                value: function getBigWinType(roundWin) {
                    var roundBet = _app.app.model.get("game.round_bet");
                    var multipliers = _app.app.model.bigWinMultipliers();
                    for (var i = 0; i < multipliers.length; ++i) {
                        if (roundWin < roundBet * multipliers[i]) return i
                    }
                    return multipliers.length
                }
            }, {
                key: "getSpineDuration",
                value: function getSpineDuration(spine, animation) {
                    var data = spine.spineData.findAnimation(animation);
                    if (!data) {
                        throw new Error("Spine.getDuration: animation ".concat(animation, " is not found."))
                    }
                    return Math.round(data.duration * 1e3)
                }
            }, {
                key: "getSpineSprite",
                value: function getSpineSprite(spine, name) {
                    return spine.skeleton.findSlot(name).currentSprite
                }
            }, {
                key: "replaceSpineSprite",
                value: function replaceSpineSprite(spine, name, object, animationName) {
                    BigWin.getSpineDuration(spine, animationName);
                    var sprite = BigWin.getSpineSprite(spine, name);
                    sprite.texture = PIXI.Texture.EMPTY;
                    sprite.addChild(object)
                }
            }]);
            return BigWin
        }(PIXI.Container);
        exports.default = BigWin;
        _defineProperty(BigWin, "SKIPPABLE", false);
        BigWin.SKIPPABLE = false
    }, {
        "../../app": 33,
        "../../controllers/SkipController": 68,
        "../../helpers": 90,
        "../BitmapCoinsText": 36,
        "./BigWinEnums": 46,
        "./BigWinParams": 47
    }],
    46: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.BigWinType = void 0;
        var BigWinType = Object.freeze({
            NO_BIG_WIN: 0,
            BIG_WIN: 1,
            SUPER_WIN: 2,
            MEGA_WIN: 3
        });
        exports.BigWinType = BigWinType
    }, {}],
    47: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;
        var _app = require("core/app");
        var _CoinsFountain = _interopRequireDefault(require("./particle/coinsFountain/CoinsFountain"));
        var _CoinsFountainParams = _interopRequireDefault(require("./particle/coinsFountain/CoinsFountainParams"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperty(obj, key, value) {
            if (key in obj) {
                Object.defineProperty(obj, key, {
                    value: value,
                    enumerable: true,
                    configurable: true,
                    writable: true
                })
            } else {
                obj[key] = value
            }
            return obj
        }
        var BigWinParams = _createClass(function BigWinParams() {
            _classCallCheck(this, BigWinParams);
            this.spineName = BigWinParams.spineName;
            this.spineCounterName = "counter_placeholder";
            this.screenAvailable = _app.app.config.get("Screen.available");
            this.appWidth = this.screenAvailable ? _app.app.config.get("Screen.backWidth") : _app.app.config.get("App.width");
            this.appHeight = this.screenAvailable ? _app.app.config.get("Screen.backHeight") : _app.app.config.get("App.height");
            this.positions = new PIXI.Point;
            this.positions.x = this.screenAvailable ? _app.app.board.pivotX - _app.app.board.x : 0;
            this.positions.y = this.screenAvailable ? -_app.app._stageWrapper.pivotY : 0;
            this.spinePosition = new PIXI.Point;
            this.spinePosition.x = _app.app.config.get("App.width") / 2;
            this.spinePosition.y = _app.app.config.get("App.height") / 2 + 50;
            this.step = 1;
            this.stepCountTimes = [1166, 5200, 5200, 5200];
            this.differenceInDuration = 5;
            this.finalResultTime = 1e3;
            this.counterFPS = 15;
            this.counterStyle = {
                font: "106px bitmapfont"
            };
            this.animations = ["0", "BigWin", "SuperWin", "MegaWin"];
            this.defaultAnimationName = "BigWin";
            this.particleClass = _CoinsFountain.default;
            this.particleClassParams = _CoinsFountainParams.default
        });
        exports.default = BigWinParams;
        _defineProperty(BigWinParams, "spineName", "bigwin")
    }, {
        "./particle/coinsFountain/CoinsFountain": 48,
        "./particle/coinsFountain/CoinsFountainParams": 49,
        "core/app": 33
    }],
    48: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;
        var _helpers = require("core/helpers");
        var _CoinsFountainParams = _interopRequireDefault(require("./CoinsFountainParams"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var CoinsFountain = function(_PIXI$Container) {
            _inherits(CoinsFountain, _PIXI$Container);
            var _super = _createSuper(CoinsFountain);

            function CoinsFountain(params) {
                var _this;
                _classCallCheck(this, CoinsFountain);
                _this = _super.call(this);
                _this.params = params || new _CoinsFountainParams.default;
                _this.params.init();
                _this.emittersList = [];
                var _this$params$emitterP = _this.params.emitterPosition,
                    x = _this$params$emitterP.x,
                    y = _this$params$emitterP.y;
                _this.position.set(x, y);
                _this.isSkipped = false;
                return _this
            }
            _createClass(CoinsFountain, [{
                key: "play",
                value: function play() {
                    var _this2 = this;
                    var _this$params = this.params,
                        emitterConfig = _this$params.emitterConfig,
                        emitterImages = _this$params.emitterImages,
                        emittersCount = _this$params.emittersCount;
                    var _this$params2 = this.params,
                        emitterStartAngle = _this$params2.emitterStartAngle,
                        emitterEndAngle = _this$params2.emitterEndAngle,
                        emitterAccelerationX = _this$params2.emitterAccelerationX,
                        emitterAccelerationY = _this$params2.emitterAccelerationY,
                        emitterMinRotationSpeed = _this$params2.emitterMinRotationSpeed,
                        emitterScaleStart = _this$params2.emitterScaleStart,
                        emitterScaleEnd = _this$params2.emitterScaleEnd;
                    var emitterAngleStep = (emitterEndAngle - emitterStartAngle) / (emittersCount > 1 ? emittersCount - 1 : 2);
                    var _loop = function _loop(i) {
                        var config = Object.assign({}, emitterConfig);
                        var images = Object.assign({}, emitterImages);
                        var angle = emitterStartAngle + (emittersCount > 1 ? emitterAngleStep * i : emitterAngleStep);
                        config.startRotation.min = angle;
                        config.startRotation.max = angle;
                        config.acceleration.x = emittersCount > 1 ? emitterAccelerationX - 2 * emitterAccelerationX / (emittersCount - 1) * i : 0;
                        config.acceleration.y = emitterAccelerationY;
                        config.scale.start = emitterScaleStart;
                        config.scale.end = emitterScaleEnd;
                        images.framerate = emitterMinRotationSpeed + parseInt(Math.random() * 6);
                        var emitter = new PIXI.particles.Emitter(_this2, images, config);
                        emitter.particleConstructor = PIXI.particles.AnimatedParticle;
                        _helpers.utils.wait(parseInt(Math.random() * 80)).then(function() {
                            if (_this2.isSkipped) {
                                emitter.destroy();
                                return
                            }
                            emitter.playOnceAndDestroy(function() {
                                return _this2._onComplete()
                            })
                        });
                        _this2.emittersList.push(emitter)
                    };
                    for (var i = 0; i < emittersCount; i++) {
                        _loop(i)
                    }
                }
            }, {
                key: "_onComplete",
                value: function _onComplete() {}
            }, {
                key: "stop",
                value: function stop() {
                    this.isSkipped = true;
                    this.emittersList.length && this.emittersList.forEach(function(emitter) {
                        emitter.emit = false
                    });
                    this.emittersList = []
                }
            }]);
            return CoinsFountain
        }(PIXI.Container);
        exports.default = CoinsFountain
    }, {
        "./CoinsFountainParams": 49,
        "core/helpers": 90
    }],
    49: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;
        var _app = require("core/app");

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }
        var CoinsFountainParams = function() {
            function CoinsFountainParams() {
                _classCallCheck(this, CoinsFountainParams);
                this.emittersCount = 9;
                this.emitterStartAngle = 255;
                this.emitterEndAngle = 285;
                this.emitterMinRotationSpeed = 28;
                this.emitterSpawnRectWidth = 150;
                this.emitterScaleStart = .3;
                this.emitterScaleEnd = 1.2;
                this.emitterAccelerationX = 0;
                this.emitterAccelerationY = 720;
                this.coinsStartScale = null;
                this.coinsEndScale = null;
                this.imagesNamePattern = /^coins\/coin_\d+/;
                this.imagesAnimationName = "coins_animation";
                this.emitterDataName = "bw_emitter"
            }
            _createClass(CoinsFountainParams, [{
                key: "init",
                value: function init() {
                    PIXI.utils.AnimationCache.add(this.imagesAnimationName, null, this.imagesNamePattern);
                    this.emitterImages = {
                        framerate: 24,
                        loop: true,
                        textures: PIXI.utils.AnimationCache.get(this.imagesAnimationName).frames
                    };
                    this.emitterConfig = _app.app.loader.resources[this.emitterDataName].data;
                    this.emitterConfig.spawnRect.w = this.emitterSpawnRectWidth;
                    this.emitterPosition = new PIXI.Point(0, 0);
                    this.emitterPosition.x = (_app.app.config.get("App.width") - this.emitterSpawnRectWidth) / 2;
                    this.emitterPosition.y = _app.app.config.get("Board.coinsY");
                    this.emitterConfig.scale.start = this.coinsStartScale ? this.coinsStartScale : this.emitterConfig.scale.start;
                    this.emitterConfig.scale.end = this.coinsEndScale ? this.coinsEndScale : this.emitterConfig.scale.end
                }
            }]);
            return CoinsFountainParams
        }();
        exports.default = CoinsFountainParams
    }, {
        "core/app": 33
    }],
    50: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;
        var _app = require("core/app");

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperty(obj, key, value) {
            if (key in obj) {
                Object.defineProperty(obj, key, {
                    value: value,
                    enumerable: true,
                    configurable: true,
                    writable: true
                })
            } else {
                obj[key] = value
            }
            return obj
        }
        var GamePopupParams = _createClass(function GamePopupParams() {
            _classCallCheck(this, GamePopupParams);
            this.spineName = GamePopupParams.spineName;
            this.spineCounterName = "counter_placeholder";
            this.spineFirstTextName = "text_1";
            this.spineSecondTextName = "text_2";
            this.screenAvailable = _app.app.config.get("Screen.available");
            this.appWidth = this.screenAvailable ? _app.app.config.get("Screen.backWidth") : _app.app.config.get("App.width");
            this.appHeight = this.screenAvailable ? _app.app.config.get("Screen.backHeight") : _app.app.config.get("App.height");
            this.positions = new PIXI.Point;
            this.positions.x = this.screenAvailable ? Math.round(_app.app.config.get("App.width") / 2) - _app.app.config.get("Screen.backWidth") / 2 : 0;
            this.positions.y = this.screenAvailable ? -_app.app._stageWrapper.pivotY : 0;
            this.spinePosition = new PIXI.Point;
            this.spinePosition.x = _app.app.config.get("App.width") / 2;
            this.spinePosition.y = _app.app.config.get("App.height") / 2 + 60;
            this.showTime = 500;
            this.hideTime = 1e3;
            this.alphaValue = .6;
            this.counterStyle = {
                font: "106px bitmapfont"
            };
            this.textStyle = {
                fontFamily: "Roboto-Bold",
                fill: "#ffffff",
                fontSize: "40px",
                useSystemFont: false
            };
            this.defaultAnimationName = "FreeSpins"
        });
        exports.default = GamePopupParams;
        _defineProperty(GamePopupParams, "spineName", "game_popups");
        _defineProperty(GamePopupParams, "FREESPINS", "FreeSpins");
        _defineProperty(GamePopupParams, "ADDITIONAL_FREESPINS", "AddFreeSpins");
        _defineProperty(GamePopupParams, "BONUS_START", "StartBonus");
        _defineProperty(GamePopupParams, "BONUS_WIN", "BonusWin");
        _defineProperty(GamePopupParams, "TOTAL_WIN", "TotalWin")
    }, {
        "core/app": 33
    }],
    51: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;
        var _app = _interopRequireDefault(require("core/app"));
        var _helpers = require("core/helpers");
        var _SkipController = _interopRequireDefault(require("core/controllers/SkipController"));
        var _Enums = _interopRequireDefault(require("core/core/Enums"));
        var _GamePopupParams = _interopRequireDefault(require("./GamePopupParams"));
        var _AssetsHelper = _interopRequireDefault(require("../../helpers/AssetsHelper"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
            try {
                var info = gen[key](arg);
                var value = info.value
            } catch (error) {
                reject(error);
                return
            }
            if (info.done) {
                resolve(value)
            } else {
                Promise.resolve(value).then(_next, _throw)
            }
        }

        function _asyncToGenerator(fn) {
            return function() {
                var self = this,
                    args = arguments;
                return new Promise(function(resolve, reject) {
                    var gen = fn.apply(self, args);

                    function _next(value) {
                        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value)
                    }

                    function _throw(err) {
                        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err)
                    }
                    _next(undefined)
                })
            }
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var GamePopups = function(_PIXI$Container) {
            _inherits(GamePopups, _PIXI$Container);
            var _super = _createSuper(GamePopups);

            function GamePopups() {
                var _this;
                _classCallCheck(this, GamePopups);
                _this = _super.call(this);
                _this.alpha = 0;
                _this.spineAnimation = "FreeSpins";
                _this.interactiveChildren = false;
                _this.interactive = false;
                _this.playDeferred = null;
                _this.emmited = false;
                _this.skipped = false;
                _this.params = new _GamePopupParams.default;
                return _this
            }
            _createClass(GamePopups, [{
                key: "show",
                value: function() {
                    var _show = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {
                        var name, win, _args = arguments;
                        return regeneratorRuntime.wrap(function _callee$(_context) {
                            while (1) {
                                switch (_context.prev = _context.next) {
                                    case 0:
                                        name = _args.length > 0 && _args[0] !== undefined ? _args[0] : "";
                                        win = _args.length > 1 && _args[1] !== undefined ? _args[1] : 0;
                                        this.spineAnimation = name.length > 0 ? name : this.spineAnimation;
                                        this.interactiveChildren = true;
                                        this.interactive = true;
                                        _context.next = 7;
                                        return GamePopups.checkPopupsAssetsReady();
                                    case 7:
                                        this._initView();
                                        this.alpha = 1;
                                        this.background.alpha = 0;
                                        this.playDeferred = _helpers.utils.deferred();
                                        this.spine.alpha = 1;
                                        createjs.Tween.removeTweens(this);
                                        createjs.Tween.removeTweens(this.background);
                                        this.tween(true).wait(50).to({
                                            alpha: 1
                                        }, 50);
                                        this.background.tween(true).to({
                                            alpha: this.params.alphaValue
                                        }, this.params.showTime);
                                        this.spine.state.setAnimation(0, this.spineAnimation, false);
                                        this.spine.update(0);
                                        this.spine.autoUpdate = true;
                                        this.spine.state.once(PIXI.spine.core.AnimationState.COMPLETE, this.onCompleteSpineAnimation, this);
                                        _app.default.emit(_Enums.default.BasePopupPlay);
                                        GR.UI.model.set("controls.available", false);
                                        this._addListeners();
                                        return _context.abrupt("return", this.playDeferred.promise);
                                    case 24:
                                    case "end":
                                        return _context.stop()
                                }
                            }
                        }, _callee, this)
                    }));

                    function show() {
                        return _show.apply(this, arguments)
                    }
                    return show
                }()
            }, {
                key: "onCompleteSpineAnimation",
                value: function onCompleteSpineAnimation() {
                    _app.default.emit(_Enums.default.LabelPopupShow);
                    this.stop()
                }
            }, {
                key: "stop",
                value: function stop() {
                    var _this2 = this;
                    _app.default.emit(_Enums.default.BasePopupStop);
                    _app.default.emit(_Enums.default.LabelPopupShow);
                    var time = this.skipped ? 2e3 : 1;
                    this.spine.state.off(PIXI.spine.core.AnimationState.COMPLETE, this.onCompleteSpineAnimation, this);
                    this.spine.autoUpdate = false;
                    this.spine.state.tracks[0].trackTime = PIXI.spine.Spine.getSpineDuration(this.spine, this.spineAnimation);
                    this.spine.update(0);
                    this._removeListeners();
                    _helpers.utils.wait(time).then(function() {
                        return _this2.playDeferred.resolve()
                    })
                }
            }, {
                key: "setBackAlpha",
                value: function setBackAlpha() {
                    var _this3 = this;
                    if (!this.background) return Promise.resolve();
                    return this.background.tween(true).wait(100).call(function() {
                        _this3.spine.tween(true).to({
                            alpha: 0
                        }, _this3.params.hideTime)
                    }).to({
                        alpha: 1
                    }, 250).promise()
                }
            }, {
                key: "hide",
                value: function hide() {
                    var _this4 = this;
                    if (!this) return Promise.resolve();
                    if (!this.background) return Promise.resolve();
                    createjs.Tween.removeTweens(this);
                    createjs.Tween.removeTweens(this.background);
                    GR.UI.model.set("controls.available", true);
                    return this.tween(true).to({
                        alpha: 0
                    }, this.params.hideTime).call(function() {
                        _this4.background.removeFromParent();
                        if (_this4.spine && !_this4.spine._destroyed) {
                            _this4.spine.removeFromParent();
                            _this4.spine.destroy();
                            _this4.spine = null
                        }
                        _this4.interactiveChildren = false;
                        _this4.interactive = false;
                        _this4.skipped = false
                    }).promise()
                }
            }, {
                key: "skip",
                value: function skip() {
                    if (_app.default.controllers.flow.isStream()) return;
                    this.skipped = true;
                    this.stop()
                }
            }, {
                key: "_initView",
                value: function _initView() {
                    this.background = this.addChild(new PIXI.Graphics);
                    this.background.beginFill(0, 1);
                    this.background.drawRect(this.params.positions.x, this.params.positions.y, this.params.appWidth, this.params.appHeight);
                    this.background.endFill();
                    this.background.alpha = 0;
                    this.spine = this.addChild(PIXI.spine.Spine.fromLoader(this.params.spineName));
                    var animation = this.spine.spineData.findAnimation(this.spineAnimation);
                    animation.apply(this.spine.skeleton, 1e3);
                    this.spine.position.set(this.params.spinePosition.x, this.params.spinePosition.y);
                    this.spine.autoUpdate = true;
                    this.spine.update(0);
                    this.skipContainer = this.addChild(new PIXI.Container);
                    this.skipContainer.interactive = true;
                    this.skipContainer.hitArea = new PIXI.Rectangle(this.params.positions.x, this.params.positions.y, this.params.appWidth, this.params.appHeight)
                }
            }, {
                key: "_addListeners",
                value: function _addListeners() {
                    _SkipController.default.on(this.skip, this);
                    GR.Events.flow.round_start.on(this.skip, this);
                    this.skipContainer.on("pointerdown", this.skip, this)
                }
            }, {
                key: "_removeListeners",
                value: function _removeListeners() {
                    _SkipController.default.off(this.skip, this);
                    GR.Events.flow.round_start.off(this.skip, this);
                    this.skipContainer.off("pointerdown");
                    this.skipContainer.removeFromParent();
                    this.skipContainer = null
                }
            }], [{
                key: "checkPopupsAssetsReady",
                value: function checkPopupsAssetsReady() {
                    if (!_AssetsHelper.default.isSpineLoaded("game_popups")) {
                        return _AssetsHelper.default.loadDemand("game_popups", true)
                    }
                    return Promise.resolve()
                }
            }, {
                key: "getWinType",
                value: function getWinType(roundWin) {
                    var roundBet = _app.default.model.get("game.round_bet");
                    var multipliers = [50, 100];
                    for (var i = 0; i < multipliers.length; ++i) {
                        if (roundWin < roundBet * multipliers[i]) return i
                    }
                    return multipliers.length
                }
            }]);
            return GamePopups
        }(PIXI.Container);
        exports.default = GamePopups
    }, {
        "../../helpers/AssetsHelper": 86,
        "./GamePopupParams": 50,
        "core/app": 33,
        "core/controllers/SkipController": 68,
        "core/core/Enums": 73,
        "core/helpers": 90
    }],
    52: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;
        var _app = _interopRequireDefault(require("core/app"));
        var _index = require("core/helpers/index");
        var _BitmapCoinsText = require("core/components/BitmapCoinsText");
        var _CoinsFountain = _interopRequireDefault(require("core/components/bigwin/particle/coinsFountain/CoinsFountain"));
        var _CoinsFountainParams = _interopRequireDefault(require("core/components/bigwin/particle/coinsFountain/CoinsFountainParams"));
        var _Enums = _interopRequireDefault(require("core/core/Enums"));
        var _GamePopups2 = _interopRequireDefault(require("core/components/popups/GamePopups"));
        var _GamePopupParams = _interopRequireDefault(require("core/components/popups/GamePopupParams"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
            try {
                var info = gen[key](arg);
                var value = info.value
            } catch (error) {
                reject(error);
                return
            }
            if (info.done) {
                resolve(value)
            } else {
                Promise.resolve(value).then(_next, _throw)
            }
        }

        function _asyncToGenerator(fn) {
            return function() {
                var self = this,
                    args = arguments;
                return new Promise(function(resolve, reject) {
                    var gen = fn.apply(self, args);

                    function _next(value) {
                        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value)
                    }

                    function _throw(err) {
                        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err)
                    }
                    _next(undefined)
                })
            }
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _get() {
            if (typeof Reflect !== "undefined" && Reflect.get) {
                _get = Reflect.get
            } else {
                _get = function _get(target, property, receiver) {
                    var base = _superPropBase(target, property);
                    if (!base) return;
                    var desc = Object.getOwnPropertyDescriptor(base, property);
                    if (desc.get) {
                        return desc.get.call(arguments.length < 3 ? target : receiver)
                    }
                    return desc.value
                }
            }
            return _get.apply(this, arguments)
        }

        function _superPropBase(object, property) {
            while (!Object.prototype.hasOwnProperty.call(object, property)) {
                object = _getPrototypeOf(object);
                if (object === null) break
            }
            return object
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var TotalWin = function(_GamePopups) {
            _inherits(TotalWin, _GamePopups);
            var _super = _createSuper(TotalWin);

            function TotalWin() {
                var _this;
                _classCallCheck(this, TotalWin);
                _this = _super.call(this);
                _this.spineAnimation = _GamePopupParams.default.TOTAL_WIN;
                _this.coins = 0;
                _this.coinsText = new _BitmapCoinsText.BitmapCoinsText(0, {
                    font: "120px bitmapfont"
                });
                _this.coinsText.anchor.set(.5, .5);
                _this.isSkip = false;
                return _this
            }
            _createClass(TotalWin, [{
                key: "show",
                value: function() {
                    var _show = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {
                        var name, win, _args = arguments;
                        return regeneratorRuntime.wrap(function _callee$(_context) {
                            while (1) {
                                switch (_context.prev = _context.next) {
                                    case 0:
                                        name = _args.length > 0 && _args[0] !== undefined ? _args[0] : "";
                                        win = _args.length > 1 && _args[1] !== undefined ? _args[1] : 0;
                                        this.spineAnimation = name.length > 0 ? name : _GamePopupParams.default.TOTAL_WIN;
                                        _context.next = 5;
                                        return _GamePopups2.default.checkPopupsAssetsReady();
                                    case 5:
                                        this._initView();
                                        this._setDefaultValues(win);
                                        this.tween(true).wait(50).to({
                                            alpha: 1
                                        }, 50);
                                        this.background.tween(true).to({
                                            alpha: .8
                                        }, this.params.showTime);
                                        _app.default.board.labelWinContainer.hideFromView();
                                        this._showAnimation(win);
                                        this._playCoins(win);
                                        GR.UI.model.set("controls.available", false);
                                        this._addListeners();
                                        return _context.abrupt("return", this.playDeferred.promise);
                                    case 15:
                                    case "end":
                                        return _context.stop()
                                }
                            }
                        }, _callee, this)
                    }));

                    function show() {
                        return _show.apply(this, arguments)
                    }
                    return show
                }()
            }, {
                key: "skip",
                value: function skip() {
                    if (_app.default.controllers.flow.isStream()) return;
                    this.coinsAnimation && this.coinsAnimation.stop();
                    createjs.Tween.removeTweens(this.coinsText);
                    this.coinsText.coins = this.coins;
                    _app.default.emit("TotalWinSkip");
                    this.isSkip = true;
                    return _get(_getPrototypeOf(TotalWin.prototype), "skip", this).call(this)
                }
            }, {
                key: "hide",
                value: function hide() {
                    var _this2 = this;
                    createjs.Tween.removeTweens(this.coinsText);
                    this.coinsAnimation && _index.utils.wait(2e3).then(function() {
                        return _this2.coinsAnimation.removeFromParent()
                    });
                    return _get(_getPrototypeOf(TotalWin.prototype), "hide", this).call(this)
                }
            }, {
                key: "_initView",
                value: function _initView() {
                    _get(_getPrototypeOf(TotalWin.prototype), "_initView", this).call(this);
                    var index = this.getChildIndex(this.spine);
                    this.coinsAnimation = this.addChildAt(new _CoinsFountain.default(new _CoinsFountainParams.default), index);
                    this.coinsAnimation.pivot.x = .5;
                    this.coinsAnimation.pivot.y = .5;
                    var animation = this.spine.spineData.findAnimation(this.spineAnimation);
                    animation.apply(this.spine.skeleton, 1e3);
                    var scale = new PIXI.Point(2, -2);
                    PIXI.spine.Spine.replaceSpineSprite(this.spine, this.params.spineCounterName, this.coinsText, this.spineAnimation, scale)
                }
            }, {
                key: "_showAnimation",
                value: function _showAnimation(win) {
                    var _this3 = this;
                    var isSmallWin = win <= _app.default.model.roundBet() * _app.default.config.get("Board.totalWinCounterMinTB");
                    var animationDuration = PIXI.spine.Spine.getSpineDuration(this.spine, this.spineAnimation);
                    this.spine.state.setAnimation(0, this.spineAnimation, false);
                    if (isSmallWin) {
                        _app.default.emit(_Enums.default.TotalWinPlayShort);
                        this.coinsText.coins = win;
                        this.spine.state.tracks[0].trackTime = PIXI.spine.Spine.getSpineDuration(this.spine, this.spineAnimation);
                        this.spine.update(0);
                        _index.utils.wait(1500).then(function() {
                            if (!_this3.skipped) {
                                _app.default.emit(_Enums.default.LabelPopupShow);
                                _this3.stop()
                            }
                        })
                    } else {
                        this.spine.autoUpdate = true;
                        this.spine.update(0);
                        this.spine.state.once(PIXI.spine.core.AnimationState.COMPLETE, this.onCompleteSpineAnimation, this);
                        _app.default.emit(_Enums.default.TotalWinPlay);
                        this.coinsText.tween(true).setFPS(25).to({
                            coins: win
                        }, animationDuration * .6).call(function() {
                            _app.default.emit(_Enums.default.TotalWinCoinsStop);
                            _this3.coinsAnimation.stop()
                        });
                        createjs.Tween.get({}).setFPS(25).wait(animationDuration * .95).call(function() {
                            if (!_this3.isSkip) {
                                _app.default.emit(_Enums.default.TotalWinStop)
                            }
                            _app.default.emit(_Enums.default.AutoTestPopupShow);
                            _this3.emmited = true
                        })
                    }
                }
            }, {
                key: "_setDefaultValues",
                value: function _setDefaultValues() {
                    var win = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
                    this.coins = win;
                    this.alpha = 0;
                    this.background.alpha = 0;
                    this.coinsText.coins = 0;
                    this.playDeferred = _index.utils.deferred();
                    this.spine.alpha = 1;
                    this.spine.scale.set(this._calculateSpineScale(win));
                    this.interactiveChildren = true;
                    this.interactive = true;
                    this.isSkip = false;
                    createjs.Tween.removeTweens(this);
                    createjs.Tween.removeTweens(this.background);
                    createjs.Tween.removeTweens(this.coinsText)
                }
            }, {
                key: "_calculateSpineScale",
                value: function _calculateSpineScale(win) {
                    var scale = 1;
                    if (!_app.default.config.get("Board.scaleCounter")) return scale;
                    var boardWidth = _app.default.config.get("Screen.available") ? _app.default.config.get("Screen.boardWidth") : _app.default.board.reels.width;
                    if (!this.scaleChecker) {
                        this.scaleChecker = new _BitmapCoinsText.BitmapCoinsText(0, {
                            font: "120px bitmapfont"
                        });
                        this.scaleChecker.scale.set(1.2)
                    }
                    this.scaleChecker.coins = win;
                    if (this.scaleChecker.width > boardWidth) scale = boardWidth / this.scaleChecker.width;
                    return scale
                }
            }, {
                key: "_playCoins",
                value: function _playCoins(win) {
                    for (var i = 0; i < _GamePopups2.default.getWinType(win); i += 1) {
                        this.coinsAnimation.play();
                        _app.default.emit(_Enums.default.TotalWinPlayCoins)
                    }
                }
            }]);
            return TotalWin
        }(_GamePopups2.default);
        exports.default = TotalWin
    }, {
        "core/app": 33,
        "core/components/BitmapCoinsText": 36,
        "core/components/bigwin/particle/coinsFountain/CoinsFountain": 48,
        "core/components/bigwin/particle/coinsFountain/CoinsFountainParams": 49,
        "core/components/popups/GamePopupParams": 50,
        "core/components/popups/GamePopups": 51,
        "core/core/Enums": 73,
        "core/helpers/index": 90
    }],
    53: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = exports.GSBonusView = void 0;
        var _app = _interopRequireDefault(require("../../app"));
        var _GameSymbol = _interopRequireDefault(require("../GameSymbol"));
        var _helpers = require("../../helpers");
        var _GSSpineNames = _interopRequireDefault(require("./GSSpineNames"));
        var _GSSpineView2 = require("./GSSpineView");
        var _GSViewConfig = _interopRequireDefault(require("./GSViewConfig"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var GSBonusView = function(_GSSpineView) {
            _inherits(GSBonusView, _GSSpineView);
            var _super = _createSuper(GSBonusView);

            function GSBonusView() {
                _classCallCheck(this, GSBonusView);
                return _super.call(this)
            }
            _createClass(GSBonusView, [{
                key: "createState",
                value: function createState(state) {
                    var _this = this;
                    this.clear();
                    var name = _GSSpineNames.default.getSpineName(this.parent.id);
                    this.itemView = this.addChild(PIXI.spine.Spine.fromLoader(name));
                    this.itemView.autoUpdate = true;
                    this.itemView.state.setAnimation(0, _GSSpineNames.default.animations.IDLE, true);
                    this.itemView.update(0);
                    this.itemView.state.timeScale = this.config.timeScale;
                    this.itemView.x = this.config.HALF_WIDTH;
                    this.itemView.y = this.config.HALF_HEIGHT;
                    this.off(_GameSymbol.default.EventAnimationComplete, this.setStaticState, this);
                    this.itemView.onComplete = function() {
                        return _this._onComplete()
                    };
                    if (this.scaleX !== 1 || this.scaleY !== 1 || this.alpha !== 1) {
                        this.tween(true).to({
                            scaleX: 1,
                            scaleY: 1,
                            alpha: 1
                        }, 160)
                    }
                    this.isSpineSymbol = true;
                    this.isBonusSymbol = true;
                    this.complete = false;
                    if (_GSViewConfig.default.jackpotNames.includes(this.parent.currentBonusSymbolValue)) {
                        this.setImageValue(this.parent.currentBonusSymbolValue)
                    }
                    this.setTextValue(this.parent.currentBonusSymbolValue)
                }
            }, {
                key: "setBlurState",
                value: function setBlurState() {
                    var _this2 = this;
                    var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 100;
                    createjs.Tween.removeTweens(this.itemView);
                    this.itemView.alpha = 1;
                    _helpers.graphics.tweenTint(this.itemView, this.itemView.tint, this.config.tintGray, time).then(function() {
                        _this2._onComplete()
                    });
                    this._setTint(this.config.tintGray, time)
                }
            }, {
                key: "setDeBlurState",
                value: function setDeBlurState() {
                    var _this3 = this;
                    var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 300;
                    this._setTint(this.config.tintDefault, time);
                    _helpers.graphics.tweenTint(this.itemView, this.itemView.tint, this.config.tintDefault, time).then(function() {
                        _this3._onComplete()
                    })
                }
            }, {
                key: "desaturateState",
                value: function desaturateState() {
                    if (_app.default.RENDERER_TYPE !== "Canvas") {
                        var filter = new PIXI.filters.ColorMatrixFilter;
                        filter.saturate(-.4);
                        this.children.forEach(function(ch) {
                            if (!ch.hasOwnProperty("isExp") && !ch.isExp) ch.filters = [filter]
                        })
                    } else {
                        this.itemView.tint = this.config.tintGray;
                        this._setTint(this.config.tintGray, 0, true)
                    }
                }
            }, {
                key: "setBonusCollectedState",
                value: function setBonusCollectedState() {
                    if (this.itemView.state) {
                        this.itemView.state.setAnimation(0, _GSSpineNames.default.animations.COLLECTED, false);
                        this.itemView.update(0)
                    }
                }
            }, {
                key: "setTriggerState",
                value: function setTriggerState() {
                    var _this4 = this;
                    this.explosion = this.addChild(PIXI.spine.Spine.fromLoader(_GSSpineNames.default.bonusExplosionSpineName));
                    this.explosion.isExp = true;
                    this.isSpineSymbol = true;
                    this.explosion.state.on(PIXI.spine.core.AnimationState.COMPLETE, function() {
                        _this4.explosion.removeFromParent();
                        _helpers.utils.wait(20).then(function() {
                            return _this4.explosion.destroy()
                        });
                        _this4._onComplete()
                    });
                    this.explosion.autoUpdate = true;
                    this.explosion.state.setAnimation(0, _GSSpineNames.default.animations.EXPLOSION, false);
                    this.explosion.update(0);
                    this.explosion.x = this.config.HALF_WIDTH - 2;
                    this.explosion.y = this.config.HALF_HEIGHT;
                    this.complete = false
                }
            }, {
                key: "_setTint",
                value: function _setTint() {
                    var tint = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 16777215;
                    var time = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 250;
                    var immediately = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
                    if (immediately) {
                        if (this.text) this.text.tint = tint;
                        if (this.image) this.image.tint = tint
                    } else {
                        this.text && _helpers.graphics.tweenTint(this.text, this.text.tint, tint, time);
                        this.image && _helpers.graphics.tweenTint(this.image, this.text.tint, tint, time)
                    }
                }
            }, {
                key: "clear",
                value: function clear() {
                    var oldItemView = this.itemView;
                    oldItemView && createjs.Tween.removeTweens(oldItemView);
                    createjs.Tween.removeTweens(this);
                    if (this.text) {
                        this.text.removeFromParent();
                        this.text.destroy();
                        this.text = null
                    }
                    if (this.image) {
                        this.image.removeFromParent();
                        this.image.destroy();
                        this.image = null
                    }
                    if (oldItemView) {
                        this.removeChild(oldItemView);
                        oldItemView.onComplete = null;
                        oldItemView.destroy({
                            children: true
                        });
                        oldItemView.isBonusSymbol = false;
                        oldItemView = null
                    }
                }
            }]);
            return GSBonusView
        }(_GSSpineView2.GSSpineView);
        exports.GSBonusView = exports.default = GSBonusView
    }, {
        "../../app": 33,
        "../../helpers": 90,
        "../GameSymbol": 39,
        "./GSSpineNames": 57,
        "./GSSpineView": 58,
        "./GSViewConfig": 61
    }],
    54: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = exports.GSEmptyView = void 0;
        var _GSSpriteView2 = _interopRequireDefault(require("./GSSpriteView"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var GSEmptyView = function(_GSSpriteView) {
            _inherits(GSEmptyView, _GSSpriteView);
            var _super = _createSuper(GSEmptyView);

            function GSEmptyView() {
                _classCallCheck(this, GSEmptyView);
                return _super.call(this)
            }
            _createClass(GSEmptyView, [{
                key: "createState",
                value: function createState(state) {
                    this.clear();
                    this.itemView = this.addChild(PIXI.Sprite.fromFrame(GSEmptyView.FRAME_NAME));
                    this.itemView.anchor.set(.5);
                    this.itemView.x = this.config.HALF_WIDTH;
                    this.itemView.y = this.config.HALF_HEIGHT;
                    this._onComplete()
                }
            }]);
            return GSEmptyView
        }(_GSSpriteView2.default);
        exports.GSEmptyView = exports.default = GSEmptyView;
        GSEmptyView.FRAME_NAME = "frame_back_bonus_game"
    }, {
        "./GSSpriteView": 59
    }],
    55: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = exports.GSOversizeBonusView = void 0;
        var _GameSymbol = _interopRequireDefault(require("core/components/GameSymbol"));
        var _GSBonusView2 = _interopRequireDefault(require("./GSBonusView"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _get() {
            if (typeof Reflect !== "undefined" && Reflect.get) {
                _get = Reflect.get
            } else {
                _get = function _get(target, property, receiver) {
                    var base = _superPropBase(target, property);
                    if (!base) return;
                    var desc = Object.getOwnPropertyDescriptor(base, property);
                    if (desc.get) {
                        return desc.get.call(arguments.length < 3 ? target : receiver)
                    }
                    return desc.value
                }
            }
            return _get.apply(this, arguments)
        }

        function _superPropBase(object, property) {
            while (!Object.prototype.hasOwnProperty.call(object, property)) {
                object = _getPrototypeOf(object);
                if (object === null) break
            }
            return object
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var GSOversizeBonusView = function(_GSBonusView) {
            _inherits(GSOversizeBonusView, _GSBonusView);
            var _super = _createSuper(GSOversizeBonusView);

            function GSOversizeBonusView() {
                _classCallCheck(this, GSOversizeBonusView);
                return _super.call(this)
            }
            _createClass(GSOversizeBonusView, [{
                key: "createState",
                value: function createState(state) {
                    _get(_getPrototypeOf(GSOversizeBonusView.prototype), "createState", this).call(this, state);
                    this.scaleX = this.scaleY = state === _GameSymbol.default.OVERSIZE ? this.config.oversizeScaleMin : this.config.oversizeScaleMax
                }
            }, {
                key: "setOversizeState",
                value: function setOversizeState(time) {
                    var tweenTime = time || this.config.oversizeAppearTime;
                    this.tween(true).to({
                        scaleX: this.config.oversizeScaleMax,
                        scaleY: this.config.oversizeScaleMax
                    }, tweenTime, this.config.oversizeEasing)
                }
            }, {
                key: "setMaxScale",
                value: function setMaxScale() {
                    this.scaleX = this.scaleY = this.config.oversizeScaleMax
                }
            }]);
            return GSOversizeBonusView
        }(_GSBonusView2.default);
        exports.GSOversizeBonusView = exports.default = GSOversizeBonusView
    }, {
        "./GSBonusView": 53,
        "core/components/GameSymbol": 39
    }],
    56: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = exports.GSOversizeStaticView = void 0;
        var _GameSymbol = _interopRequireDefault(require("core/components/GameSymbol"));
        var _GSSpriteView2 = _interopRequireDefault(require("core/components/symbolView/GSSpriteView"));
        var _helpers = require("../../helpers");

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var GSOversizeStaticView = function(_GSSpriteView) {
            _inherits(GSOversizeStaticView, _GSSpriteView);
            var _super = _createSuper(GSOversizeStaticView);

            function GSOversizeStaticView() {
                _classCallCheck(this, GSOversizeStaticView);
                return _super.call(this)
            }
            _createClass(GSOversizeStaticView, [{
                key: "createState",
                value: function createState(state) {
                    var _this = this;
                    this.clear();
                    var imgName = "".concat(_GameSymbol.default.mapping[this.parent.id], "_oversize_static");
                    this.itemView = this.addChild(PIXI.extras.AnimatedSprite.fromFrames([imgName]));
                    this.itemView.anchor.set(.5);
                    this.itemView.x = this.config.HALF_WIDTH;
                    this.itemView.y = this.config.HALF_HEIGHT;
                    this.complete = false;
                    this.off(_GameSymbol.default.EventAnimationComplete, this.setStaticState, this);
                    this.itemView.onComplete = function() {
                        return _this._onComplete()
                    };
                    this.scaleX = this.scaleY = state === _GameSymbol.default.OVERSIZE ? this.config.oversizeScaleMin : this.config.oversizeScaleMax
                }
            }, {
                key: "setOversizeState",
                value: function setOversizeState(time) {
                    var tweenTime = time || this.config.oversizeAppearTime;
                    this.tween(true).to({
                        scaleX: this.config.oversizeScaleMax,
                        scaleY: this.config.oversizeScaleMax
                    }, tweenTime, this.config.oversizeEasing)
                }
            }, {
                key: "setMaxScale",
                value: function setMaxScale() {
                    this.scaleX = this.scaleY = this.config.oversizeScaleMax
                }
            }]);
            return GSOversizeStaticView
        }(_GSSpriteView2.default);
        exports.GSOversizeStaticView = exports.default = GSOversizeStaticView
    }, {
        "../../helpers": 90,
        "core/components/GameSymbol": 39,
        "core/components/symbolView/GSSpriteView": 59
    }],
    57: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = exports.GSSpineNames = void 0;
        var _GameSymbol = _interopRequireDefault(require("../GameSymbol"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _defineProperty(obj, key, value) {
            if (key in obj) {
                Object.defineProperty(obj, key, {
                    value: value,
                    enumerable: true,
                    configurable: true,
                    writable: true
                })
            } else {
                obj[key] = value
            }
            return obj
        }
        var GSSpineNames = function() {
            function GSSpineNames() {
                _classCallCheck(this, GSSpineNames)
            }
            _createClass(GSSpineNames, null, [{
                key: "getSpineName",
                value: function getSpineName(id) {
                    if (id === _GameSymbol.default.SCATTER_ID) {
                        return GSSpineNames.scatterSpineName
                    }
                    if (id === _GameSymbol.default.WILD_ID) {
                        return GSSpineNames.wildSpineName
                    }
                    if (_GameSymbol.default.BONUS_ID_ARRAY.includes(id)) {
                        return GSSpineNames.bonusSpineName
                    }
                }
            }]);
            return GSSpineNames
        }();
        exports.GSSpineNames = exports.default = GSSpineNames;
        _defineProperty(GSSpineNames, "scatterSpineName", "scatter_anticipation");
        _defineProperty(GSSpineNames, "wildSpineName", "wild_animation");
        _defineProperty(GSSpineNames, "bonusSpineName", "bonus_animation");
        _defineProperty(GSSpineNames, "bonusExplosionSpineName", "bonus_explosion");
        _defineProperty(GSSpineNames, "animations", {
            IDLE: "idle",
            WIN: "win",
            STATIC: "static",
            EXPLOSION: "animation",
            COLLECTED: "collected"
        })
    }, {
        "../GameSymbol": 39
    }],
    58: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = exports.GSSpineView = void 0;
        var _GSView2 = require("./GSView");
        var _GameSymbol = _interopRequireDefault(require("../GameSymbol"));
        var _GSSpineNames = _interopRequireDefault(require("./GSSpineNames"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var GSSpineView = function(_GSView) {
            _inherits(GSSpineView, _GSView);
            var _super = _createSuper(GSSpineView);

            function GSSpineView() {
                _classCallCheck(this, GSSpineView);
                return _super.call(this)
            }
            _createClass(GSSpineView, [{
                key: "createState",
                value: function createState(state) {
                    var _this = this;
                    this.clear();
                    var spineName = _GSSpineNames.default.getSpineName(this.parent.id);
                    this.alpha = 1;
                    this.itemView = this.addChild(PIXI.spine.Spine.fromLoader(spineName));
                    this.isSpineSymbol = true;
                    this.itemView.autoUpdate = true;
                    this.itemView.state.setAnimation(0, _GSSpineNames.default.animations.IDLE, true);
                    this.itemView.update(0);
                    this.itemView.state.timeScale = this.config.timeScale;
                    this.itemView.x = this.config.HALF_WIDTH;
                    this.itemView.y = this.config.HALF_HEIGHT;
                    this.complete = false;
                    this.isSpineSymbol = true;
                    this.off(_GameSymbol.default.EventAnimationComplete, this.setStaticState, this);
                    this.itemView.onComplete = function() {
                        return _this._onComplete()
                    };
                    if (this.scaleX !== 1 || this.scaleY !== 1 || this.alpha !== 1) {
                        this.tween(true).to({
                            scaleX: 1,
                            scaleY: 1,
                            alpha: 1
                        }, 160)
                    }
                }
            }, {
                key: "setTriggerState",
                value: function setTriggerState() {
                    var _this2 = this;
                    if (this.itemView.state) {
                        this.itemView.state.setAnimation(0, _GSSpineNames.default.animations.WIN, false);
                        this.itemView.update(0);
                        this.itemView.state.once(PIXI.spine.core.AnimationState.COMPLETE, function() {
                            _this2._onComplete()
                        })
                    }
                }
            }, {
                key: "setAnticipationState",
                value: function setAnticipationState() {
                    if (this.itemView.state) {
                        this.itemView.state.setAnimation(0, _GSSpineNames.default.animations.IDLE, true);
                        this.itemView.update(0)
                    }
                }
            }, {
                key: "setAnticipationEndState",
                value: function setAnticipationEndState() {
                    var oldItemView = this.itemView;
                    oldItemView && createjs.Tween.removeTweens(oldItemView);
                    this.alpha = 1;
                    this.itemView = this.addChild(PIXI.extras.AnimatedSprite.fromFrames(["".concat(_GameSymbol.default.mapping[this.parent.id], "_").concat(_GameSymbol.default.STATIC)]));
                    this.itemView.loop = false;
                    this.itemView.play();
                    this.itemView.anchor.set(.5);
                    this.itemView.x = this.config.HALF_WIDTH;
                    this.itemView.y = this.config.HALF_HEIGHT;
                    this.complete = false;
                    if (oldItemView) {
                        this.removeChild(oldItemView);
                        oldItemView.destroy()
                    }
                }
            }]);
            return GSSpineView
        }(_GSView2.GSView);
        exports.GSSpineView = exports.default = GSSpineView
    }, {
        "../GameSymbol": 39,
        "./GSSpineNames": 57,
        "./GSView": 60
    }],
    59: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = exports.GSSpriteView = void 0;
        var _GSView2 = require("./GSView");
        var _GameSymbol = _interopRequireDefault(require("../GameSymbol"));
        var _helpers = require("../../helpers");

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var GSSpriteView = function(_GSView) {
            _inherits(GSSpriteView, _GSView);
            var _super = _createSuper(GSSpriteView);

            function GSSpriteView() {
                _classCallCheck(this, GSSpriteView);
                return _super.call(this)
            }
            _createClass(GSSpriteView, [{
                key: "createState",
                value: function createState(state) {
                    var _this = this;
                    this.clear();
                    var imgName = "".concat(_GameSymbol.default.mapping[this.parent.id], "_").concat(state);
                    this.itemView = this.addChild(PIXI.extras.AnimatedSprite.fromFrames([imgName]));
                    this.itemView.anchor.set(.5);
                    this.itemView.x = this.config.HALF_WIDTH;
                    this.itemView.y = this.config.HALF_HEIGHT;
                    this.complete = false;
                    this.off(_GameSymbol.default.EventAnimationComplete, this.setStaticState, this);
                    this.itemView.onComplete = function() {
                        return _this._onComplete()
                    };
                    this._onComplete();
                    if (this.scaleX !== 1 || this.scaleY !== 1 || this.alpha !== 1) {
                        this.tween(true).to({
                            scaleX: 1,
                            scaleY: 1,
                            alpha: 1
                        }, 160)
                    }
                }
            }]);
            return GSSpriteView
        }(_GSView2.GSView);
        exports.GSSpriteView = exports.default = GSSpriteView
    }, {
        "../../helpers": 90,
        "../GameSymbol": 39,
        "./GSView": 60
    }],
    60: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = exports.GSView = void 0;
        var _app = _interopRequireDefault(require("../../app"));
        var _GameSymbol = _interopRequireDefault(require("../GameSymbol"));
        var _helpers = require("../../helpers");
        var _GSViewConfig = _interopRequireDefault(require("./GSViewConfig"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var GSView = function(_PIXI$Container) {
            _inherits(GSView, _PIXI$Container);
            var _super = _createSuper(GSView);

            function GSView() {
                var _this;
                _classCallCheck(this, GSView);
                _this = _super.call(this);
                if (Object.keys(_GameSymbol.default.mapping).length === 0) {
                    throw new Error("GameSymbol.mapping not assigned!")
                }
                _this.config = new _GSViewConfig.default;
                _this.itemView = null;
                _this.image = null;
                _this.text = null;
                _this.isSpineSymbol = false;
                _this.isBonusSymbol = false;
                _this.complete = false;
                _this.pivot.x = _this.config.HALF_WIDTH;
                _this.pivot.y = _this.config.HALF_HEIGHT;
                return _this
            }
            _createClass(GSView, [{
                key: "createState",
                value: function createState(state) {}
            }, {
                key: "setEmptyTexture",
                value: function setEmptyTexture() {
                    var oldItemView = this.itemView;
                    this.itemView = this.addChild(PIXI.Texture.EMPTY);
                    this.parent.complete = false;
                    if (oldItemView) {
                        this.removeChild(oldItemView);
                        oldItemView.onComplete = null
                    }
                }
            }, {
                key: "setMoveState",
                value: function setMoveState() {}
            }, {
                key: "setStaticState",
                value: function setStaticState() {}
            }, {
                key: "setBlurState",
                value: function setBlurState() {
                    var _this2 = this;
                    var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 100;
                    createjs.Tween.removeTweens(this.itemView);
                    this.itemView.alpha = 1;
                    _helpers.graphics.tweenTint(this.itemView, this.itemView.tint, this.config.tintGray, time).then(function() {
                        _this2._onComplete()
                    })
                }
            }, {
                key: "setShortState",
                value: function setShortState() {
                    var _this3 = this;
                    this.complete = false;
                    this.itemView.tween(true).to({
                        alpha: this.config.shortAlpha
                    }, this.config.shortHideTime).wait(this.config.shortWaitTime).to({
                        alpha: 1
                    }, this.config.shortHideTime).wait(this.config.shortSecondWaitTime).to({
                        alpha: this.config.shortAlpha
                    }, this.config.shortHideTime).wait(this.config.shortWaitTime).to({
                        alpha: 1
                    }, this.config.shortHideTime).call(function() {
                        return _this3._onComplete()
                    })
                }
            }, {
                key: "setLandState",
                value: function setLandState() {
                    var _this4 = this;
                    var scale = this.config.landScale;
                    this.tween(true).to({
                        scaleX: scale,
                        scaleY: scale
                    }, this.config.landHideTime).wait(this.config.landWaitTime).to({
                        scaleX: 1,
                        scaleY: 1
                    }, this.config.landHideTime).call(function() {
                        return _this4._onComplete()
                    })
                }
            }, {
                key: "setTriggerState",
                value: function setTriggerState() {}
            }, {
                key: "setAnticipationState",
                value: function setAnticipationState() {}
            }, {
                key: "setAnticipationEndState",
                value: function setAnticipationEndState() {}
            }, {
                key: "setOversizeState",
                value: function setOversizeState() {}
            }, {
                key: "setDefaultScale",
                value: function setDefaultScale() {
                    var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function() {};
                    this.tween(true).to({
                        scaleX: this.config.oversizeScaleMin,
                        scaleY: this.config.oversizeScaleMin
                    }, this.config.oversizeDisappearTime).call(function() {
                        return callback()
                    })
                }
            }, {
                key: "setDeBlurState",
                value: function setDeBlurState() {
                    var _this5 = this;
                    var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 250;
                    _helpers.graphics.tweenTint(this.itemView, this.itemView.tint, this.config.tintDefault, time).then(function() {
                        _this5._onComplete()
                    });
                    this.text && _helpers.graphics.tweenTint(this.text, this.text.tint, this.config.tintDefault);
                    this.image && _helpers.graphics.tweenTint(this.image, this.image.tint, this.config.tintDefault)
                }
            }, {
                key: "setBonusSymbolViewValue",
                value: function setBonusSymbolViewValue(value) {
                    if (_GSViewConfig.default.jackpotNames.includes(value)) {
                        this.setImageValue(value);
                        if (this.text) this.text.text = ""
                    } else if (value > 0) {
                        if (this.image) {
                            this.image.removeFromParent();
                            this.image = null
                        }
                        this.setTextValue(value)
                    }
                }
            }, {
                key: "setBonusSymbolViewValueAlpha",
                value: function setBonusSymbolViewValueAlpha() {
                    var alpha = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;
                    if (this.text) this.text.alpha = alpha;
                    if (this.image) this.image.alpha = alpha
                }
            }, {
                key: "setImageValue",
                value: function setImageValue(value) {
                    if (this.image) {
                        this.image.removeFromParent();
                        this.image = null
                    }
                    this.image = this.addChild(PIXI.Sprite.fromFrame("".concat(value, "_symbol")));
                    this.image.anchor.set(.5);
                    this.image.x = this.config.HALF_WIDTH;
                    this.image.y = this.config.HALF_HEIGHT;
                    if (this.text) this.text.text = ""
                }
            }, {
                key: "setTextValue",
                value: function setTextValue(value) {
                    if (!this.text) {
                        if (_GSViewConfig.default.bitmapTextName) {
                            this.text = this.addChild(new PIXI.extras.BitmapText("", this.config.BITMAP_SYMBOL_TEXT(42)))
                        } else {
                            this.text = this.addChild(new PIXI.Text(""))
                        }
                        this.text.anchor.set(.5);
                        this.text.position = this.itemView.position;
                        this.text.alpha = 1
                    }
                    if (value > 0) {
                        this.text.text = _helpers.i18n.coins(value).toString()
                    } else {
                        this.text.text = ""
                    }
                    _helpers.utils.labelScale(this.text, this.config.labelScaleWidth, this.config.labelScaleHeight)
                }
            }, {
                key: "swap",
                value: function swap(symbol) {}
            }, {
                key: "desaturateState",
                value: function desaturateState() {}
            }, {
                key: "setBonusCollectedState",
                value: function setBonusCollectedState() {}
            }, {
                key: "setState",
                value: function setState(state) {
                    switch (state) {
                        case _GameSymbol.default.STATIC:
                            return this.setStaticState();
                        case _GameSymbol.default.MOVE:
                            return this.setMoveState();
                        case _GameSymbol.default.SHORT:
                            return this.setShortState();
                        case _GameSymbol.default.BLUR:
                            return this.setBlurState();
                        default: {
                            var key = Object.keys(_GameSymbol.default).find(function(k) {
                                return _GameSymbol.default[k] === state
                            });
                            return this["set".concat(key.title(), "State")]()
                        }
                    }
                }
            }, {
                key: "setCustomSprite",
                value: function setCustomSprite(name, animated, returnToStatic) {
                    try {
                        this.createState(name, animated);
                        if (returnToStatic) this.once(_GameSymbol.default.EventAnimationComplete, this.setStaticState, this)
                    } catch (e) {
                        console.warn("GameSymbol could not create itemView for state ".concat(name));
                        console.log(e.stack.toString());
                        this.setStaticState()
                    }
                }
            }, {
                key: "clear",
                value: function clear() {
                    var oldItemView = this.itemView;
                    oldItemView && createjs.Tween.removeTweens(oldItemView);
                    createjs.Tween.removeTweens(this);
                    if (this.text) {
                        this.text.removeFromParent();
                        this.text.destroy();
                        this.text = null
                    }
                    if (this.image) {
                        this.image.removeFromParent();
                        this.image.destroy();
                        this.image = null
                    }
                    if (oldItemView) {
                        this.removeChild(oldItemView);
                        oldItemView.destroy();
                        oldItemView.onComplete = null;
                        oldItemView = null
                    }
                }
            }, {
                key: "_onComplete",
                value: function _onComplete() {
                    this.complete = true;
                    this.parent && this.parent.emit(_GameSymbol.default.EventAnimationComplete)
                }
            }]);
            return GSView
        }(PIXI.Container);
        exports.GSView = exports.default = GSView;
        GSView.generateRandomBonusSymbolValue = function() {
            var data = _app.default.model.bonusSymbolsMultipliers();
            var randomMultiplier = _helpers.utils.random(data);
            var betFactor = _app.default.model.get("settings.bet_factor")[0];
            var bet = _app.default.model.current("bet_per_line");
            if (_GSViewConfig.default.jackpotNames.includes(randomMultiplier)) {
                return randomMultiplier
            }
            return bet * betFactor * randomMultiplier
        }
    }, {
        "../../app": 33,
        "../../helpers": 90,
        "../GameSymbol": 39,
        "./GSViewConfig": 61
    }],
    61: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = exports.GSViewConfig = void 0;
        var _app = require("core/app");
        var _GameSymbol = _interopRequireDefault(require("../GameSymbol"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _defineProperty(obj, key, value) {
            if (key in obj) {
                Object.defineProperty(obj, key, {
                    value: value,
                    enumerable: true,
                    configurable: true,
                    writable: true
                })
            } else {
                obj[key] = value
            }
            return obj
        }
        var GSViewConfig = function() {
            function GSViewConfig() {
                _classCallCheck(this, GSViewConfig);
                if (GSViewConfig.instance) {
                    return GSViewConfig.instance
                }
                this.init();
                GSViewConfig.instance = this
            }
            _createClass(GSViewConfig, [{
                key: "init",
                value: function init() {
                    this.tintDefault = 16777215;
                    this.tintGray = 6710886;
                    this.HALF_WIDTH = _app.app.config.get("GameSymbol.width") / 2;
                    this.HALF_HEIGHT = _app.app.config.get("GameSymbol.height") / 2;
                    this.shortHideTime = 100;
                    this.shortWaitTime = 150;
                    this.shortSecondWaitTime = 1e3;
                    this.shortAlpha = .1;
                    this.landHideTime = 200;
                    this.landWaitTime = 100;
                    this.landScale = 1.1;
                    this.labelScaleWidth = 130;
                    this.labelScaleHeight = 130;
                    this.oversizeAppearTime = 300;
                    this.oversizeAppearTimeAnticipation = 450;
                    this.oversizeDisappearTime = 30;
                    this.oversizeScaleMin = .85;
                    this.oversizeScaleMax = 1;
                    this.oversizeEasing = createjs.Ease.getBackOut(8);
                    this.timeScale = 1;
                    this.stateMapping = {};
                    this.setStateMapping()
                }
            }, {
                key: "setStateMapping",
                value: function setStateMapping() {
                    this.stateMapping = {
                        static: {
                            sprite: [],
                            spine: []
                        },
                        short: {
                            sprite: [],
                            spine: []
                        },
                        move: {
                            sprite: [],
                            spine: []
                        },
                        land: {
                            sprite: [],
                            spine: []
                        },
                        trigger: {
                            sprite: [],
                            spine: []
                        },
                        anticipation_idle: {
                            sprite: [],
                            spine: []
                        },
                        oversize: {
                            sprite: [],
                            spine: []
                        }
                    }
                }
            }, {
                key: "BITMAP_SYMBOL_TEXT",
                value: function BITMAP_SYMBOL_TEXT() {
                    var size = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 12;
                    if (GSViewConfig.bitmapTextName === null) {
                        console.log("Init bitmapText name");
                        return null
                    }
                    return {
                        font: "".concat(size, "px ").concat(GSViewConfig.bitmapTextName)
                    }
                }
            }, {
                key: "spriteSymbols",
                value: function spriteSymbols() {
                    var spriteSymbols = _app.app.model.getLineSymbolsId();
                    if (GSViewConfig.isWildSpriteView) {
                        spriteSymbols = spriteSymbols.concat([_GameSymbol.default.WILD_ID])
                    }
                    if (GSViewConfig.isEmptyViewUsing) {
                        spriteSymbols = spriteSymbols.concat([_GameSymbol.default.EMPTY_ID])
                    }
                    return spriteSymbols
                }
            }]);
            return GSViewConfig
        }();
        exports.GSViewConfig = exports.default = GSViewConfig;
        _defineProperty(GSViewConfig, "instance", void 0);
        _defineProperty(GSViewConfig, "bitmapTextName", null);
        _defineProperty(GSViewConfig, "isWildSpriteView", true);
        _defineProperty(GSViewConfig, "isEmptyViewUsing", false);
        _defineProperty(GSViewConfig, "jackpotNames", ["grand", "major", "mini"])
    }, {
        "../GameSymbol": 39,
        "core/app": 33
    }],
    62: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = exports.AnalyticsController = void 0;
        var _app = require("core/app");
        var _Sound = _interopRequireDefault(require("./../core/Sound"));
        var _GameSymbol = _interopRequireDefault(require("./../components/GameSymbol"));
        var _gdk = require("../../gdk");
        var _SpinsStates = require("./../states/SpinsStates");
        var _BootStates = require("./../states/BootStates");

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }
        var ERROR_CLIENT_ERROR = "ERROR_CLIENT_ERROR";
        var AnalyticsController = function() {
            function AnalyticsController(app) {
                _classCallCheck(this, AnalyticsController);
                this.app = app
            }
            _createClass(AnalyticsController, [{
                key: "attach",
                value: function attach() {
                    var _this = this;
                    var time = Date.now();
                    if (this.app.renderer.type === PIXI.RENDERER_TYPE.WEBGL) _gdk.analytics.set("dimension5", "webgl");
                    else if (this.app.renderer.type === PIXI.RENDERER_TYPE.CANVAS) _gdk.analytics.set("dimension5", "canvas");
                    else _gdk.analytics.set("dimension5", "unknown");
                    this.app.on(_app.GameEvent.ConnectionDone, function() {
                        var set = function set(analyticField, modelField) {
                            if (_this.app.model.has(modelField)) {
                                _gdk.analytics.set(analyticField, _this.app.model.get(modelField))
                            }
                        };
                        set("currencyCode", "user.currency");
                        set("userId", "user.huid");
                        set("dimension1", "user.huid");
                        set("dimension2", "settings.version");
                        _gdk.analytics.set("dimension3", _this.app.flow.isSpectator() ? "stream" : "normal");
                        _gdk.analytics.timing("connection_done", Date.now() - time)
                    });
                    this.app.on(_app.GameEvent.LoaderDone, function() {
                        _gdk.analytics.timing("resources_done", Date.now() - time)
                    });
                    this.app.on(_app.GameEvent.LoaderBackgroundDone, function() {
                        _gdk.analytics.timing("resources_background_done", Date.now() - time)
                    });
                    _BootStates.RouterState.once(_app.GameEvent.EnterState, function() {
                        _gdk.analytics.timing("game_start", Date.now() - time)
                    });
                    this.app.on(_app.GameEvent.SymbolClick, function(symbol) {
                        _gdk.analytics.event("click_symbol", null, _GameSymbol.default.mapping[symbol.id])
                    });
                    this.app.on(_app.GameEvent.ClickButton, function(name) {
                        if (name === null || name.split(" ").length !== 1 || name.indexOf("-") > -1) return;
                        _gdk.analytics.event("click_".concat(name))
                    });
                    _SpinsStates.SpinningSpinsState.on(_app.GameEvent.WillEnterState, function() {
                        _gdk.analytics.timingStart("spin_time");
                        _gdk.analytics.event("round_start");
                        _gdk.analytics.event("round_sound", null, _Sound.default.status() ? "on" : "off");
                        _gdk.analytics.event("round_quick", null, _this.app.model.isQuickSpin() ? "on" : "off");
                        _gdk.analytics.event("round_autogame", null, _this.app.model.isAutoGame() ? "on" : "off");
                        _SpinsStates.SpinningSpinsState.once(_app.GameEvent.WillLeaveState, function() {
                            _gdk.analytics.timingEnd("spin_time")
                        })
                    })
                }
            }]);
            return AnalyticsController
        }();
        exports.AnalyticsController = AnalyticsController;
        var _default = AnalyticsController;
        exports.default = _default
    }, {
        "../../gdk": 102,
        "./../components/GameSymbol": 39,
        "./../core/Sound": 80,
        "./../states/BootStates": 92,
        "./../states/SpinsStates": 94,
        "core/app": 33
    }],
    63: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = exports.AutoGameController = void 0;
        var _app = require("core/app");
        var _DefaultController2 = _interopRequireDefault(require("./DefaultController"));
        var _SpinsStates = require("./../states/SpinsStates");

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var AutoGameController = function(_DefaultController) {
            _inherits(AutoGameController, _DefaultController);
            var _super = _createSuper(AutoGameController);

            function AutoGameController(app) {
                var _this;
                _classCallCheck(this, AutoGameController);
                _this = _super.call(this, app);
                _this.onIdleEnter = _this.onIdleEnter.bind(_assertThisInitialized(_this));
                _this.onIdleLeave = _this.onIdleLeave.bind(_assertThisInitialized(_this));
                return _this
            }
            _createClass(AutoGameController, [{
                key: "attach",
                value: function attach() {
                    this.idle = false;
                    this.autogame = false;
                    _SpinsStates.IdleSpinsState.on(_app.GameEvent.EnterState, this.onIdleEnter);
                    _SpinsStates.IdleSpinsState.on(_app.GameEvent.LeaveState, this.onIdleLeave);
                    GR.Events.flow.available_actions.on(this.onFlowAvailableAction, this);
                    GR.Events.flow.round_start.on(this.onRoundStart, this)
                }
            }, {
                key: "detach",
                value: function detach() {
                    _SpinsStates.IdleSpinsState.off(_app.GameEvent.EnterState, this.onIdleEnter);
                    _SpinsStates.IdleSpinsState.off(_app.GameEvent.LeaveState, this.onIdleLeave);
                    GR.Events.flow.available_actions.off(this.onFlowAvailableAction, this);
                    GR.Events.flow.round_start.off(this.onRoundStart, this)
                }
            }, {
                key: "startIfPossible",
                value: function startIfPossible() {
                    if (this.idle && this.autogame) {
                        this.app.flow.act("spin")
                    }
                }
            }, {
                key: "onIdleEnter",
                value: function onIdleEnter() {
                    this.idle = true;
                    this.startIfPossible()
                }
            }, {
                key: "onIdleLeave",
                value: function onIdleLeave() {
                    this.idle = false
                }
            }, {
                key: "onFlowAvailableAction",
                value: function onFlowAvailableAction(event) {
                    this.autogame = !!event.data.autogame;
                    this.startIfPossible()
                }
            }, {
                key: "onRoundStart",
                value: function onRoundStart(event) {
                    this.autogame = false;
                    this.idle = false
                }
            }]);
            return AutoGameController
        }(_DefaultController2.default);
        exports.AutoGameController = AutoGameController;
        var _default = AutoGameController;
        exports.default = _default
    }, {
        "./../states/SpinsStates": 94,
        "./DefaultController": 64,
        "core/app": 33
    }],
    64: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = exports.DefaultController = void 0;

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var DefaultController = function(_PIXI$utils$EventEmit) {
            _inherits(DefaultController, _PIXI$utils$EventEmit);
            var _super = _createSuper(DefaultController);

            function DefaultController(app) {
                var _this;
                _classCallCheck(this, DefaultController);
                _this = _super.call(this);
                _this.app = app;
                _this.init();
                return _this
            }
            _createClass(DefaultController, [{
                key: "init",
                value: function init() {}
            }, {
                key: "attach",
                value: function attach() {}
            }, {
                key: "detach",
                value: function detach() {}
            }]);
            return DefaultController
        }(PIXI.utils.EventEmitter);
        exports.DefaultController = DefaultController;
        var _default = DefaultController;
        exports.default = _default
    }, {}],
    65: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = exports.FlowController = void 0;
        var _app = require("core/app");
        var _utils = require("core/utils");
        var _BootStates = require("core/states/BootStates");

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var console = Object.assign({}, window.console, {
            log: function log() {}
        });
        var FlowController = function(_PIXI$utils$EventEmit) {
            _inherits(FlowController, _PIXI$utils$EventEmit);
            var _super = _createSuper(FlowController);

            function FlowController(app) {
                var _this;
                _classCallCheck(this, FlowController);
                _this = _super.call(this);
                _this.app = app;
                _this.locks = 0;
                _this.mode = null;
                _this.handlers = {};
                _this.deferred = _utils.utils.deferred();
                _this.stateReadyDeferred = _this.availableActionsDeferred = _utils.utils.deferred();
                _this.availableActionsDeferred.resolve();
                _this.initDefaultMiddleware();
                _this.initClientSettings();
                return _this
            }
            _createClass(FlowController, [{
                key: "initClientSettings",
                value: function initClientSettings() {
                    var _this2 = this;
                    try {
                        window.localStorage.removeItem("".concat(_app.env.get("game_name"), ":app.cl"));
                        window.localStorage.removeItem("undefined:app.cl")
                    } catch (e) {}
                    var settings = ["quick_spin", "sound"];
                    settings.forEach(function(setting) {
                        GR.Storage.follow(setting, function(v) {
                            return _this2.app.model.set("cl.".concat(setting), v)
                        });
                        _this2.app.model.follow("cl.".concat(setting), function(v) {
                            return GR.Storage.set(setting, v)
                        })
                    })
                }
            }, {
                key: "attach",
                value: function attach() {
                    GR.Events.flow.on(this.onFlowEvent, this)
                }
            }, {
                key: "detach",
                value: function detach() {
                    GR.Events.flow.off(this.onFlowEvent, this)
                }
            }, {
                key: "locked",
                get: function get() {
                    return this.locks > 0
                }
            }, {
                key: "lock",
                value: function lock() {
                    console.log("locks: ".concat(this.locks))
                }
            }, {
                key: "unlock",
                value: function unlock() {
                    console.log("locks: ".concat(this.locks))
                }
            }, {
                key: "onFlowEvent",
                value: function onFlowEvent(event) {
                    var _ref = [event.name, event.data],
                        name = _ref[0],
                        data = _ref[1];
                    console.log("event: ".concat(name));
                    switch (name) {
                        case "state":
                            return this.state(data);
                        case "round_start":
                            return this.roundStart(data);
                        case "round_result":
                            return this.roundResult(data);
                        case "restart":
                            return this.restart(data);
                        case "available_actions":
                            return this.availableActions(data);
                        case "balance":
                            return this.balance(data)
                    }
                }
            }, {
                key: "ready",
                value: function ready(action) {
                    this.deferred = _utils.utils.deferred();
                    this.locks = 0;
                    this.availableActionsDeferred = _utils.utils.deferred();
                    this.availableActionsDeferred.promise.catch(function(e) {
                        if (e.message !== "game_restart") throw e
                    });
                    GR.Events.flow.available_actions.once(this.availableActionsDeferred.resolve);
                    GR.Events.game.ready();
                    this.stateReadyDeferred = _utils.utils.deferred();
                    this.app.once(_app.GameEvent.stateReady(action), this.stateReadyDeferred.resolve);
                    return Promise.resolve()
                }
            }, {
                key: "roundStart",
                value: function roundStart(data) {
                    if (this.locked) throw new Error("Flow is locked now.");
                    this.lock();
                    this.locks = 1;
                    this.app.emit(_app.GameEvent.RoundStart)
                }
            }, {
                key: "roundResult",
                value: function roundResult(data) {
                    console.log("round_result", data);
                    this.app.model.setDefaults();
                    this.app.model.protocol.decode(data);
                    this.unlock();
                    this.deferred.resolve()
                }
            }, {
                key: "state",
                value: function state(data) {
                    this.use(data.mode);
                    this.app.model.protocol.decode(data);
                    if (this.receivedFirstReady) {
                        GR.Events.game.ready()
                    } else {
                        this.receivedFirstReady = true
                    }
                }
            }, {
                key: "balance",
                value: function balance(data) {
                    console.log(".balance()");
                    this.app.model.set("user.balance", data.balance)
                }
            }, {
                key: "result",
                value: function result() {
                    console.log(".result()");
                    return this.deferred.promise
                }
            }, {
                key: "use",
                value: function use(mode) {
                    this.mode = mode
                }
            }, {
                key: "isUser",
                value: function isUser() {
                    return !this.isSpectator()
                }
            }, {
                key: "isSpectator",
                value: function isSpectator() {
                    return this.isStream() || this.isReplay()
                }
            }, {
                key: "isStream",
                value: function isStream() {
                    return this.mode === "stream"
                }
            }, {
                key: "isReplay",
                value: function isReplay() {
                    return this.mode === "replay"
                }
            }, {
                key: "setActionHandler",
                value: function setActionHandler(action, handler) {
                    this.handlers[action] = handler
                }
            }, {
                key: "getActionHandler",
                value: function getActionHandler(action) {
                    var _this3 = this;
                    return this.handlers[action] || function(args) {
                        return _this3._act(action, args)
                    }
                }
            }, {
                key: "initDefaultMiddleware",
                value: function initDefaultMiddleware() {
                    var _this4 = this;
                    this.setActionHandler("spin", function(args) {
                        args = args || {};
                        args.bet_per_line = "bet_per_line" in args ? args.bet_per_line : _this4.app.model.get("game.bet_per_line");
                        args.lines = "lines" in args ? args.lines : _this4.app.model.get("game.lines");
                        _this4.app.model.set("game.bet_per_line", args.bet_per_line);
                        _this4.app.model.set("game.lines", args.lines);
                        return _this4._act("spin", args, _this4.app.model.getRoundBet(args.bet_per_line, args.lines))
                    });
                    this.setActionHandler("buy_spin", function(args) {
                        args = args || {};
                        args.bet_per_line = "bet_per_line" in args ? args.bet_per_line : _this4.app.model.get("game.bet_per_line");
                        args.lines = "lines" in args ? args.lines : _this4.app.model.get("game.lines");
                        _this4.app.model.set("game.bet_per_line", args.bet_per_line);
                        _this4.app.model.set("game.lines", args.lines);
                        return _this4._act("buy_spin", args, _this4.app.model.get("settings.freespins_buying_price", 1) * _this4.app.model.getRoundBet(args.bet_per_line, args.lines))
                    })
                }
            }, {
                key: "act",
                value: function act(name, args) {
                    var _this5 = this;
                    this.availableActionsDeferred.promise.then(function() {
                        return _this5.getActionHandler(name)(args)
                    }).catch(function(e) {
                        if (!e || e.message !== "game_restart") throw e
                    });
                    return this.deferred.promise
                }
            }, {
                key: "_act",
                value: function _act(name, args) {
                    var bet = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
                    var action = {
                        action: {
                            name: name,
                            params: args || {}
                        },
                        bet: bet
                    };
                    GR.Events.game.play(action);
                    return this.deferred.promise
                }
            }, {
                key: "actIfPossible",
                value: function actIfPossible() {
                    return this.act.apply(this, arguments)
                }
            }, {
                key: "restart",
                value: function restart(data) {
                    var _this6 = this;
                    var decodeObject = {
                        context: data.context,
                        user: data.user,
                        freebet: data.freebet,
                        settings: data.settings
                    };
                    this.lock();
                    console.log("GAME RESTART");
                    this.app.stateMachine.lock();
                    this.app.model.set("game.restart", true);
                    this.availableActionsDeferred.reject(new Error("game_restart"));
                    return Promise.resolve().then(function() {
                        return _this6.beforeRestart()
                    }).then(function() {
                        return _this6.app.stateMachine.reset()
                    }).then(function() {
                        return _this6.app.model.protocol.decode(decodeObject)
                    }).then(function() {
                        return _this6.app.model.set("game.restart", false)
                    }).then(function() {
                        return _this6.use(data.mode)
                    }).then(function() {
                        return _this6.app.stateMachine.changeState(_BootStates.InitState)
                    }).then(function() {
                        return _this6.afterRestart()
                    })
                }
            }, {
                key: "beforeRestart",
                value: function beforeRestart() {
                    var available = app.config.get("Screen.available");
                    var width = available ? this.app.config.get("Screen.backWidth") : this.app.config.get("App.width");
                    var height = available ? this.app.config.get("Screen.backHeight") : this.app.config.get("App.height");
                    var graphics = this.fadeDisplay = this.fadeDisplay || new PIXI.Graphics;
                    graphics.clear();
                    graphics.beginFill();
                    graphics.drawRect(0, 0, width, height);
                    graphics.endFill();
                    graphics.alpha = 0;
                    this.app.stage.addChild(graphics);
                    return graphics.tween(true).to({
                        alpha: 1
                    }, 200).promise()
                }
            }, {
                key: "afterRestart",
                value: function afterRestart() {
                    if (!this.fadeDisplay) return Promise.resolve();
                    var graphics = this.fadeDisplay;
                    this.fadeDisplay = null;
                    return graphics.tween(true).to({
                        alpha: 0
                    }, 200).promise(function() {
                        return graphics.destroy()
                    })
                }
            }, {
                key: "availableActions",
                value: function availableActions(data) {
                    var _this7 = this;
                    if (data.action) {
                        Promise.resolve().then(function() {
                            return new Promise(function(res, rej) {
                                _this7.stateReadyDeferred.promise.then(res);
                                GR.Events.game.play.once(rej)
                            })
                        }).then(function() {
                            return _this7.act(data.action.action.name, data.action.action.params)
                        }, function() {
                            return undefined
                        })
                    }
                }
            }]);
            return FlowController
        }(PIXI.utils.EventEmitter);
        exports.FlowController = FlowController;
        var _default = FlowController;
        exports.default = _default
    }, {
        "core/app": 33,
        "core/states/BootStates": 92,
        "core/utils": 99
    }],
    66: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = exports.FreeBetsController = void 0;
        var _Enums = require("./../core/Enums");
        var _i18n = _interopRequireDefault(require("../helpers/i18n"));
        var _BootStates = require("./../states/BootStates");

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }
        var log = function log() {};
        _Enums.GameEvent.FreeBetGranted = "FREEBET_GRANTED";
        _Enums.GameEvent.FreeBetComplete = "FREEBET_COMPLETE";
        var FreeBetsController = function() {
            function FreeBetsController(app) {
                var _this = this;
                _classCallCheck(this, FreeBetsController);
                this.app = app;
                this.decodeFreebet = this.decodeFreebet.bind(this);
                this.started = false;
                Object.assign(this.app.model, {
                    isFreeBetsActive: function isFreeBetsActive() {
                        return _this.started
                    },
                    isFreeBets: function isFreeBets() {
                        return _this.app.model.get("freebet.status", null) !== null
                    },
                    isEnoughMoney: function() {
                        var fn = _this.app.model.isEnoughMoney;
                        return function() {
                            return fn.call(this) || this.isFreeBetsActive()
                        }
                    }()
                })
            }
            _createClass(FreeBetsController, [{
                key: "attach",
                value: function attach() {
                    _BootStates.InitState.on(_Enums.GameEvent.EnterState, this.init, this);
                    this.app.model.protocol.addDecodeAfterMiddleware(this.decodeFreebet)
                }
            }, {
                key: "detach",
                value: function detach() {
                    this.stopFreeBet();
                    _BootStates.InitState.off(_Enums.GameEvent.EnterState, this.init, this);
                    this.app.model.protocol.removeDecodeAfterMiddleware(this.decodeFreebet)
                }
            }, {
                key: "init",
                value: function init() {
                    if (!this.inited) {
                        this.inited = true;
                        this.onInit()
                    }
                    this.onReset()
                }
            }, {
                key: "onInit",
                value: function onInit() {}
            }, {
                key: "onReset",
                value: function onReset() {
                    if (this.app.model.get("freebet.status", null) === "active") this.startFreeBet();
                    else this.stopFreeBet()
                }
            }, {
                key: "decodeFreebet",
                value: function decodeFreebet(data) {
                    this.clearFreebet();
                    this.app.model.protocol.expand("freebet", data.freebet || {});
                    var status = this.app.model.get("freebet.status", null);
                    if (this.started && status !== "deleted" && status !== null) {
                        this.app.model.set("game.bet_per_line", this.app.model.get("freebet.multiplier"));
                        this.app.model.set("game.lines", this.app.model.get("freebet.lines"))
                    }
                }
            }, {
                key: "clearFreebet",
                value: function clearFreebet() {
                    for (var i in this.app.model.data) {
                        if (/^freebet./.test(i)) {
                            delete this.app.model.data[i]
                        }
                    }
                }
            }, {
                key: "startFreeBet",
                value: function startFreeBet() {
                    if (this.started) return;
                    this.started = true;
                    this.app.emit(_Enums.GameEvent.FreeBetGranted)
                }
            }, {
                key: "stopFreeBet",
                value: function stopFreeBet() {
                    if (!this.started) return;
                    this.clearFreebet();
                    this.started = false;
                    this.app.emit(_Enums.GameEvent.FreeBetComplete)
                }
            }]);
            return FreeBetsController
        }();
        exports.FreeBetsController = FreeBetsController;
        var _default = FreeBetsController;
        exports.default = _default
    }, {
        "../helpers/i18n": 89,
        "./../core/Enums": 73,
        "./../states/BootStates": 92
    }],
    67: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = exports.GameEventsController = void 0;
        var _Enums = require("./../core/Enums");
        var _BootStates = require("./../states/BootStates");
        var _SpinsStates = require("./../states/SpinsStates");
        var _FreeSpinsStates = require("./../states/FreeSpinsStates");

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function isAppInitialized(app) {
            return ["NoneState", "LoadState", "InitState"].indexOf(app.stateMachine.current) === -1
        }
        var GameEventsController = function() {
            function GameEventsController(app) {
                _classCallCheck(this, GameEventsController);
                this.app = app
            }
            _createClass(GameEventsController, [{
                key: "getMode",
                value: function getMode() {
                    if (this.app.flow.isSpectator()) return "stream";
                    if (this.app.model.isFreeBetsActive()) return "freebet";
                    return "play"
                }
            }, {
                key: "getRoundType",
                value: function getRoundType() {
                    var stateName = this.app.stateMachine.currentState.name;
                    var prevStateName = this.app.stateMachine.oldState.name;
                    if (stateName.endsWith("SpinsState") && prevStateName.indexOf("ReSpin") != -1) {
                        return "respin"
                    }
                    if (stateName.indexOf("ReSpin") != -1) {
                        return "respin"
                    }
                    if (stateName.endsWith("BonusState")) {
                        return "bonus"
                    }
                    if (stateName.endsWith("FreeSpinsState")) {
                        return "freespin"
                    }
                    if (stateName.endsWith("SpinsState")) {
                        return "spin"
                    }
                }
            }, {
                key: "actionFinish",
                value: function actionFinish() {
                    GR.debug && console.warn("[GameEvents]", "actionFinish is deprecated")
                }
            }, {
                key: "actionStart",
                value: function actionStart() {
                    GR.debug && console.warn("[GameEvents]", "actionStart is deprecated")
                }
            }, {
                key: "actionBigWinStart",
                value: function actionBigWinStart(bigWinAmount) {
                    GR.Events.game.bigwin_start({
                        win: bigWinAmount
                    })
                }
            }, {
                key: "actionBigWinStop",
                value: function actionBigWinStop() {
                    GR.Events.game.bigwin_finish()
                }
            }, {
                key: "roundWin",
                value: function roundWin() {
                    return this.app.model.roundWin()
                }
            }, {
                key: "onBalanceUpdate",
                value: function onBalanceUpdate() {
                    if (isAppInitialized(this.app) && this.app.model.has("user.balance")) {
                        GR.Events.game.balance_changed({
                            balance: this.app.model.isFreeBetsActive() ? this.app.model.get("freebet.total_win") : this.app.model.get("user.balance"),
                            mode: this.getMode()
                        })
                    }
                }
            }, {
                key: "attach",
                value: function attach() {
                    var _this = this;
                    GR.Events.game.start();
                    var lastProgress = 0;
                    this.app.on(_Enums.GameEvent.LoadProgress, function(progress) {
                        progress |= 0;
                        if (progress <= lastProgress) return;
                        lastProgress = progress;
                        GR.Events.game.progress({
                            progress: progress
                        })
                    });
                    _BootStates.InitState.once(_Enums.GameEvent.EnterState, function() {
                        return GR.Events.game.loaded()
                    });
                    this.app.on(_Enums.GameEvent.RaisedError, function(data, error) {
                        var message = "";
                        if (data.message) {
                            message = data.message
                        } else if (error && data.code === "CLIENT_ERROR") {
                            message = error.stack
                        }
                        GR.Events.game.error({
                            type: data.type,
                            code: data.code.split("_").slice(1).join("_"),
                            message: message
                        })
                    });
                    this.app.model.follow("cl.sound", function() {
                        return GR.Events.game.sound_changed({
                            is_enabled: _this.app.model.get("cl.sound", false)
                        })
                    });
                    this.app.on(_Enums.GameEvent.BigWinStart, function(bigWinAmount) {
                        return _this.actionBigWinStart(bigWinAmount)
                    });
                    this.app.on(_Enums.GameEvent.BigWinStop, function() {
                        return _this.actionBigWinStop()
                    });
                    this.app.on(_Enums.GameEvent.GrSetBalance, function() {
                        return _this.onBalanceUpdate()
                    })
                }
            }]);
            return GameEventsController
        }();
        exports.GameEventsController = GameEventsController;
        var _default = GameEventsController;
        exports.default = _default
    }, {
        "./../core/Enums": 73,
        "./../states/BootStates": 92,
        "./../states/FreeSpinsStates": 93,
        "./../states/SpinsStates": 94
    }],
    68: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }
        var PressSkip = "PressSkip";
        var emitter = new PIXI.utils.EventEmitter;
        var SkipController = function() {
            function SkipController() {
                _classCallCheck(this, SkipController)
            }
            _createClass(SkipController, null, [{
                key: "_init",
                value: function _init() {
                    if (!GR || !GR.UI || !GR.UI.Events || !GR.UI.Events.spin) return;
                    GR.UI.Events.spin.on(function() {
                        emitter.emit(PressSkip)
                    })
                }
            }, {
                key: "on",
                value: function on(fn, context) {
                    emitter.on(PressSkip, fn, context)
                }
            }, {
                key: "once",
                value: function once(fn, context) {
                    emitter.once(PressSkip, fn, context)
                }
            }, {
                key: "off",
                value: function off(fn, context) {
                    emitter.off(PressSkip, fn, context)
                }
            }]);
            return SkipController
        }();
        SkipController._init();
        var _default = SkipController;
        exports.default = _default
    }, {}],
    69: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = exports.SoundController = void 0;
        var _Sound = _interopRequireDefault(require("./../core/Sound"));
        var _Enums = require("../core/Enums");
        var _app = require("./../app");
        var _states = require("../states");
        var _soundsconfig = require("../../../src/soundsconfig.json");
        var _utils = _interopRequireDefault(require("../helpers/utils"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _defineProperty(obj, key, value) {
            if (key in obj) {
                Object.defineProperty(obj, key, {
                    value: value,
                    enumerable: true,
                    configurable: true,
                    writable: true
                })
            } else {
                obj[key] = value
            }
            return obj
        }
        var SoundController = function() {
            function SoundController(app) {
                _classCallCheck(this, SoundController);
                this.app = app;
                this.config = null;
                this.localSounds = {};
                this.uniqSoundName = {};
                this.currentAmbient = "";
                this.hasBonusGame = app.config.get("Sounds.bonusGame");
                this.mutedSoundArr = [];
                this.setUpConfig()
            }
            _createClass(SoundController, [{
                key: "attach",
                value: function attach() {
                    _states.InitState.once(_Enums.GameEvent.EnterState, this.init, this)
                }
            }, {
                key: "setUpConfig",
                value: function setUpConfig() {
                    console.warn("SoundController.init  please override .setUpConfig function where you setup link to soundconfig.")
                }
            }, {
                key: "init",
                value: function init() {
                    if (!this.inited) {
                        this.inited = true;
                        _Sound.default.init();
                        this.app.model.follow("cl.sound", function(value) {
                            value ? _Sound.default.unmute() : _Sound.default.mute()
                        });
                        this.app.on(_Enums.GameEvent.StatusError, function() {
                            _Sound.default.mute();
                            _Sound.default.pauseAll()
                        });
                        if (_app.env.get("mobile")) {
                            this.app.on(_Enums.GameEvent.GamePause, function() {
                                return _Sound.default.pauseAll()
                            });
                            this.app.on(_Enums.GameEvent.GameResume, function() {
                                return _Sound.default.resumeAll()
                            })
                        }
                        this.app.on(_Enums.GameEvent.SoundFade, function(param) {
                            _Sound.default.fade("ambient", param, 200)
                        });
                        this.app.on("PlayOnceSFX", this.playOnceSFX, this);
                        this.app.on("PlaySFX", this.playSFX, this);
                        this.app.on("StopSFX", this.stopSFX, this);
                        this.initSounds()
                    }
                }
            }, {
                key: "initSounds",
                value: function initSounds() {
                    this.initAmbient();
                    this.initPopups();
                    this.initBigWinSounds();
                    this.initWin()
                }
            }, {
                key: "initAmbient",
                value: function initAmbient() {
                    var _this = this;
                    _states.InitState.on(_Enums.GameEvent.LeaveState, function() {
                        return _this.playMusic(_this.app.model.get("game.current"))
                    });
                    _states.LoadFreeSpinsState.on(_Enums.GameEvent.LeaveState, function() {
                        return _this.playMusic("freespins")
                    });
                    _states.SpinningFreeSpinsState.on(_Enums.GameEvent.EnterState, function() {
                        return _this.playMusic("freespins")
                    });
                    _states.IdleSpinsState.on(_Enums.GameEvent.EnterState, function() {
                        return _this.playMusic("spins")
                    })
                }
            }, {
                key: "initPopups",
                value: function initPopups() {
                    var _this2 = this;
                    this.app.on(_Enums.GameEvent.FreespinIntro, function() {
                        _this2.playSound({
                            file: "fs_start_popup"
                        })
                    });
                    this.app.on(_Enums.GameEvent.FreespinAdditional, function() {
                        _this2.playSound({
                            file: "fs_additional_popup"
                        })
                    });
                    if (this.hasBonusGame) {
                        this.app.on(_Enums.GameEvent.showBonusTransition, function() {
                            _this2.fadeOutAmbient(200, .01, "freespins");
                            _this2.playSound({
                                file: "bn_start_popup"
                            })
                        });
                        this.app.on(_Enums.GameEvent.WinBonus, function() {
                            _this2.playSFX("bonus_win")
                        })
                    }
                }
            }, {
                key: "initBigWinSounds",
                value: function initBigWinSounds() {
                    var _this3 = this;
                    this.app.on(_Enums.GameEvent.BigWinStep, function(s) {
                        if (s === 0) {
                            _this3.playSound({
                                file: "numbers_popup"
                            })
                        }
                        if (s === 1) {
                            _this3.fadeOutAmbient(50);
                            _this3.playSound({
                                file: "coins",
                                id: "coins"
                            });
                            _this3.playSound(_this3._getBigWinSound())
                        }
                    });
                    this.app.on(_Enums.GameEvent.BigWinFinalState, function() {
                        return _this3._stopBigWinSound()
                    });
                    this.app.on(_Enums.GameEvent.BigWinSkip, function() {
                        if (_Sound.default.isPlaying("numbers_popup")) {
                            _this3.playSFX("numbers_popup_skip")
                        }
                        _this3.stopSound("bigwin_popup");
                        _this3.stopSound("megawin_popup");
                        _this3.stopSound("superwin_popup");
                        _this3.stopSound("numbers_popup");
                        _this3._stopBigWinSound()
                    });
                    this.app.on(_Enums.GameEvent.BigWinStop, function() {
                        _this3.stopSound("bigwin_popup");
                        _this3.stopSound("megawin_popup");
                        _this3.stopSound("superwin_popup");
                        _this3.stopSound("numbers_popup");
                        _this3._stopBigWinSound()
                    });
                    this.app.on(_Enums.GameEvent.BigWinCountStop, this._stopBigWinSound, this)
                }
            }, {
                key: "_stopBigWinSound",
                value: function _stopBigWinSound() {
                    var fadeTime = 200;
                    this.fadeInAmbient(fadeTime);
                    this.stopSound("coins", fadeTime);
                    this.stopSound("numbers_popup", fadeTime)
                }
            }, {
                key: "_getBigWinSound",
                value: function _getBigWinSound() {
                    var sounds = {
                        1: {
                            file: "bigwin_popup"
                        },
                        2: {
                            file: "superwin_popup"
                        },
                        3: {
                            file: "megawin_popup"
                        }
                    };
                    var roundWin = this.app.model.roundWin();
                    var roundBet = this.app.model.get("game.round_bet");
                    var multipliers = this.app.model.bigWinMultipliers();
                    for (var i = 0; i < multipliers.length; ++i) {
                        if (roundWin < roundBet * multipliers[i]) {
                            return sounds[i]
                        }
                    }
                    return sounds[multipliers.length]
                }
            }, {
                key: "initWin",
                value: function initWin() {
                    var _this4 = this;
                    this.app.on(_Enums.GameEvent.WinScatter, function() {
                        var winscatters = _this4.app.model.winscatters();
                        if (winscatters.length) {
                            _this4.playSound({
                                file: "scatter_win",
                                id: "scatter_win"
                            })
                        }
                    });
                    this.app.on(_Enums.GameEvent.WinCountStart, function() {
                        _this4.fadeOutAmbient(50);
                        _this4.playSound({
                            file: "cntr_rllng"
                        })
                    });
                    this.app.on(_Enums.GameEvent.WinOneTB, function() {
                        var fadingAmbient = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
                        fadingAmbient && _this4.fadeOutAmbient(50);
                        _this4.playSFX("small_win");
                        fadingAmbient && _utils.default.wait(150).then(function() {
                            return _this4.fadeInAmbient(50)
                        })
                    });
                    this.app.on(_Enums.GameEvent.WinCountEnd, function() {
                        _this4.stopSound("cntr_rllng");
                        _this4.playSound({
                            file: "cntr_rllng_stop"
                        });
                        _utils.default.wait(50).then(function() {
                            return _this4.fadeInAmbient(50)
                        })
                    });
                    this.app.on(_Enums.GameEvent.TotalWinPlay, function() {
                        return _this4._startCounter(false, true)
                    });
                    this.app.on(_Enums.GameEvent.TotalWinPlayShort, function() {
                        return _this4._startCounter(false, false)
                    });
                    this.app.on(_Enums.GameEvent.TotalWinStop, function() {
                        return _this4._stopBackSound(false, true)
                    });
                    this.app.on(_Enums.GameEvent.TotalWinStopShort, function() {
                        return _this4._stopBackSound(false, false)
                    });
                    this.app.on(_Enums.GameEvent.TotalWinCoinsStop, function() {
                        return _this4._stopCounter()
                    });
                    this.app.on(_Enums.GameEvent.TotalWinSkip, function() {
                        if (_Sound.default.isPlaying("fs_total_win_long")) {
                            _this4.stopSound("fs_total_win_long")
                        }
                        _this4._stopCounter();
                        _this4.stopSound(_this4.currentAmbient)
                    });
                    this.app.on(_Enums.GameEvent.TotalWinSkipShort, function() {
                        if (_Sound.default.isPlaying("fs_total_win_short")) {
                            _this4.stopSound("fs_total_win_short")
                        }
                        _this4.stopSound(_this4.currentAmbient)
                    });
                    this.app.on(_Enums.GameEvent.TotalWinPlayCoins, function() {
                        _this4.playSound({
                            file: "coins",
                            id: "coins"
                        })
                    });
                    if (this.hasBonusGame) {
                        this.initBonusWin()
                    }
                }
            }, {
                key: "initBonusWin",
                value: function initBonusWin() {
                    var _this5 = this;
                    this.app.on(_Enums.GameEvent.BonusCollect, function() {
                        return _this5.playSFX("bonus_collect")
                    });
                    this.app.on(_Enums.GameEvent.BonusWinPlay, function() {
                        return _this5._startCounter(true, true)
                    });
                    this.app.on(_Enums.GameEvent.BonusWinPlayShort, function() {
                        return _this5._startCounter(true, false)
                    });
                    this.app.on(_Enums.GameEvent.BonusWinStop, function() {
                        return _this5._stopBackSound(true, true)
                    });
                    this.app.on(_Enums.GameEvent.BonusWinStopShort, function() {
                        return _this5._stopBackSound(true, false)
                    });
                    this.app.on(_Enums.GameEvent.BonusWinCoinsStop, function() {
                        return _this5._stopCounter()
                    });
                    this.app.on(_Enums.GameEvent.BonusMoneyFly, function() {
                        return _this5.playSound({
                            file: "bonus_number_fly"
                        })
                    });
                    this.app.on(_Enums.GameEvent.JackpotGrand, function() {
                        return _this5.playSound({
                            file: "jackpot_win_popup"
                        })
                    });
                    this.app.on(_Enums.GameEvent.JackpotWinSkip, function() {
                        if (_Sound.default.isPlaying("bn_total_win_long")) {
                            _this5.stopSound("bn_total_win_long")
                        }
                    });
                    this.app.on(_Enums.GameEvent.BonusWinPlayCoins, function() {
                        return _this5.playSound({
                            file: "coins",
                            id: "coins"
                        })
                    });
                    this.app.on(_Enums.GameEvent.BonusWinSkip, function() {
                        if (_Sound.default.isPlaying("bn_total_win_long")) {
                            _this5.stopSound("bn_total_win_long")
                        }
                        _this5._stopCounter();
                        _this5.stopSound(_this5.currentAmbient)
                    });
                    this.app.on(_Enums.GameEvent.BonusWinSkipShort, function() {
                        if (_Sound.default.isPlaying("bn_total_win_short")) {
                            _this5.stopSound("bn_total_win_short")
                        }
                        _this5.stopSound(_this5.currentAmbient)
                    });
                    this.app.on(_Enums.GameEvent.BonusAmbientFade, function() {
                        return _this5.fadeOutAmbient(100, .01)
                    });
                    this.app.on(_Enums.GameEvent.BonusWinCollect, function() {
                        _this5.playSound({
                            file: "bonus_track_collect",
                            id: "bonus_track_collect"
                        })
                    });
                    this.app.on(_Enums.GameEvent.BonusWinCollectEnd, function() {
                        return _this5.stopSound("bonus_track_collect", 300)
                    })
                }
            }, {
                key: "_startCounter",
                value: function _startCounter(isBonusWin, isLong) {
                    var winType = isBonusWin ? "bn" : "fs";
                    var duration = isLong ? "long" : "short";
                    this.stopSound(SoundController.SoundMap.music[this.app.model.current()]);
                    if (isLong) this.playSFX("numbers_popup");
                    this.playSound({
                        file: "".concat(winType, "_total_win_").concat(duration)
                    })
                }
            }, {
                key: "_stopCounter",
                value: function _stopCounter() {
                    if (_Sound.default.isPlaying("numbers_popup")) {
                        this.playSFX("numbers_popup_skip");
                        this.stopSound("numbers_popup")
                    }
                    if (_Sound.default.isPlaying("coins")) {
                        this.stopSound("coins", 400)
                    }
                    this.fadeInAmbient(200)
                }
            }, {
                key: "_stopBackSound",
                value: function _stopBackSound(isBonusWin, isLong) {
                    var winType = isBonusWin ? "bn" : "fs";
                    var duration = isLong ? "long" : "short";
                    this.stopSound({
                        file: "".concat(winType, "_total_win_").concat(duration)
                    });
                    this.stopSound(this.currentAmbient)
                }
            }, {
                key: "playOnceSFX",
                value: function playOnceSFX(name, id, property) {
                    if (!_Sound.default.isPlaying(name)) {
                        this.playSound({
                            file: SoundController.SoundMap.sfx[name] || name,
                            id: id,
                            property: property
                        })
                    }
                }
            }, {
                key: "playSFX",
                value: function playSFX(name, id, property) {
                    this.playSound({
                        file: SoundController.SoundMap.sfx[name] || name,
                        id: id,
                        property: property
                    })
                }
            }, {
                key: "playSound",
                value: function playSound(_ref) {
                    var _this6 = this;
                    var _ref$file = _ref.file,
                        file = _ref$file === void 0 ? null : _ref$file,
                        _ref$id = _ref.id,
                        id = _ref$id === void 0 ? file : _ref$id,
                        _ref$property = _ref.property,
                        property = _ref$property === void 0 ? null : _ref$property;
                    var deferred = _utils.default.deferred();
                    if (!property && _soundsconfig.config) {
                        property = Object.assign({}, _soundsconfig.config.sounds[file] || {})
                    }
                    if (this.mutedSoundArr.indexOf(file) >= 0) {
                        property.volume = 0
                    }
                    var uid = "#" + Math.random().toString(36).substr(2, 9);
                    var name = file + uid;
                    this.uniqSoundName[file] = uid;
                    this.app.emit(_Enums.GameEvent.SoundPlay, name);
                    _Sound.default.play(file, id, property, this.localSounds[file] || null).then(function() {
                        _this6.app.emit(_Enums.GameEvent.SoundComplete, name);
                        delete _this6.uniqSoundName[file];
                        deferred.resolve()
                    });
                    return deferred.promise
                }
            }, {
                key: "playMusic",
                value: function playMusic(gameMode) {
                    var name = SoundController.SoundMap.music[gameMode];
                    if (this.currentAmbient && this.currentAmbient !== name) {
                        _Sound.default.fadeAndStop(this.currentAmbient, 300)
                    }
                    if (!_Sound.default.isPlaying(name)) {
                        this.playSound({
                            file: name,
                            id: name
                        })
                    }
                    this.currentAmbient = name;
                    this.app.emit(_Enums.GameEvent.SoundAmbientPlay, this.currentAmbient)
                }
            }, {
                key: "stopSFX",
                value: function stopSFX(name, props) {
                    this.stopSound(SoundController.SoundMap.sfx[name] || name, null, props)
                }
            }, {
                key: "stopSound",
                value: function stopSound(file) {
                    var fadeTime = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
                    _Sound.default.stop(file, fadeTime);
                    var uid = this.uniqSoundName[file];
                    delete this.uniqSoundName[file];
                    var name = file;
                    if (uid) name = file + uid;
                    this.app.emit(_Enums.GameEvent.SoundStop, name)
                }
            }, {
                key: "fadeInAmbient",
                value: function fadeInAmbient(fade) {
                    var current = this.app.model.get("game.current", "spins");
                    var music = SoundController.SoundMap.music[current];
                    if (!music) return;
                    var volume = _soundsconfig.config.sounds[music].volume;
                    if (this.mutedSoundArr.indexOf(music) >= 0) {
                        volume = 0
                    }
                    if (_Sound.default.isPlaying(music)) {
                        _Sound.default.fade(music, volume, fade)
                    }
                }
            }, {
                key: "fadeOutAmbient",
                value: function fadeOutAmbient(fade, volume) {
                    var gameMode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;
                    volume = volume || this.app.config.get("Sounds.fadeVolume");
                    var current = gameMode || this.app.model.get("game.current", "spins");
                    var music = SoundController.SoundMap.music[current];
                    if (this.mutedSoundArr.indexOf(music) >= 0) {
                        volume = 0
                    }
                    if (_Sound.default.isPlaying(music)) {
                        _Sound.default.fade(music, volume, fade)
                    }
                }
            }]);
            return SoundController
        }();
        exports.SoundController = SoundController;
        _defineProperty(SoundController, "SoundMap", {
            sfx: {},
            music: {
                spins: "mainform_track",
                freespins: "freespin_track",
                bonus: "bonus_track"
            }
        });
        var _default = SoundController;
        exports.default = _default
    }, {
        "../../../src/soundsconfig.json": 143,
        "../core/Enums": 73,
        "../helpers/utils": 91,
        "../states": 95,
        "./../app": 33,
        "./../core/Sound": 80
    }],
    70: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;
        var _GRPaytable = _interopRequireDefault(require("../components/GRPaytable"));
        require("../styles/paytable_gr.pcss");

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }
        var GR = {
            Dialog: function Dialog() {
                var _window$GR;
                return (_window$GR = window.GR).Dialog.apply(_window$GR, arguments)
            },
            UI: {
                model: {
                    set: function set(key) {
                        if (key === "paytable") {
                            var _window$GR$UI$model;
                            for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
                                args[_key - 1] = arguments[_key]
                            }
                            return (_window$GR$UI$model = window.GR.UI.model).set.apply(_window$GR$UI$model, [key].concat(args))
                        }
                    }
                }
            }
        };
        var ViewController = function() {
            function ViewController(app) {
                _classCallCheck(this, ViewController);
                this.app = app;
                this.mode = null
            }
            _createClass(ViewController, [{
                key: "attach",
                value: function attach() {}
            }, {
                key: "detach",
                value: function detach() {}
            }, {
                key: "init",
                value: function init() {
                    this.initPaytable()
                }
            }, {
                key: "lock",
                value: function lock() {}
            }, {
                key: "unlock",
                value: function unlock() {}
            }, {
                key: "initPaytable",
                value: function initPaytable() {
                    var pt = this.paytable = new _GRPaytable.default;
                    pt.init()
                }
            }, {
                key: "use",
                value: function use() {
                    var mode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
                    var animated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
                    this.mode = mode;
                    GR.UI.model.set("game_mode", this.mode)
                }
            }, {
                key: "show",
                value: function show() {
                    var animated = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
                    GR.UI.model.set("game_mode", this.mode)
                }
            }, {
                key: "hide",
                value: function hide() {
                    var animated = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
                    GR.UI.model.set("game_mode", null)
                }
            }, {
                key: "setBalance",
                value: function setBalance(value) {
                    var balance = value === undefined ? this.app.model.balance() : value;
                    GR.UI.model.set("balance", balance);
                    var freebetWin = value === undefined ? this.app.model.get("freebet.total_win", null) : value;
                    GR.UI.model.set("freebet.total_win", freebetWin)
                }
            }, {
                key: "setRoundWin",
                value: function setRoundWin(value) {
                    value = value === undefined ? this.app.model.roundWin() : value;
                    GR.UI.model.set("win", value);
                    GR.UI.model.set("total_win", this.app.model.current("total_win", 0))
                }
            }, {
                key: "showInfoDialog",
                value: function showInfoDialog(params) {
                    return GR.Dialog(params)
                }
            }, {
                key: "showErrorDialog",
                value: function showErrorDialog(params) {
                    return GR.Dialog.error(params)
                }
            }], [{
                key: "type",
                get: function get() {
                    return "ui"
                }
            }]);
            return ViewController
        }();
        exports.default = ViewController
    }, {
        "../components/GRPaytable": 38,
        "../styles/paytable_gr.pcss": 98
    }],
    71: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        Object.defineProperty(exports, "AnalyticsController", {
            enumerable: true,
            get: function get() {
                return _AnalyticsController.default
            }
        });
        Object.defineProperty(exports, "AutoGameController", {
            enumerable: true,
            get: function get() {
                return _AutoGameController.default
            }
        });
        Object.defineProperty(exports, "FlowController", {
            enumerable: true,
            get: function get() {
                return _FlowController.default
            }
        });
        Object.defineProperty(exports, "FreeBetsController", {
            enumerable: true,
            get: function get() {
                return _FreeBetsController.default
            }
        });
        Object.defineProperty(exports, "GameEventsController", {
            enumerable: true,
            get: function get() {
                return _GameEventsController.default
            }
        });
        Object.defineProperty(exports, "SoundController", {
            enumerable: true,
            get: function get() {
                return _SoundController.default
            }
        });
        Object.defineProperty(exports, "ViewController", {
            enumerable: true,
            get: function get() {
                return _ViewController.default
            }
        });
        var _AnalyticsController = _interopRequireDefault(require("./AnalyticsController"));
        var _AutoGameController = _interopRequireDefault(require("./AutoGameController"));
        var _FlowController = _interopRequireDefault(require("./FlowController"));
        var _FreeBetsController = _interopRequireDefault(require("./FreeBetsController"));
        var _GameEventsController = _interopRequireDefault(require("./GameEventsController"));
        var _SoundController = _interopRequireDefault(require("./SoundController"));
        var _ViewController = _interopRequireDefault(require("./ViewController"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }
    }, {
        "./AnalyticsController": 62,
        "./AutoGameController": 63,
        "./FlowController": 65,
        "./FreeBetsController": 66,
        "./GameEventsController": 67,
        "./SoundController": 69,
        "./ViewController": 70
    }],
    72: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = exports.Config = void 0;
        var _utils = require("../helpers/utils");

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }
        var Config = function() {
            function Config() {
                _classCallCheck(this, Config);
                this.data = {}
            }
            _createClass(Config, [{
                key: "get",
                value: function get(key) {
                    var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;
                    return this.data.hasOwnProperty(key) ? this.data[key] : defaultValue
                }
            }, {
                key: "set",
                value: function set(key, value) {
                    this.data[key] = value
                }
            }, {
                key: "parseConfig",
                value: function parseConfig(data) {
                    var _this = this;
                    _utils.utils.objectDeepEach(function() {
                        return _this.set.apply(_this, arguments)
                    }, data, "")
                }
            }]);
            return Config
        }();
        exports.Config = Config;
        var _default = Config;
        exports.default = _default
    }, {
        "../helpers/utils": 91
    }],
    73: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = exports.GameEvent = exports.Fabrics = void 0;
        var GameEvent = {
            action: function action(name) {
                return "Action".concat(name.title())
            },
            stateReady: function stateReady(name) {
                return "StateReady".concat(name.title())
            },
            modelUpdate: function modelUpdate(name) {
                return "".concat(GameEvent.ModelUpdate).concat(name)
            },
            roundStart: function roundStart(name) {
                return "RoundStart".concat(name.title())
            },
            roundResult: function roundResult(name) {
                return "RoundResult".concat(name.title())
            }
        };
        exports.GameEvent = GameEvent;
        var Fabrics = {
            BACKGROUND: "bg",
            BOARD: "board",
            GAME_SYMBOL: "game_symbol",
            START_SCREEN: "startScreen"
        };
        exports.Fabrics = Fabrics;
        GameEvent.Start = "Start";
        GameEvent.StatusError = "StatusError";
        GameEvent.StatusExceed = "StatusExceed";
        GameEvent.RaisedError = "RaisedError";
        GameEvent.RoundStart = "RoundStart";
        GameEvent.ReSpinState = "ReSpinState";
        GameEvent.Avalanche = "Avalanche";
        GameEvent.RoundWin = "setRoundWin";
        GameEvent.SetBalance = "setBalance";
        GameEvent.GrSetBalance = "grSetBalance";
        GameEvent.EnterState = "EnterState";
        GameEvent.LeaveState = "LeaveState";
        GameEvent.WillEnterState = "WillEnterState";
        GameEvent.WillLeaveState = "WillLeaveState";
        GameEvent.StateChanged = "StateChanged";
        GameEvent.LoaderDone = "LoaderDone";
        GameEvent.LoaderBackgroundDone = "LoaderBackgroundDone";
        GameEvent.LoaderSoundsDone = "LoaderSoundsDone";
        GameEvent.LoadProgress = "LoadProgress";
        GameEvent.NetFail = "NetFail";
        GameEvent.NetLost = "NetLost";
        GameEvent.NetReconnecting = "NetReconnecting";
        GameEvent.ConnectionDone = "ConnectionDone";
        GameEvent.ModelUpdate = "ModelUpdate:";
        GameEvent.Win = "Win";
        GameEvent.BigWin = "BigWin";
        GameEvent.BigWinStart = "BigWinStart";
        GameEvent.BigWinStep = "BigWinStep";
        GameEvent.BigWinStop = "BigWinStop";
        GameEvent.BigWinPeak = "BigWinPeak";
        GameEvent.BigWinCountStop = "BigWinCountStop";
        GameEvent.WinScatter = "WinScatter";
        GameEvent.GameResizeComplete = "GameResizeComplete";
        GameEvent.GamePause = "GamePause";
        GameEvent.GameResume = "GameResume";
        GameEvent.SoundFade = "SoundFade";
        GameEvent.ClickButton = "ClickButton";
        GameEvent.SymbolClick = "SymbolClick";
        GameEvent.MarkerTap = "MarkerTap";
        GameEvent.MarkerTapOut = "MarkerTapOut";
        GameEvent.AutoGameEnd = "AutoGameEndEvent";
        GameEvent.BigWinSchetStart = "BigWinSchetStart";
        GameEvent.BigWinSchetStartMoney = "BigWinSchetStartMoney";
        GameEvent.BigWinSkip = "BigWinSkip";
        GameEvent.BigWinFinalState = "BigWinFinalState";
        GameEvent.WinCountStart = "WinCountStart";
        GameEvent.WinCountEnd = "WinCountEnd";
        GameEvent.WinOneTB = "WinOneTB";
        GameEvent.BasePopupPlay = "BasePopupPlay";
        GameEvent.BasePopupStop = "BasePopupStop";
        GameEvent.LabelPopupShow = "LabelPopupShow";
        GameEvent.SplashScreenShow = "SplashScreenShow";
        GameEvent.TotalWinPlay = "TotalWinPlay";
        GameEvent.TotalWinPlayShort = "TotalWinPlayShort";
        GameEvent.TotalWinPlayCoins = "TotalWinPlayCoins";
        GameEvent.TotalWinStop = "TotalWinStop";
        GameEvent.TotalWinStopShort = "TotalWinStopShort";
        GameEvent.TotalWinCoinsStop = "TotalWinCoinsStop";
        GameEvent.TotalWinSkip = "TotalWinSkip";
        GameEvent.StopTotalWin = "stopTotalWin";
        GameEvent.TotalWinSkipShort = "TotalWinSkipShort";
        GameEvent.HideCounter = "HideCounter";
        GameEvent.WinFreeSpins = "WinFreeSpins";
        GameEvent.WinAdditionalFreeSpins = "WinAdditionalFreeSpins";
        GameEvent.FreespinPick = "FreespinPick";
        GameEvent.FreeSpinsOutroLabel = "FreeSpinsOutroLabel";
        GameEvent.FreespinIntro = "FreespinIntro";
        GameEvent.FreespinAdditional = "FreespinAdditional";
        GameEvent.FreespinOutro = "FreespinOutro";
        GameEvent.FreespinsPopupPlay = "FreespinsPopupPlay";
        GameEvent.FreespinsPopupStop = "FreespinsPopupStop";
        GameEvent.BonusWinPlay = "BonusWinPlay";
        GameEvent.BonusWinPlayShort = "ShortBonusWinPlay";
        GameEvent.BonusWinPlayCoins = "BonusWinPlayCoins";
        GameEvent.BonusWinCoinsStop = "BonusWinCoinsStop";
        GameEvent.BonusWinStop = "BonusWinStop";
        GameEvent.BonusStop = "BonusStop";
        GameEvent.BonusIntro = "BonusIntro";
        GameEvent.BonusRoundStart = "BonusRoundStart";
        GameEvent.BonusStartAmbient = "BonusStartAmbient";
        GameEvent.BonusWinCollect = "BonusWinCollect";
        GameEvent.BonusWinCollectEnd = "BonusWinCollectEnd";
        GameEvent.BonusMoneyFly = "BonusMoneyFly";
        GameEvent.BonusWinSkip = "BonusWinSkip";
        GameEvent.BonusWinSkipShort = "BonusWinSkipShort";
        GameEvent.BonusAmbientFade = "BonusAmbientFade";
        GameEvent.BonusPick = "BonusPick";
        GameEvent.BonusPickWlEvent = "BonusPickWlEvent";
        GameEvent.BonusRoundWin = "BonusRoundWin";
        GameEvent.BonusRoundEnd = "BonusRoundEnd";
        GameEvent.WinBonus = "WinBonus";
        GameEvent.BonusCollect = "BonusCollect";
        GameEvent.BonusWinStopShort = "BonusWinStopShort";
        GameEvent.BonusWinPlayCoins = "BonusWinPlayCoins";
        GameEvent.showBonusTransition = "showBonusTransition";
        GameEvent.JackpotMini = "JackpotMini";
        GameEvent.JackpotMinor = "JackpotMinor";
        GameEvent.JackpotMajor = "JackpotMajor";
        GameEvent.JackpotGrand = "JackpotGrand";
        GameEvent.JackpotWinSkip = "JackpotWinSkip";
        GameEvent.SoundAmbientPlay = "SoundAmbientPlay";
        GameEvent.SoundComplete = "SoundComplete";
        GameEvent.SoundPlay = "SoundPlay";
        GameEvent.SoundStop = "SoundStop";
        GameEvent.AutoTestPopupShow = "AutoTestPopupShow";
        GameEvent.OpenDebugPanel = "OpenDebugPanel";
        Object.defineProperties(GameEvent, {
            BigwinSchetStart: {
                get: function get() {
                    console.warn("Use GameEvent.BigWinSchetStart instead of GameEvent.BigwinSchetStart!!!");
                    return GameEvent.BigWinSchetStart
                }
            },
            BigwinSchetStop: {
                get: function get() {
                    console.warn("Use GameEvent.BigWinFinalState instead of GameEvent.BigwinSchetStop!!!");
                    return GameEvent.BigWinFinalState
                }
            },
            BigWinSchetStop: {
                get: function get() {
                    console.warn("Use GameEvent.BigWinFinalState instead of GameEvent.BigwinSchetStop!!!");
                    return GameEvent.BigWinFinalState
                }
            },
            BigwinSchetStartMoney: {
                get: function get() {
                    console.warn("Use GameEvent.BigWinSchetStartMoney instead of GameEvent.BigwinSchetStartMoney!!!");
                    return GameEvent.BigWinSchetStartMoney
                }
            }
        });
        var _default = GameEvent;
        exports.default = _default
    }, {}],
    74: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;

        function _construct(Parent, args, Class) {
            if (_isNativeReflectConstruct()) {
                _construct = Reflect.construct
            } else {
                _construct = function _construct(Parent, args, Class) {
                    var a = [null];
                    a.push.apply(a, args);
                    var Constructor = Function.bind.apply(Parent, a);
                    var instance = new Constructor;
                    if (Class) _setPrototypeOf(instance, Class.prototype);
                    return instance
                }
            }
            return _construct.apply(null, arguments)
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }
        var classes = {};
        var Fabric = function() {
            function Fabric() {
                _classCallCheck(this, Fabric)
            }
            _createClass(Fabric, null, [{
                key: "get",
                value: function get(typeClass) {
                    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
                        args[_key - 1] = arguments[_key]
                    }
                    return _construct(classes[typeClass] || typeClass, args)
                }
            }, {
                key: "set",
                value: function set(typeClass, cls) {
                    classes[typeClass] = cls;
                    return Fabric.getCls(typeClass)
                }
            }, {
                key: "getCls",
                value: function getCls(typeCls) {
                    if (!(typeCls in classes)) new TypeError('Fabric :: Class "'.concat(typeCls, '" not found!'));
                    return classes[typeCls]
                }
            }]);
            return Fabric
        }();
        var _default = Fabric;
        exports.default = _default
    }, {}],
    75: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;
        var _GameProtocol = _interopRequireDefault(require("./GameProtocol"));
        var _Enums = require("./Enums");
        var _utils = require("../helpers/utils");
        var _app = require("../app");
        var _deepEqual = _interopRequireDefault(require("deep-equal"));
        var _app2 = _interopRequireDefault(require("core/app"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _createForOfIteratorHelper(o, allowArrayLike) {
            var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"];
            if (!it) {
                if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") {
                    if (it) o = it;
                    var i = 0;
                    var F = function F() {};
                    return {
                        s: F,
                        n: function n() {
                            if (i >= o.length) return {
                                done: true
                            };
                            return {
                                done: false,
                                value: o[i++]
                            }
                        },
                        e: function e(_e) {
                            throw _e
                        },
                        f: F
                    }
                }
                throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
            }
            var normalCompletion = true,
                didErr = false,
                err;
            return {
                s: function s() {
                    it = it.call(o)
                },
                n: function n() {
                    var step = it.next();
                    normalCompletion = step.done;
                    return step
                },
                e: function e(_e2) {
                    didErr = true;
                    err = _e2
                },
                f: function f() {
                    try {
                        if (!normalCompletion && it.return != null) it.return()
                    } finally {
                        if (didErr) throw err
                    }
                }
            }
        }

        function _toConsumableArray(arr) {
            return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread()
        }

        function _nonIterableSpread() {
            throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }

        function _unsupportedIterableToArray(o, minLen) {
            if (!o) return;
            if (typeof o === "string") return _arrayLikeToArray(o, minLen);
            var n = Object.prototype.toString.call(o).slice(8, -1);
            if (n === "Object" && o.constructor) n = o.constructor.name;
            if (n === "Map" || n === "Set") return Array.from(o);
            if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen)
        }

        function _iterableToArray(iter) {
            if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter)
        }

        function _arrayWithoutHoles(arr) {
            if (Array.isArray(arr)) return _arrayLikeToArray(arr)
        }

        function _arrayLikeToArray(arr, len) {
            if (len == null || len > arr.length) len = arr.length;
            for (var i = 0, arr2 = new Array(len); i < len; i++) {
                arr2[i] = arr[i]
            }
            return arr2
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var DEEP_EQUAL_OPTIONS = {
            strict: true
        };
        var GameModel = function(_PIXI$utils$EventEmit) {
            _inherits(GameModel, _PIXI$utils$EventEmit);
            var _super = _createSuper(GameModel);

            function GameModel() {
                var _this;
                _classCallCheck(this, GameModel);
                _this = _super.call(this);
                _this._followers = _this._followers || {
                    counter: -1
                };
                _this.data = {};
                _this.protocol = new _GameProtocol.default(_assertThisInitialized(_this));
                _this.locks = 0;
                _this.updates = {};
                _this.initListeners();
                _this.set("gr.autogame", 0);
                _this.set("gr.autogame_origin", 0);
                _this.set("gr.autogame_round", false);
                return _this
            }
            _createClass(GameModel, [{
                key: "initListeners",
                value: function initListeners() {
                    var _this2 = this;
                    GR.UI.model.follow("bet", function(v) {
                        return _this2.set("game.round_bet", v)
                    });
                    GR.UI.model.follow("turboskip.active", function(v) {
                        return _this2.set("turboskip.active", v)
                    });
                    this.follow("game.lines", function() {
                        return _this2.calculateRoundBet()
                    });
                    this.follow("game.bet_per_line", function() {
                        return _this2.calculateRoundBet()
                    });
                    this.follow("settings.autogames", function(v) {
                        var autoGameIndex = 0;
                        var maxInitialAutoGameValue = 100;
                        for (var i = 0; i < v.length; ++i) {
                            if (v[i] > maxInitialAutoGameValue) break;
                            autoGameIndex = i
                        }
                        _this2.set("gr.autogame_origin", v[autoGameIndex])
                    });
                    this.on("".concat(_Enums.GameEvent.ModelUpdate, "game.round_bet"), function(event) {
                        if (event.oldValue === undefined) return;
                        _this2.clearWins()
                    })
                }
            }, {
                key: "has",
                value: function has(key) {
                    return key in this.data
                }
            }, {
                key: "get",
                value: function get(key, defaultValue) {
                    if (defaultValue === undefined && !this.has(key)) {
                        throw new TypeError("GameModel :: Cannot read property ".concat(key))
                    }
                    defaultValue = typeof defaultValue === "undefined" ? null : defaultValue;
                    var value = this.data[key];
                    return typeof value === "undefined" ? defaultValue : value
                }
            }, {
                key: "set",
                value: function set(key, value) {
                    var oldValue = this.data[key];
                    if ((0, _deepEqual.default)(oldValue, value, DEEP_EQUAL_OPTIONS)) {
                        return
                    }
                    this.data[key] = value;
                    this.emitUpdate(key, {
                        value: value,
                        oldValue: oldValue
                    })
                }
            }, {
                key: "emitUpdate",
                value: function emitUpdate(key) {
                    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
                        args[_key - 1] = arguments[_key]
                    }
                    if (this.locks) {
                        this.updates[key] = args
                    } else {
                        this.emit.apply(this, [_Enums.GameEvent.ModelUpdate + key].concat(args))
                    }
                }
            }, {
                key: "lock",
                value: function lock() {
                    ++this.locks
                }
            }, {
                key: "unlock",
                value: function unlock() {
                    var _this3 = this;
                    --this.locks;
                    if (!this.locks) {
                        var updates = this.updates;
                        Object.getOwnPropertyNames(updates).forEach(function(key) {
                            _this3.emitUpdate.apply(_this3, [key].concat(_toConsumableArray(updates[key])))
                        });
                        this.updates = {}
                    }
                }
            }, {
                key: "follow",
                value: function follow(key, callback) {
                    var ctx = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
                    var once = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
                    ctx = ctx || this;
                    var fn = function fn(data) {
                        return callback.call(ctx, data.value, data.oldValue)
                    };
                    var event = _Enums.GameEvent.ModelUpdate + key;
                    this[once ? "once" : "on"](event, fn);
                    if (this.has(key)) {
                        callback.call(ctx, this.get(key), null)
                    }
                    this._followers.counter = ++this._followers.counter;
                    this._followers[this._followers.counter] = {
                        event: event,
                        fn: fn,
                        ctx: ctx,
                        once: once
                    };
                    return this._followers.counter
                }
            }, {
                key: "unfollow",
                value: function unfollow(id) {
                    var listener = this._followers[id];
                    if (!listener) return;
                    this.off(listener.event, listener.fn, listener.ctx);
                    delete this._followers[id]
                }
            }, {
                key: "isFunMode",
                value: function isFunMode() {
                    return this.get("user.currency") === "FUN"
                }
            }, {
                key: "adjustBetPerLine",
                value: function adjustBetPerLine() {
                    var current = this.get("game.current");
                    var isBetNotInLimits = this.get("settings.bets").indexOf(this.get("game.bet_per_line")) === -1;
                    if (current == "spins" && isBetNotInLimits) {
                        this.setBetPerLine(this.get("settings.bets")[0])
                    }
                }
            }, {
                key: "isEnoughMoney",
                value: function isEnoughMoney() {
                    return this.get("user.balance") >= this.roundBet()
                }
            }, {
                key: "generateAnticipationMap",
                value: function generateAnticipationMap(symbols) {
                    var _this4 = this;
                    if (!Array.isArray(symbols)) symbols = [symbols];
                    var map = _utils.utils.range(0, this.cols()).map(function(_) {
                        return 0
                    });
                    var board = this.board();
                    var _iterator = _createForOfIteratorHelper(symbols),
                        _step;
                    try {
                        var _loop = function _loop() {
                            var info = _step.value;
                            var currentSymbolCount = 0;
                            var reels = info.reels || _utils.utils.range(0, _this4.cols()).map(function(_) {
                                return 1
                            });
                            var scatterMap = board.map(function(i) {
                                return i.indexOf(info.id) !== -1
                            });
                            var left = reels.reduce(function(previousValue, currentValue) {
                                return previousValue + (currentValue > 0 | 0)
                            }, 0);
                            var count = info.count;
                            var countForAnticipation = void 0;
                            if ("countForAnticipation" in info) {
                                countForAnticipation = info.countForAnticipation
                            } else if (left <= count) {
                                countForAnticipation = 1
                            } else {
                                countForAnticipation = 2
                            }
                            countForAnticipation -= 1;
                            for (var reel = 0; reel < reels.length; reel++) {
                                if (!reels[reel]) continue;
                                if (currentSymbolCount > countForAnticipation && left + currentSymbolCount >= count) map[reel] = 1;
                                if (scatterMap[reel]) currentSymbolCount++;
                                left--
                            }
                        };
                        for (_iterator.s(); !(_step = _iterator.n()).done;) {
                            _loop()
                        }
                    } catch (err) {
                        _iterator.e(err)
                    } finally {
                        _iterator.f()
                    }
                    return map
                }
            }, {
                key: "anticipationMap",
                value: function anticipationMap() {
                    return _utils.utils.range(0, this.cols()).map(function(_) {
                        return 0
                    })
                }
            }, {
                key: "generateTriggerMap",
                value: function generateTriggerMap(symbols) {
                    if (!Array.isArray(symbols)) symbols = [symbols];
                    var board = this.board();
                    var map = board.map(function(reel) {
                        return new Array(reel.length)
                    });
                    var _iterator2 = _createForOfIteratorHelper(symbols),
                        _step2;
                    try {
                        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
                            var info = _step2.value;
                            var reels = info.reels || _utils.utils.range(0, board.length).map(function() {
                                return 1
                            });
                            var reelsCount = reels.reduce(function(a, c) {
                                return a + c
                            }, 0);
                            var needCount = info.count;
                            var currSymbolCount = 0;
                            var reelsLeft = reelsCount;
                            for (var i = 0; i < board.length; i++) {
                                if (!reels[i]) continue;
                                for (var j = 0; j < board[i].length; j++) {
                                    var skipAnimation = currSymbolCount + reelsLeft < needCount && reelsLeft < reelsCount;
                                    if (info.id === board[i][j] && !skipAnimation) {
                                        map[i][j] = 1;
                                        currSymbolCount++
                                    }
                                }
                                reelsLeft--
                            }
                        }
                    } catch (err) {
                        _iterator2.e(err)
                    } finally {
                        _iterator2.f()
                    }
                    return map
                }
            }, {
                key: "triggerMap",
                value: function triggerMap() {
                    return []
                }
            }, {
                key: "canAction",
                value: function canAction(action) {
                    return this.get("game.actions").indexOf(action) !== -1
                }
            }, {
                key: "hasTrigger",
                value: function hasTrigger(trigger) {
                    var winlines = this.current("winlines", []);
                    for (var i = 0; i < winlines.length; ++i) {
                        if (winlines[i].trigger === trigger) return true
                    }
                    var winscatters = this.current("winscatters", []);
                    for (var _i = 0; _i < winscatters.length; ++_i) {
                        if (winscatters[_i].trigger === trigger) return true
                    }
                    return false
                }
            }, {
                key: "hasSomeTrigger",
                value: function hasSomeTrigger() {
                    return this.get("game.actions").some(function(action) {
                        return action.indexOf("_init") !== -1 || action.indexOf("_stop") !== -1
                    })
                }
            }, {
                key: "clearWins",
                value: function clearWins() {
                    this.set("game.spins.winlines", []);
                    this.set("game.spins.winscatter", []);
                    this.set("game.spins.combinations", []);
                    this.set("game.spins.round_win", 0)
                }
            }, {
                key: "canFreeSpinAction",
                value: function canFreeSpinAction() {
                    return this.canAction("freespin")
                }
            }, {
                key: "isFreeSpins",
                value: function isFreeSpins() {
                    return this.get("game.current") === "freespins"
                }
            }, {
                key: "isFreeSpinsIntro",
                value: function isFreeSpinsIntro() {
                    return this.canFreeSpinAction() && !this.isFreeSpins()
                }
            }, {
                key: "isFreeSpinsOutro",
                value: function isFreeSpinsOutro() {
                    return this.canAction("freespin_stop")
                }
            }, {
                key: "isFreeSpinsGranted",
                value: function isFreeSpinsGranted() {
                    return this.getFreeSpinsGranted() !== null
                }
            }, {
                key: "getFreeSpinsGranted",
                value: function getFreeSpinsGranted() {
                    return this.current("rounds_granted")
                }
            }, {
                key: "clearFreeSpins",
                value: function clearFreeSpins() {
                    this.set("game.total_win", 0);
                    this.set("game.freespins.total_win", 0);
                    this.set("game.freespins.round_win", 0);
                    this.clearWins()
                }
            }, {
                key: "subtractFreeSpins",
                value: function subtractFreeSpins() {
                    this.set("game.left", Math.max(0, this.get("game.left") - 1))
                }
            }, {
                key: "getAutoGame",
                value: function getAutoGame() {
                    if (!this.isAutoGame()) return null;
                    return this.get("gr.autogame")
                }
            }, {
                key: "setAutoGame",
                value: function setAutoGame(repeats) {
                    this.set("gr.autogame", repeats);
                    this.set("gr.autogame_origin", repeats);
                    this.set("gr.autogame_round", repeats > 0)
                }
            }, {
                key: "decreaseAutoGame",
                value: function decreaseAutoGame() {
                    var value = this.get("gr.autogame");
                    this.set("gr.autogame", Math.max(value - 1, 0));
                    this.set("gr.autogame_round", value > 0)
                }
            }, {
                key: "isAutoGame",
                value: function isAutoGame() {
                    return this.get("gr.autogame", 0) > 0
                }
            }, {
                key: "isAutoGameLastRound",
                value: function isAutoGameLastRound() {
                    return !this.isAutoGame() && this.get("gr.autogame_round", 0)
                }
            }, {
                key: "clearAutoGame",
                value: function clearAutoGame() {
                    this.set("gr.autogame", 0);
                    this.set("gr.autogame_round", false)
                }
            }, {
                key: "getRoundBet",
                value: function getRoundBet(bet) {
                    var lines = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
                    if (lines === null) lines = this.get("game.lines");
                    return bet * lines
                }
            }, {
                key: "calculateRoundBet",
                value: function calculateRoundBet() {
                    var _ref = [this.get("game.bet_per_line", null), this.get("game.lines", null)],
                        bet = _ref[0],
                        lines = _ref[1];
                    if (bet === null || lines === null) return;
                    this.set("game.round_bet", this.getRoundBet(bet, lines))
                }
            }, {
                key: "calculateMaxBet",
                value: function calculateMaxBet() {
                    this.setBetPerLine(Math.max.apply(null, this.get("settings.bets")));
                    this.setLines(Math.max.apply(null, this.get("settings.lines")))
                }
            }, {
                key: "setBetPerLine",
                value: function setBetPerLine(value) {
                    if (this.get("settings.bets").indexOf(value) === -1) {
                        throw new TypeError
                    }
                    this.set("game.bet_per_line", value)
                }
            }, {
                key: "setLines",
                value: function setLines(value) {
                    if (this.get("settings.lines").indexOf(value) === -1) {
                        throw new TypeError
                    }
                    this.set("game.lines", value)
                }
            }, {
                key: "decreaseLines",
                value: function decreaseLines() {
                    var lines = this.get("settings.lines");
                    var value = this.get("game.lines");
                    var index = lines.indexOf(value);
                    if (index > 0) {
                        this.set("game.lines", lines[index - 1])
                    }
                }
            }, {
                key: "increaseLines",
                value: function increaseLines() {
                    var lines = this.get("settings.lines");
                    var value = this.get("game.lines");
                    var index = lines.indexOf(value);
                    if (index < lines.length - 1) this.set("game.lines", lines[index + 1])
                }
            }, {
                key: "decreaseBetPerLine",
                value: function decreaseBetPerLine() {
                    var limits = this.get("settings.bets");
                    var value = this.get("game.bet_per_line");
                    var index = limits.indexOf(value);
                    if (index > 0) this.setBetPerLine(limits[index - 1])
                }
            }, {
                key: "increaseBetPerLine",
                value: function increaseBetPerLine() {
                    var limits = this.get("settings.bets");
                    var value = this.get("game.bet_per_line");
                    var index = limits.indexOf(value);
                    if (index < limits.length - 1) this.setBetPerLine(limits[index + 1])
                }
            }, {
                key: "current",
                value: function current() {
                    var key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
                    var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
                    var current = this.get("game.current", null);
                    return key === null ? current : this.get("game.".concat(current, ".").concat(key), defaultValue)
                }
            }, {
                key: "game",
                value: function game() {
                    return this.current.apply(this, arguments)
                }
            }, {
                key: "balance",
                value: function balance() {
                    return this.get("user.balance")
                }
            }, {
                key: "setBalance",
                value: function setBalance(balance) {
                    this.set("user.balance", balance)
                }
            }, {
                key: "reduceBalance",
                value: function reduceBalance() {
                    this.setBalance(this.balance() - this.roundBet())
                }
            }, {
                key: "cols",
                value: function cols() {
                    return this.board().length
                }
            }, {
                key: "rows",
                value: function rows() {
                    var reelId = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;
                    return this.board()[reelId - 1].length
                }
            }, {
                key: "board",
                value: function board() {
                    return this.current("board")
                }
            }, {
                key: "roundBet",
                value: function roundBet() {
                    return this.get("game.round_bet")
                }
            }, {
                key: "roundWin",
                value: function roundWin() {
                    return this.current("round_win", 0)
                }
            }, {
                key: "winlines",
                value: function winlines() {
                    return this.current("winlines", [])
                }
            }, {
                key: "winscatters",
                value: function winscatters() {
                    return this.current("winscatters", [])
                }
            }, {
                key: "isBonusTrigger",
                value: function isBonusTrigger() {
                    return false
                }
            }, {
                key: "isQuickSpin",
                value: function isQuickSpin() {
                    return this.get("cl.quick_spin") && !_app2.default.controllers.flow.isSpectator()
                }
            }, {
                key: "setQuickSpin",
                value: function setQuickSpin(value) {
                    this.set("cl.quick_spin", !!value)
                }
            }, {
                key: "isMobile",
                value: function isMobile() {
                    return _app.env.get("mobile")
                }
            }, {
                key: "switchSound",
                value: function switchSound() {
                    this.set("cl.sound", !this.get("cl.sound"))
                }
            }, {
                key: "getSettingsSymbol",
                value: function getSettingsSymbol(symbolId, multiplier) {
                    return this.get("settings.paytable.".concat(symbolId)).filter(function(i) {
                        return i.occurrences === multiplier
                    })[0] || {
                        multiplier: 0
                    }
                }
            }, {
                key: "bigWinMultipliers",
                value: function bigWinMultipliers() {
                    var multipliers = this.get("settings.big_win", null);
                    if (!multipliers || !multipliers.length) {
                        return [Infinity]
                    }
                    return multipliers
                }
            }, {
                key: "isBigWin",
                value: function isBigWin() {
                    var roundWin = this.roundWin();
                    return roundWin === 0 ? false : roundWin >= this.roundBet() * this.bigWinMultipliers()[0]
                }
            }, {
                key: "lastAction",
                value: function lastAction() {
                    return this.get("game.last_action")
                }
            }, {
                key: "isFreeBetsActive",
                value: function isFreeBetsActive() {
                    return false
                }
            }, {
                key: "isFreeBets",
                value: function isFreeBets() {
                    return false
                }
            }, {
                key: "statusOk",
                get: function get() {
                    return this.get("status.type", "ok") === "ok"
                }
            }, {
                key: "getMaxWin",
                value: function getMaxWin() {
                    var bets = this.get("settings.bets");
                    var betFactor = this.get("settings.bet_factor");
                    var maxBet = bets[bets.length - 1];
                    return maxBet * betFactor * this.getMaxPaytableMultiplier()
                }
            }, {
                key: "getMaxPaytableMultiplier",
                value: function getMaxPaytableMultiplier() {
                    var max = 0;
                    var counter = 1;
                    while (this.has("settings.paytable.".concat(counter))) {
                        var multiplier = this.get("settings.paytable.".concat(counter))[0].multiplier;
                        max = max < multiplier ? multiplier : max;
                        counter++
                    }
                    return max
                }
            }, {
                key: "getWildSymbolsId",
                value: function getWildSymbolsId() {
                    return this.get("settings.symbols_wild", [])
                }
            }, {
                key: "getScatterSymbolsId",
                value: function getScatterSymbolsId() {
                    return this.get("settings.symbols_scat", [])
                }
            }, {
                key: "getLineSymbolsId",
                value: function getLineSymbolsId() {
                    return this.get("settings.symbols_line", [])
                }
            }, {
                key: "getSymbols",
                value: function getSymbols() {
                    return this.get("settings.symbols", [])
                }
            }, {
                key: "bonusSymbolsMultipliers",
                value: function bonusSymbolsMultipliers() {
                    return this.get("settings.bonus_symbols", [])
                }
            }, {
                key: "setDefaults",
                value: function setDefaults() {
                    var current = this.get("game.current", null);
                    if (current === "spins") {
                        this.set("game.".concat(current, ".round_win"), 0);
                        this.set("game.".concat(current, ".rounds_left"), 0);
                        this.set("game.".concat(current, ".total_win"), 0);
                        this.set("game.".concat(current, ".winlines"), []);
                        this.set("game.".concat(current, ".winscatters"), [])
                    } else {
                        this.set("game.".concat(current, ".round_win"), 0);
                        this.set("game.".concat(current, ".winlines"), []);
                        this.set("game.".concat(current, ".winscatters"), [])
                    }
                }
            }, {
                key: "setBonusDefaults",
                value: function setBonusDefaults() {
                    var current = this.get("game.current", null);
                    if (current === "bonus") {
                        this.set("game.bonus.collectors", []);
                        this.set("game.bonus.add_respins_pos", []);
                        this.set("game.bonus.add_respins_value", 0)
                    }
                }
            }, {
                key: "isPortrait",
                value: function isPortrait() {
                    var ww = window.innerWidth;
                    var wh = window.innerHeight;
                    return ww < wh
                }
            }]);
            return GameModel
        }(PIXI.utils.EventEmitter);
        exports.default = GameModel
    }, {
        "../app": 33,
        "../helpers/utils": 91,
        "./Enums": 73,
        "./GameProtocol": 76,
        "core/app": 33,
        "deep-equal": 6
    }],
    76: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;
        var _utils = require("../helpers/utils");

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }
        var GameProtocol = function() {
            function GameProtocol(model) {
                _classCallCheck(this, GameProtocol);
                this.model = model;
                this.decodeMiddleware = [];
                this.decodeAfterMiddleware = [];
                this.encodeMiddleware = []
            }
            _createClass(GameProtocol, [{
                key: "addDecodeMiddleware",
                value: function addDecodeMiddleware(fn) {
                    this.decodeMiddleware.push(fn)
                }
            }, {
                key: "removeDecodeMiddleware",
                value: function removeDecodeMiddleware(fn) {
                    var idx = this.decodeMiddleware.indexOf(fn);
                    if (idx !== -1) this.decodeMiddleware.splice(idx, 1)
                }
            }, {
                key: "runDecodeMiddleware",
                value: function runDecodeMiddleware(data) {
                    var _this = this;
                    this.decodeMiddleware.forEach(function(mw) {
                        return mw.call(_this, data)
                    })
                }
            }, {
                key: "addDecodeAfterMiddleware",
                value: function addDecodeAfterMiddleware(fn) {
                    this.decodeAfterMiddleware.push(fn)
                }
            }, {
                key: "removeDecodeAfterMiddleware",
                value: function removeDecodeAfterMiddleware(fn) {
                    var idx = this.decodeAfterMiddleware.indexOf(fn);
                    if (idx !== -1) this.decodeAfterMiddleware.splice(idx, 1)
                }
            }, {
                key: "runDecodeAfterMiddleware",
                value: function runDecodeAfterMiddleware(data) {
                    var _this2 = this;
                    this.decodeAfterMiddleware.forEach(function(mw) {
                        return mw.call(_this2, data)
                    })
                }
            }, {
                key: "addEncodeMiddleware",
                value: function addEncodeMiddleware(fn) {
                    this.encodeMiddleware.push(fn)
                }
            }, {
                key: "removeEncodeMiddleware",
                value: function removeEncodeMiddleware(fn) {
                    var idx = this.encodeMiddleware.indexOf(fn);
                    if (idx !== -1) this.encodeMiddleware.splice(idx, 1)
                }
            }, {
                key: "runEncodeMiddleware",
                value: function runEncodeMiddleware(data) {
                    var _this3 = this;
                    this.encodeMiddleware.forEach(function(mw) {
                        return mw.call(_this3, data)
                    })
                }
            }, {
                key: "expand",
                value: function expand(head, data) {
                    _utils.utils.objectDeepEach(this.model.set.bind(this.model), data, head)
                }
            }, {
                key: "decode",
                value: function decode(rep) {
                    var _this4 = this;
                    try {
                        this.model.lock();
                        rep = rep || {};
                        if ("session_id" in rep) this.model.set("session_id", rep.session_id);
                        this.runDecodeMiddleware(rep);
                        var mapping = ["settings", "status", "context", "user", "modes", "origin_data"];
                        mapping.filter(function(i) {
                            return i in rep && rep[i] !== null
                        }).forEach(function(i) {
                            return _this4["decode".concat(i.title())](rep)
                        });
                        this.runDecodeAfterMiddleware(rep)
                    } catch (e) {
                        throw e
                    } finally {
                        this.model.unlock()
                    }
                }
            }, {
                key: "decodeUser",
                value: function decodeUser(rep) {
                    this.expand("user", rep.user)
                }
            }, {
                key: "decodeStatus",
                value: function decodeStatus(rep) {
                    rep.status.type = (rep.status.type || "ok").toLowerCase();
                    rep.status.code = rep.status.code.toUpperCase();
                    this.expand("status", rep.status)
                }
            }, {
                key: "decodeSettings",
                value: function decodeSettings(rep) {
                    rep.settings.autogames = rep.settings.autogames || [10, 25, 50, 100, 250, 500, 750, 1e3];
                    rep.settings.bets = Array.from(new Set(rep.settings.bets)) || [1, 2, 5, 10];
                    rep.settings.lines.sort(function(a, b) {
                        return a - b
                    });
                    rep.settings.bets.sort(function(a, b) {
                        return a - b
                    });
                    this.expand("settings", rep.settings);
                    this.model.set("settings.paylines", rep.settings.paylines)
                }
            }, {
                key: "decodeContext",
                value: function decodeContext(rep) {
                    this.expand("game", rep.context);
                    this.model.set("game.bet_per_line", rep.context[rep.context.current].bet_per_line);
                    this.model.set("game.lines", rep.context[rep.context.current].lines)
                }
            }, {
                key: "decodeModes",
                value: function decodeModes(rep) {
                    this.expand("modes", rep.modes)
                }
            }, {
                key: "decodeOrigin_data",
                value: function decodeOrigin_data(rep) {
                    this.expand("origin", rep.origin_data)
                }
            }, {
                key: "encode",
                value: function encode(func, args) {
                    var data = {};
                    data.command = func;
                    data.request_id = GR.Utils.uuid4().replace(/-/g, "");
                    var sessionId = this.model.get("session_id", null);
                    if (sessionId) data.session_id = sessionId;
                    data.quick_spin = this.model.get("cl.quick_spin", false);
                    Object.assign(data, args);
                    this.runEncodeMiddleware(data);
                    return data
                }
            }, {
                key: "play",
                value: function play(action, args) {
                    args = args || {};
                    return this.encode("play", {
                        action: {
                            name: action,
                            params: args
                        },
                        set_denominator: 1
                    })
                }
            }]);
            return GameProtocol
        }();
        exports.default = GameProtocol
    }, {
        "../helpers/utils": 91
    }],
    77: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.Component = void 0;

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var Component = function(_PIXI$Container) {
            _inherits(Component, _PIXI$Container);
            var _super = _createSuper(Component);

            function Component() {
                var _this;
                _classCallCheck(this, Component);
                _this = _super.call(this);
                _this.inited = false;
                _this.components = [];
                return _this
            }
            _createClass(Component, [{
                key: "addComponent",
                value: function addComponent(component) {
                    this.components.push(component);
                    return component
                }
            }, {
                key: "removeComponent",
                value: function removeComponent(component) {
                    var index = this.components.indexOf(component);
                    if (index > -1) this.components.splice(index, 1);
                    return component
                }
            }, {
                key: "init",
                value: function init() {
                    return this.reset()
                }
            }, {
                key: "reset",
                value: function reset() {
                    var _this2 = this;
                    var animated = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
                    if (this.init !== Component.prototype.init) {
                        console.warn("[".concat(this.constructor.name, "]"), "Component.prototype.init is deprecated. Use onInit/onReset instead");
                        return this.init()
                    }
                    return Promise.resolve().then(function() {
                        return !_this2.inited && _this2.onInit()
                    }).then(function() {
                        return _this2.inited = true
                    }).then(function() {
                        return _this2.onBeforeReset(animated)
                    }).then(function() {
                        return Promise.all(_this2.components.map(function(el) {
                            return el.reset(animated)
                        }))
                    }).then(function() {
                        return _this2.onReset(animated)
                    })
                }
            }, {
                key: "onInit",
                value: function onInit() {
                    return Promise.resolve()
                }
            }, {
                key: "onBeforeReset",
                value: function onBeforeReset() {
                    var animated = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
                    return Promise.resolve()
                }
            }, {
                key: "onReset",
                value: function onReset() {
                    var animated = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
                    return Promise.resolve()
                }
            }]);
            return Component
        }(PIXI.Container);
        exports.Component = Component
    }, {}],
    78: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;
        var _utils = require("../helpers/utils");
        var _utils2 = require("../utils");
        var _app = require("core/app");

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _get() {
            if (typeof Reflect !== "undefined" && Reflect.get) {
                _get = Reflect.get
            } else {
                _get = function _get(target, property, receiver) {
                    var base = _superPropBase(target, property);
                    if (!base) return;
                    var desc = Object.getOwnPropertyDescriptor(base, property);
                    if (desc.get) {
                        return desc.get.call(arguments.length < 3 ? target : receiver)
                    }
                    return desc.value
                }
            }
            return _get.apply(this, arguments)
        }

        function _superPropBase(object, property) {
            while (!Object.prototype.hasOwnProperty.call(object, property)) {
                object = _getPrototypeOf(object);
                if (object === null) break
            }
            return object
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof2(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }

        function _typeof2(obj) {
            "@babel/helpers - typeof";
            return _typeof2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof2(obj)
        }
        var _typeof = typeof Symbol === "function" && _typeof2(Symbol.iterator) === "symbol" ? function(obj) {
            return _typeof2(obj)
        } : function(obj) {
            return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : _typeof2(obj)
        };
        var Loader = function(_PIXI$loaders$Loader) {
            _inherits(Loader, _PIXI$loaders$Loader);
            var _super = _createSuper(Loader);

            function Loader(baseUrl, concurrency, manifest) {
                var _this;
                _classCallCheck(this, Loader);
                _this = _super.call(this, baseUrl, concurrency);
                if (!Array.isArray(_this._resourcesParsing)) {
                    throw Error("Loader.prototype relies on _resourcesParsing property existence. Please review Loader.add implementation")
                }
                _this._manifest = manifest || {};
                _this.onDemand = [];
                _this.totalSize = 0;
                _this.loadedSize = 0;
                _this.enLang = "_en";
                _this.zhLang = "_zh";
                _this.zhHantLang = "_zh_hant";
                _this.langMapping = {
                    en: _this.enLang,
                    zh: _this.zhLang,
                    "zh-hant": _this.zhHantLang
                };
                _this.localizedItems = [];
                _this.loadPromise = Promise.resolve();
                _this.pre(function(item, next) {
                    var meta = item.metadata;
                    if (!meta.delay) {
                        meta.size = meta.size || 0;
                        meta.loadedSize = meta.loadedSize || 0;
                        item._onProgressHandler = item.onProgress.add(function(item, percentage) {
                            _this.loadedSize -= meta.loadedSize;
                            meta.loadedSize = meta.size * percentage;
                            _this.loadedSize += meta.loadedSize;
                            _this.emit("progress", _assertThisInitialized(_this), item.name, _this.loadedSize / _this.totalSize);
                            meta.onDemand && _this.emit("".concat(item.name, "progress"), item, percentage, meta.loadedSize)
                        })
                    }
                    return next()
                });
                _this.use(function(item, next) {
                    item.metadata.doneAfterMiddleware = false;
                    if (item._onProgressHandler) {
                        item.onProgress.detach(item._onProgressHandler);
                        item._onProgressHandler = null
                    }
                    if ("retries" in item.metadata && item.error) {
                        _this.loadedSize -= item.metadata.loadedSize || 0;
                        if (item.metadata.retries) {
                            item.metadata.doneAfterMiddleware = false;
                            item.error = null;
                            if (item._setFlag) {
                                item._setFlag(PIXI.loaders.Resource.STATUS_FLAGS.COMPLETE, false)
                            } else {
                                item.isComplete = false
                            }
                            setTimeout(function() {
                                _this._resourcesParsing.splice(_this._resourcesParsing.indexOf(item), 1);
                                _this._queue.push(item)
                            }, item.metadata.onErrorTimeout);
                            return
                        } else {
                            _utils2.console.error("failed to load", item.name)
                        }
                    }
                    next()
                });
                return _this
            }
            _createClass(Loader, [{
                key: "manifest",
                value: function manifest(_manifest) {
                    this._manifest = _manifest
                }
            }, {
                key: "packs",
                value: function packs(names, currentCallback, soundsCallback, backgroundCallback) {
                    var _this2 = this;
                    names = Array.isArray(names) ? names : [names];
                    var queue = names.reduce(function(t, i) {
                        (_this2._manifest[i] || []).forEach(function(item) {
                            var resource = {};
                            if (item.localized) {
                                var lang = _this2.langMapping[_app.env.get("lang")] || _this2.enLang;
                                _this2.localizedItems.push(item.name);
                                if (lang === _this2.langMapping["zh"] && item.name.includes(_this2.langMapping["zh-hant"]) || !item.name.includes(lang)) {
                                    return
                                }
                            }
                            resource.name = item.name || item.url;
                            resource.url = "".concat(item.url, "?").concat(item.version);
                            resource.metadata = {
                                size: parseInt(item.size || 0),
                                delay: item.delay || false,
                                onDemand: item.onDemand || false,
                                onErrorTimeout: item.delay || item.onDemand ? 5e3 : 2e3,
                                doneAfterMiddleware: false,
                                localized: item.localized
                            };
                            if (resource.name in _this2.resources) return;
                            if (item.onDemand) _this2.onDemand.push(resource);
                            if (item.delay && !item.onDemand && item.url.includes(app.soundsPrefix)) t.sounds.push(resource);
                            if (item.delay && !item.onDemand && !item.url.includes(app.soundsPrefix)) t.background.push(resource);
                            if (!item.delay && !item.onDemand) t.current.push(resource)
                        });
                        return t
                    }, {
                        current: [],
                        background: [],
                        sounds: []
                    });
                    return this.assets(queue.current).then(function() {
                        currentCallback && currentCallback();
                        _this2.assets(queue.sounds).then(function() {
                            soundsCallback && soundsCallback();
                            _this2.assets(queue.background).then(function() {
                                return backgroundCallback && backgroundCallback()
                            })
                        })
                    })
                }
            }, {
                key: "assets",
                value: function assets(items, onComplete) {
                    var _this3 = this;
                    if (!items.length) return Promise.resolve();
                    return this.loadPromise = this.loadPromise.then(function() {
                        return new Promise(function(res, rej) {
                            _this3._loadItems(items, onComplete, res, rej)
                        })
                    })
                }
            }, {
                key: "_loadItems",
                value: function _loadItems(items, onComplete, res, rej) {
                    var _this4 = this;
                    if (items.length === 0) res();
                    this.loadedSize = 0;
                    this.totalSize = items.reduce(function(t, i) {
                        return t + (i.metadata ? i.metadata.size : 0)
                    }, 0);
                    var length = items.length;
                    var reduce = function reduce() {
                        if (--length === 0) {
                            onComplete && onComplete();
                            res && res()
                        }
                    };
                    items.forEach(function(i) {
                        i.url = _utils.utils.invalidateUrl(i.url);
                        i.metadata = i.metadata || {};
                        i.metadata.retries = true;
                        _this4.add(i, function(r) {
                            return r.error ? rej() : reduce()
                        })
                    });
                    this.load()
                }
            }, {
                key: "add",
                value: function add(name, url, options, cb) {
                    if (Array.isArray(name)) {
                        for (var i = 0; i < name.length; ++i) {
                            this.add(name[i])
                        }
                        return this
                    }
                    if ((typeof name === "undefined" ? "undefined" : _typeof(name)) === "object") {
                        cb = url || name.callback || name.onComplete;
                        options = name;
                        url = name.url;
                        name = name.name || name.key || name.url
                    }
                    if (typeof url !== "string") {
                        cb = options;
                        options = url;
                        url = name
                    }
                    if (typeof url !== "string") {
                        throw new Error("No url passed to add resource to loader.")
                    }
                    if (typeof options === "function") {
                        cb = options;
                        options = null
                    }
                    var updatemeta = false;
                    if (options && _typeof2(options) === "object" && options.metadata && "pageFile" in options.metadata && options.parentResource) {
                        name = "".concat(options.parentResource.name, "_image");
                        updatemeta = true
                    }
                    if (options && options.isSpine) {
                        var lang = this.langMapping[_app.env.get("lang")] || this.enLang;
                        var localizedAtlasName = name + lang;
                        if (this.localizedItems.includes(localizedAtlasName)) {
                            name = localizedAtlasName
                        }
                        if (name.split(".")[1] === "png") {
                            var masterSpineAssetName = this.masterSpineAssetName,
                                spineAssetSuffix = "_atlas_page_",
                                slaveSpineAssetName = this.slaveSpineAssetName,
                                extention = ".png",
                                locale = lang,
                                masterName = masterSpineAssetName + locale + spineAssetSuffix + masterSpineAssetName + locale + extention,
                                slaveName = slaveSpineAssetName + locale + spineAssetSuffix + masterSpineAssetName + locale + extention;
                            var localizedName = name.split(".")[0].split(spineAssetSuffix);
                            name = localizedName[0] + locale + spineAssetSuffix + localizedName[1] + locale + extention;
                            if (!this.localizedItems.includes(name) && !masterSpineAssetName) {
                                name = localizedName[0] + spineAssetSuffix + localizedName[1] + extention
                            }
                            if (name.includes(slaveName) && this.localizedItems.includes(masterName)) {
                                this.resources[slaveName] = {};
                                Object.assign(this.resources[slaveName], this.resources[masterName]);
                                this.resources[slaveName].name = slaveName
                            }
                            var _item = this.resources[name];
                            if (_item && _item.name.includes(slaveName)) {
                                cb(_item);
                                return this
                            }
                        }
                    }
                    var item = this.resources[name];
                    if (item) {
                        if (updatemeta) {
                            Object.assign(item.metadata, options.metadata)
                        }
                        if (typeof cb === "function") {
                            if (item.metadata && "doneAfterMiddleware" in item.metadata && item.metadata.doneAfterMiddleware || item.data && item.isComplete && this._resourcesParsing.indexOf(item) === -1) {
                                cb(item)
                            } else {
                                item.onAfterMiddleware.once(cb)
                            }
                        }
                        return this
                    } else {
                        return _get(_getPrototypeOf(Loader.prototype), "add", this).call(this, name, url, options, cb)
                    }
                }
            }]);
            return Loader
        }(PIXI.loaders.Loader);
        exports.default = Loader;
        PIXI.loaders.Loader.addPixiMiddleware(function() {
            var audioExtensions = ["mp3", "ogg", "wav", "webm"];
            var Resource = PIXI.loaders.Resource;
            audioExtensions.forEach(function(extension) {
                Resource.setExtensionLoadType(extension, Resource.LOAD_TYPE.XHR);
                Resource.setExtensionXhrType(extension, Resource.XHR_RESPONSE_TYPE.BUFFER)
            });
            Resource = null;
            var loadedSoundsXHR = {};
            createjs.XHRRequest.prototype._createXHR = function() {
                var parent = createjs.XHRRequest.prototype._createXHR;
                return function(item) {
                    if (item.id in loadedSoundsXHR) {
                        this._request = loadedSoundsXHR[item.id];
                        this._alreadyLoaded = true
                    } else {
                        return parent.call(this, item)
                    }
                }
            }();
            createjs.XHRRequest.prototype.load = function() {
                var parent = createjs.XHRRequest.prototype.load;
                return function() {
                    if (this._alreadyLoaded) {
                        this._handleLoad()
                    } else {
                        parent.call(this)
                    }
                }
            }();
            createjs.XHRRequest.prototype.setResponseType = function() {
                var parent = createjs.XHRRequest.prototype.setResponseType;
                return function() {
                    if (!this._alreadyLoaded) {
                        return parent.call(this)
                    }
                }
            };
            createjs.Sound.on("fileload", function(item) {
                delete loadedSoundsXHR[item.id]
            });
            return function(resource, next) {
                if (!resource.error) {
                    var extension = resource.url.split("?")[0].split(".").pop();
                    if (audioExtensions.indexOf(extension) !== -1) {
                        loadedSoundsXHR[resource.name] = resource.xhr;
                        createjs.Sound.registerSound(resource.url, resource.name)
                    }
                }
                next()
            }
        });
        PIXI.loaders.Resource.setExtensionLoadType("ttf", PIXI.loaders.Resource.LOAD_TYPE.XHR);
        PIXI.loaders.Resource.setExtensionXhrType("ttf", PIXI.loaders.Resource.XHR_RESPONSE_TYPE.BLOB);
        PIXI.loaders.Loader.addPixiMiddleware(function() {
            return function(resource, next) {
                if (resource.data && resource.url.split("?")[0].endsWith(".ttf")) {
                    var reader = new FileReader;
                    reader.onload = function() {
                        var el = document.createElement("style");
                        el.innerHTML = '@font-face { font-family: "'.concat(resource.name, '"; src: url(').concat(reader.result, "); }");
                        document.head.appendChild(el);
                        el = document.createElement("div");
                        el.style.font = "1px ".concat(resource.name);
                        el.style.visibility = "hidden";
                        el.innerText = ".";
                        document.body.appendChild(el);
                        var loadPromise = _utils.utils.wait(32);
                        if (document.fonts) {
                            if (document.fonts.load) {
                                loadPromise = document.fonts.load("1px ".concat(resource.name))
                            } else if (document.fonts.ready) {
                                loadPromise = document.fonts.ready
                            }
                        }
                        loadPromise.catch(function(e) {
                            return _utils2.console.error("Failed to load ".concat(resource.name, " with error:\n").concat(e))
                        }).then(next)
                    };
                    reader.readAsDataURL(resource.data);
                    return
                }
                next()
            }
        });
        PIXI.loaders.Loader.addPixiMiddleware(function() {
            var core = PIXI;
            return function(resource, next) {
                if (!resource.data || resource.type !== PIXI.loaders.Resource.TYPE.JSON || !resource.data.frames) {
                    return next()
                }
                var imageResourceName = "".concat(resource.name, "_image");
                var textureLoaded = function textureLoaded(res) {
                    resource.textures = {};
                    var frames = resource.data.frames;
                    var frameKeys = Object.keys(frames);
                    var resolution = core.utils.getResolutionOfUrl(resource.url);

                    function processFrames(initialFrameIndex, maxFrames) {
                        var frameIndex = initialFrameIndex;
                        while (frameIndex - initialFrameIndex < maxFrames && frameIndex < frameKeys.length) {
                            var i = frameKeys[frameIndex];
                            var rect = frames[i].frame;
                            if (rect) {
                                var frame = null;
                                var trim = null;
                                var orig = new core.Rectangle(0, 0, frames[i].sourceSize.w / resolution, frames[i].sourceSize.h / resolution);
                                if (frames[i].rotated) {
                                    frame = new core.Rectangle(rect.x / resolution, rect.y / resolution, rect.h / resolution, rect.w / resolution)
                                } else {
                                    frame = new core.Rectangle(rect.x / resolution, rect.y / resolution, rect.w / resolution, rect.h / resolution)
                                }
                                if (frames[i].trimmed) {
                                    trim = new core.Rectangle(frames[i].spriteSourceSize.x / resolution, frames[i].spriteSourceSize.y / resolution, frames[i].spriteSourceSize.w / resolution, frames[i].spriteSourceSize.h / resolution)
                                }
                                resource.textures[i] = new core.Texture(res.texture.baseTexture, frame, orig, trim, frames[i].rotated ? 2 : 0);
                                core.utils.TextureCache[i] = resource.textures[i]
                            }
                            frameIndex++
                        }
                    }
                    processFrames(0, frameKeys.length);
                    next()
                };
                var res = this.resources[imageResourceName];
                if (res) {
                    if (res.data && res.texture) {
                        textureLoaded(res)
                    } else {
                        res.onAfterMiddleware.once(function() {
                            textureLoaded(res)
                        })
                    }
                } else {
                    return next()
                }
            }
        });
        if (GR.Detector.browser.name !== "firefox") {
            ["gif", "png", "bmp", "jpg", "jpeg", "tif", "tiff", "webp", "tga"].forEach(function(extension) {
                PIXI.loaders.Resource.setExtensionLoadType(extension, PIXI.loaders.Resource.LOAD_TYPE.XHR)
            })
        }
        PIXI.loaders.Loader.addPixiMiddleware(function() {
            return function(resource, next) {
                if (!window.dragonBones || !resource.data || resource.type !== PIXI.loaders.Resource.TYPE.JSON || !resource.data.armature) return next();
                this.dragonbonesFactory = this.dragonbonesFactory || new window.dragonBones.PixiFactory;
                this.dragonbonesFactory.parseDragonBonesData(resource.data);
                return next()
            }
        });
        PIXI.loaders.Loader.addPixiMiddleware(function() {
            return function(resource, next) {
                var _this5 = this;
                if (!window.dragonBones || !resource.data || resource.type !== PIXI.loaders.Resource.TYPE.JSON || !resource.data.SubTexture) return next();
                var props = ["x", "y", "width", "height", "name"];
                if (resource.data.SubTexture.some(function(t) {
                        return props.some(function(p) {
                            return t[p] === undefined
                        })
                    })) return next();
                this.dragonbonesFactory = this.dragonbonesFactory || new window.dragonBones.PixiFactory;
                var imageResourceName = "".concat(resource.name, "_image");
                var textureLoaded = function textureLoaded(textureRes) {
                    _this5.dragonbonesFactory.parseTextureAtlasData(resource.data, textureRes.texture);
                    next()
                };
                var res = this.resources[imageResourceName];
                if (res) {
                    if (res.data && res.texture) {
                        textureLoaded(res)
                    } else {
                        res.onAfterMiddleware.once(function() {
                            textureLoaded(res)
                        })
                    }
                } else {
                    return next()
                }
            }
        });
        PIXI.loaders.Loader.addPixiMiddleware(function() {
            return function(resource, next) {
                if (!window.dragonBones) return next();
                if (!resource.data || resource.type !== PIXI.loaders.Resource.TYPE.JSON || !resource.data.frames) {
                    return next()
                }
                this.dragonbonesFactory = this.dragonbonesFactory || new window.dragonBones.PixiFactory;
                this.dragonbonesFactory.addTextureAtlasData({
                    name: resource.name.replace(/(_texture)?(-\d+)?$/, ""),
                    textures: [],
                    getTexture: function getTexture(name) {
                        if (!resource.textures.hasOwnProperty(name)) return null;
                        if (!this.textures[name]) {
                            var texture = resource.textures[name];
                            var textureData = dragonBones.BaseObject.borrowObject(dragonBones.PixiTextureData);
                            textureData.rotated = texture.rotate;
                            textureData.region.x = texture.frame.x;
                            textureData.region.y = texture.frame.y;
                            textureData.region.width = texture.frame.width;
                            textureData.region.height = texture.frame.height;
                            if (texture.trim) {
                                textureData.frame = dragonBones.TextureData.createRectangle();
                                textureData.frame.width = texture.width;
                                textureData.frame.height = texture.height
                            }
                            textureData.renderTexture = texture;
                            textureData.parent = {
                                width: texture.baseTexture.width,
                                height: texture.baseTexture.height
                            };
                            this.textures[name] = textureData
                        }
                        return this.textures[name]
                    }
                });
                next()
            }
        });
        PIXI.loaders.Loader.addPixiMiddleware(function() {
            function parse(resource, texture) {
                resource.bitmapFont = PIXI.extras.BitmapText.registerFont(resource.data, texture)
            }
            return function bitmapFontParser(resource, next) {
                if (!resource.data || resource.type !== PIXI.loaders.Resource.TYPE.XML) {
                    next();
                    return
                }
                if (resource.data.getElementsByTagName("info").length === 0 || resource.data.getElementsByTagName("info")[0].getAttribute("face") === null) {
                    next();
                    return
                }
                var imageResourceName = "".concat(resource.name, "_image");
                var res = this.resources[imageResourceName];
                if (res) {
                    if (res.data && res.texture) {
                        parse(resource, res.texture);
                        next()
                    } else {
                        res.onAfterMiddleware.once(function() {
                            parse(resource, res.texture);
                            next()
                        })
                    }
                } else {
                    return next()
                }
            }
        })
    }, {
        "../helpers/utils": 91,
        "../utils": 99,
        "core/app": 33
    }],
    79: [function(require, module, exports) {
        "use strict";
        var _app = _interopRequireDefault(require("../app"));
        var _styles = require("../styles");
        require("./pixi-migrate.js");
        var _stringFormat = _interopRequireDefault(require("string-format"));
        var _index = require("gdk/index");

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }
        if (Array.prototype.equals) console.warn("Overriding existing Array.prototype.equals. Possible causes: New API defines the method, theres a framework conflict or youve got double inclusions in your code.");
        Array.prototype.equals = function(array) {
            if (!array) return false;
            if (this.length != array.length) return false;
            for (var i = 0, l = this.length; i < l; i++) {
                if (this[i] instanceof Array && array[i] instanceof Array) {
                    if (!this[i].equals(array[i])) return false
                } else if (this[i] != array[i]) {
                    return false
                }
            }
            return true
        };
        Object.defineProperty(Array.prototype, "equals", {
            enumerable: false
        });
        Object.defineProperties(String.prototype, {
            title: {
                value: function value() {
                    return this.charAt(0).toUpperCase() + this.substr(1).toLowerCase()
                }
            },
            format: {
                value: function value() {
                    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
                        args[_key] = arguments[_key]
                    }
                    return _stringFormat.default.apply(void 0, [this].concat(args))
                }
            }
        });
        Object.defineProperties(Array.prototype, {
            sample: {
                value: function value() {
                    return this[Math.floor(Math.random() * this.length)]
                }
            }
        });
        PIXI.Sprite.prototype.getSource = function() {
            return this._texture.baseTexture.source
        };
        Object.defineProperties(PIXI.DisplayObject.prototype, {
            scaleX: {
                get: function get() {
                    return this.scale.x
                },
                set: function set(v) {
                    this.scale.x = v
                }
            },
            scaleY: {
                get: function get() {
                    return this.scale.y
                },
                set: function set(v) {
                    this.scale.y = v
                }
            },
            pivotX: {
                get: function get() {
                    return this.pivot.x
                },
                set: function set(v) {
                    this.pivot.x = v
                }
            },
            pivotY: {
                get: function get() {
                    return this.pivot.y
                },
                set: function set(v) {
                    this.pivot.y = v
                }
            }
        });
        Object.defineProperties(PIXI.Sprite.prototype, {
            anchorX: {
                get: function get() {
                    return this.anchor.x
                },
                set: function set(v) {
                    this.anchor.x = v
                }
            },
            anchorY: {
                get: function get() {
                    return this.anchor.y
                },
                set: function set(v) {
                    this.anchor.y = v
                }
            }
        });
        Object.assign(PIXI.DisplayObject.prototype, {
            changeParent: function changeParent(parent) {
                this.position = parent.toLocal(this.position, this.parent);
                parent.addChild(this)
            },
            removeFromParent: function removeFromParent() {
                return this.parent && this.parent.removeChild(this)
            },
            toParentCoords: function toParentCoords(toNode) {
                var p = {
                    x: this.x,
                    y: this.y
                };
                var node = this.parent;
                while (node && node !== toNode) {
                    p.x += node.x - node.pivot.x;
                    p.y += node.y - node.pivot.y;
                    node = node.parent
                }
                return p
            },
            on: function() {
                var fn = PIXI.DisplayObject.prototype.on;
                return function(events) {
                    var _this = this;
                    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
                        args[_key2 - 1] = arguments[_key2]
                    }
                    if (events == "click") {
                        events = "click touchend"
                    }
                    events.split(" ").forEach(function(i) {
                        return i.length && fn.call.apply(fn, [_this, i].concat(args))
                    });
                    return this
                }
            }(),
            off: function() {
                var fn = PIXI.DisplayObject.prototype.off;
                return function(events) {
                    var _this2 = this;
                    for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {
                        args[_key3 - 1] = arguments[_key3]
                    }
                    events.split(" ").forEach(function(i) {
                        return i.length && fn.call.apply(fn, [_this2, i].concat(args))
                    });
                    return this
                }
            }(),
            tween: function tween() {
                var _createjs$Tween;
                for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
                    args[_key4] = arguments[_key4]
                }
                if (args.length === 1 && typeof args[0] === "boolean") args[0] = {
                    override: args[0]
                };
                return (_createjs$Tween = createjs.Tween).get.apply(_createjs$Tween, [this].concat(args))
            },
            destroy: function() {
                var fn = PIXI.DisplayObject.prototype.destroy;
                return function() {
                    createjs.Tween.removeTweens(this);
                    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
                        args[_key5] = arguments[_key5]
                    }
                    return fn.call.apply(fn, [this].concat(args))
                }
            }()
        });
        Object.defineProperties(createjs.Tween.prototype, {
            fps: {
                set: function set(fps) {
                    var targetDelta = 1e3 / fps;
                    var accumulatedDelta = 0;
                    this.advance = function(delta, ignoreActions) {
                        if (this._paused) {
                            return
                        }
                        accumulatedDelta += delta;
                        if (accumulatedDelta >= targetDelta) {
                            createjs.Tween.prototype.advance.call(this, accumulatedDelta, ignoreActions);
                            accumulatedDelta = 0
                        }
                    }
                }
            },
            setFPS: {
                value: function value(fps) {
                    this.fps = fps;
                    return this
                }
            }
        });
        createjs.Tween.prototype.promise = function() {
            var _this3 = this;
            var func = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
            return new Promise(function(res) {
                return _this3.call(res)
            }).then(func === null ? function() {
                return undefined
            } : func)
        };
        if (!createjs.Tween.prototype.tick) {
            createjs.Tween.prototype.tick = function() {
                console.warn("createjs.Tween.prototype.tick is deprecated. Use createjs.Tween.prototype.advance");
                createjs.Tween.prototype.tick = createjs.Tween.prototype.advance;
                return this.advance.apply(this, arguments)
            }
        }
        if (!createjs.Tween.prototype.advance) {
            createjs.Tween.prototype.advance = createjs.Tween.prototype.tick
        }
        createjs.Tween.prototype.advance = function() {
            var fn = createjs.Tween.prototype.advance;
            return function(delta, ignoreActions) {
                if (this._paused) return;
                var epsilon = .1;
                if (this.loop && this.duration > epsilon) {
                    if (delta < 0) {
                        var duration = -(this.duration - epsilon);
                        while (delta < duration && !this._paused) {
                            delta -= duration;
                            fn.call(this, duration, ignoreActions)
                        }
                    } else {
                        var _duration = this.duration - epsilon;
                        while (delta > _duration && !this._paused) {
                            delta -= _duration;
                            fn.call(this, _duration, ignoreActions)
                        }
                    }
                }
                if (!this._paused) {
                    fn.call(this, delta, ignoreActions)
                }
            }
        }();
        PIXI.utils.AnimationCache = {
            add: function add(animation, props, regExp) {
                if (!this[animation]) {
                    regExp = regExp instanceof RegExp ? regExp : new RegExp(regExp || "^".concat(animation));
                    var animationObject = {};
                    animationObject.frames = Object.keys(PIXI.utils.TextureCache).filter(function(i) {
                        return regExp.test(i)
                    }).sort(function(a, b) {
                        return a.localeCompare(b)
                    }).map(function(i) {
                        return PIXI.utils.TextureCache[i]
                    });
                    animationObject.props = props;
                    if (animationObject.frames.length === 0) {
                        throw new Error("Animation not found: ".concat(animation))
                    }
                    this[animation] = animationObject
                }
                return this[animation]
            },
            get: function get(animation) {
                return this[animation]
            },
            has: function has(animation) {
                return !!this[animation]
            }
        };
        Object.defineProperties(PIXI.extras.AnimatedSprite.prototype, {
            framerate: {
                get: function get() {
                    return this.animationSpeed * 60
                },
                set: function set(f) {
                    this.animationSpeed = f / 60
                }
            },
            duration: {
                get: function get() {
                    return 1e3 * this.totalFrames / this.framerate
                }
            }
        });
        PIXI.extras.AnimatedSprite.fromAnimation = function(animation) {
            var animationObject = PIXI.utils.AnimationCache.get(animation);
            if (!animationObject) throw new Error("Animation ".concat(animation, " does not exists!"));
            return Object.assign(new PIXI.extras.AnimatedSprite(animationObject.frames), animationObject.props)
        };
        PIXI.interaction.InteractionManager.prototype.addEvents = function() {
            var fn = PIXI.interaction.InteractionManager.prototype.addEvents;
            return function() {
                this.autoPreventDefault = false;
                return fn.call(this)
            }
        }();
        PIXI.utils.getResolutionOfUrl = function(url) {
            return _app.default.assetsScale
        };
        Object.defineProperty(PIXI.TextStyle.prototype, "breakWords", {
            get: function get() {
                return this.useSystemBreakWords ? true : this._breakWords
            }
        });
        var useSystemBreakWords = null;
        Object.defineProperty(PIXI.TextStyle.prototype, "useSystemBreakWords", {
            set: function set(use) {
                this._useSystemBreakWords = use
            },
            get: function get() {
                if (this.hasOwnProperty("_useSystemBreakWords")) return this._useSystemBreakWords;
                if (useSystemBreakWords === null) useSystemBreakWords = ["zh", "th", "ja"].includes(_index.env.get("lang").substr(0, 2));
                return useSystemBreakWords
            }
        });
        Object.defineProperty(PIXI.TextStyle.prototype, "fontFamily", {
            get: function get() {
                return this.useSystemFont ? PIXI.TextStyle.systemFont : this._fontFamily
            }
        });
        var useSystemFont = null;
        Object.defineProperty(PIXI.TextStyle.prototype, "useSystemFont", {
            set: function set(use) {
                this._useSystemFont = use
            },
            get: function get() {
                if (this.hasOwnProperty("_useSystemFont")) return this._useSystemFont;
                if (useSystemFont === null) useSystemFont = ["zh", "th", "ja", "vi", "ko"].includes(_index.env.get("lang").substr(0, 2));
                return useSystemFont
            }
        });
        PIXI.TextStyle.systemFont = _styles.DEFAULT_FONT;
        if (PIXI.Text.prototype.wordWrap) {
            PIXI.Text.prototype.wordWrap = function wordWrap(text) {
                return PIXI.TextMetrics.wordWrap(text, this._style, this.canvas)
            }
        }
        PIXI.TextMetrics.splitOnWords = function(text) {
            return text.split(/([ \u200B])/)
        };
        PIXI.TextMetrics.wordWrap = function wordWrap(text, style) {
            var canvas = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : PIXI.TextMetrics._canvas;
            var context = canvas.getContext("2d");
            var result = "";
            var lines = text.split("\n");
            var wordWrapWidth = style.wordWrapWidth;
            var characterCache = {};
            for (var i = 0; i < lines.length; i++) {
                var spaceLeft = wordWrapWidth;
                var words = PIXI.TextMetrics.splitOnWords(lines[i]);
                var lastSeparator = "";
                for (var j = 0; j < words.length; j += 2) {
                    var word = words[j];
                    var separator = j < words.length - 1 ? words[j + 1] : "";
                    var wordWidth = context.measureText(word).width;
                    if (style.breakWords && wordWidth > wordWrapWidth) {
                        var characters = word.split("");
                        for (var c = 0; c < characters.length; c++) {
                            var character = characters[c];
                            var characterWidth = characterCache[character];
                            if (characterWidth === undefined) {
                                characterWidth = context.measureText(character).width;
                                characterCache[character] = characterWidth
                            }
                            if (characterWidth > spaceLeft) {
                                result += "\n".concat(character);
                                spaceLeft = wordWrapWidth - characterWidth
                            } else {
                                if (c === 0) {
                                    result += lastSeparator
                                }
                                result += character;
                                spaceLeft -= characterWidth
                            }
                        }
                    } else {
                        var wordWidthWithSpace = wordWidth + context.measureText(lastSeparator).width;
                        if (j === 0 || wordWidthWithSpace > spaceLeft) {
                            if (j > 0) {
                                result += "\n"
                            }
                            result += word;
                            spaceLeft = wordWrapWidth - wordWidth
                        } else {
                            spaceLeft -= wordWidthWithSpace;
                            result += lastSeparator + word
                        }
                    }
                    lastSeparator = separator
                }
                if (i < lines.length - 1) {
                    result += "\n"
                }
            }
            return result
        };
        if (PIXI.spine) {
            PIXI.spine.Spine.fromLoader = function fromLoader(dataName) {
                var data = _app.default.loader.resources[dataName];
                if (data && data.spineData) {
                    return new PIXI.spine.Spine(data.spineData)
                } else {
                    throw new Error('The "'.concat(dataName, '" does not exist in the loaded resources or the spineData param is required.'))
                }
            };
            PIXI.spine.Spine.getSpineDuration = function getSpineDuration(spine, animation) {
                var data = spine.spineData.findAnimation(animation);
                if (!data) {
                    throw new Error("Spine.getDuration: animation ".concat(animation, " is not found."))
                }
                return Math.round(data.duration * 1e3)
            };
            PIXI.spine.Spine.getSpineSprite = function getSpineSprite(spine, name) {
                return spine.skeleton.findSlot(name).currentSprite
            };
            PIXI.spine.Spine.replaceSpineSprite = function replaceSpineSprite(spine, name, object, animationName) {
                var scale = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : new PIXI.Point(1, -1);
                PIXI.spine.Spine.getSpineDuration(spine, animationName);
                var sprite = PIXI.spine.Spine.getSpineSprite(spine, name);
                sprite.texture = PIXI.Texture.EMPTY;
                sprite.scale.set(scale.x, scale.y);
                sprite.addChild(object)
            };
            Object.assign(PIXI.spine.core.AnimationState, {
                EVENT: "event",
                COMPLETE: "complete",
                START: "start",
                END: "end",
                DISPOSE: "dispose",
                INTERRUPTED: "interrupted"
            });
            Object.assign(PIXI.spine.core.AnimationState.prototype, {
                on: function on(event, fn, context) {
                    var listenerObj = {
                        _context: context,
                        _fn: fn
                    };
                    listenerObj[event] = function() {
                        return fn.apply(context, arguments)
                    };
                    this.addListener(listenerObj)
                },
                off: function off(event, fn, context) {
                    var index = this.listeners.findIndex(function(item) {
                        return item[event] && item._context === context && item._fn === fn
                    });
                    index >= 0 && this.listeners.splice(index, 1)
                },
                once: function once(event, fn, context) {
                    var _this4 = this;
                    var listenerObj = {
                        _context: context,
                        _fn: fn
                    };
                    listenerObj[event] = function() {
                        var index = _this4.listeners.findIndex(function(item) {
                            return item[event] && item._context === context && item._fn === fn
                        });
                        index >= 0 && _this4.listeners.splice(index, 1);
                        for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
                            args[_key6] = arguments[_key6]
                        }
                        return fn.apply(context, args)
                    };
                    this.addListener(listenerObj)
                }
            });
            Object.defineProperty(PIXI.spine.Spine.prototype, "autoUpdate", {
                get: function get() {
                    return this._setTicker
                },
                set: function set(value) {
                    if (value) {
                        if (!this._setTicker) PIXI.ticker.shared.add(this.updateTick, this)
                    } else {
                        PIXI.ticker.shared.remove(this.updateTick, this)
                    }
                    this._setTicker = value
                },
                enumerable: true,
                configurable: true
            });
            PIXI.spine.Spine.prototype.destroy = function() {
                var fn = PIXI.spine.Spine.prototype.destroy;
                return function() {
                    this.autoUpdate = false;
                    return fn.apply(this, arguments)
                }
            }();
            PIXI.spine.Spine.prototype.updateTick = function(tickerDeltaTime) {
                this.update(tickerDeltaTime / PIXI.settings.TARGET_FPMS * .001)
            }
        }
    }, {
        "../app": 33,
        "../styles": 96,
        "./pixi-migrate.js": 82,
        "gdk/index": 102,
        "string-format": 32
    }],
    80: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;
        var _utils = _interopRequireDefault(require("core/helpers/utils"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }
        var Sound = function() {
            function Sound() {
                _classCallCheck(this, Sound)
            }
            _createClass(Sound, null, [{
                key: "init",
                value: function init() {
                    createjs.Sound.initializeDefaultPlugins()
                }
            }, {
                key: "play",
                value: function play(soundName, trackName, params) {
                    var _this = this;
                    var localParams = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;
                    if (!soundName) return Promise.resolve();
                    trackName = trackName || soundName;
                    params = params || {};
                    var fade = params.fade || 0;
                    var delay = params.delay || 0;
                    var playOnLoad = params.playOnLoad || false;
                    var volume = "volume" in params ? params.volume : 1;
                    var deferred = _utils.default.deferred();
                    if (params.loop === -1 && trackName in this.tracks && this.tracks[trackName].__name == soundName && this.tracks[trackName].playState !== createjs.Sound.PLAY_FAILED) {
                        Sound.tracks[trackName]._loop = -1
                    } else {
                        this.stop(trackName);
                        var _sound = createjs.Sound.play(soundName, params, localParams);
                        this.tracks[trackName] = _sound;
                        if (fade) _sound.volume = 0;
                        _sound.__name = soundName;
                        if (playOnLoad && _sound.playState === createjs.Sound.PLAY_FAILED) {
                            _sound.__loadListener = createjs.Sound.on("fileload", function(event) {
                                if (event.id === soundName) {
                                    createjs.Sound.off("fileload", _sound.__loadListener);
                                    _sound.__loadListener = null;
                                    Sound.play(soundName, trackName, params)
                                }
                            })
                        }
                    }
                    var sound = this.tracks[trackName];
                    if (sound.playState === createjs.Sound.PLAY_FAILED) {
                        deferred.resolve()
                    }
                    sound.on("complete", function() {
                        return deferred.resolve()
                    });
                    sound.on("loop", function() {
                        return _this.tracks[trackName].position = 0
                    });
                    sound.paused = false;
                    createjs.Tween.get(sound, {
                        override: true
                    }).wait(delay).to({
                        volume: volume
                    }, fade * Math.abs(1 - sound.volume / volume)).advance(0);
                    return deferred.promise
                }
            }, {
                key: "stop",
                value: function stop(trackName) {
                    var _this2 = this;
                    var fadeTime = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
                    if (fadeTime !== null) {
                        var track = this.tracks[trackName];
                        if (track) {
                            if (track.playState === createjs.Sound.PLAY_FAILED || track.playState === createjs.Sound.PLAY_FINISHED) {
                                return this.stop(trackName)
                            }
                            return this.fade(trackName, 0, fadeTime).then(function() {
                                return _this2.stop(trackName)
                            })
                        }
                    }
                    if (trackName in this.tracks) {
                        var sound = this.tracks[trackName];
                        if (sound.__loadListener) {
                            createjs.Sound.off("fileload", sound.__loadListener);
                            sound.__loadListener = null
                        }
                        sound.stop();
                        createjs.Tween.removeTweens(sound);
                        delete this.tracks[trackName]
                    }
                    return Promise.resolve()
                }
            }, {
                key: "isPlaying",
                value: function isPlaying(trackName) {
                    return this.tracks[trackName] && this.tracks[trackName].playState === createjs.Sound.PLAY_SUCCEEDED && !this.tracks[trackName].paused
                }
            }, {
                key: "pause",
                value: function pause(trackName) {
                    var _this3 = this;
                    var fade = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
                    if (fade) return this.fade(trackName, 0, fade).then(function() {
                        return _this3.pause(trackName)
                    });
                    if (this.tracks[trackName]) {
                        this.tracks[trackName].paused = true
                    }
                }
            }, {
                key: "resume",
                value: function resume(trackName) {
                    var fade = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
                    if (this.tracks[trackName]) {
                        this.tracks[trackName].paused = false;
                        if (fade) this.fade(trackName, 1, fade)
                    }
                }
            }, {
                key: "pauseAll",
                value: function pauseAll(exclude) {
                    for (var trackName in this.tracks) {
                        if (this.tracks.hasOwnProperty(trackName) && !exclude || exclude.indexOf(trackName) === -1) {
                            this.tracks[trackName].paused = true
                        }
                    }
                }
            }, {
                key: "resumeAll",
                value: function resumeAll(exclude) {
                    for (var trackName in this.tracks) {
                        if (this.tracks.hasOwnProperty(trackName) && !exclude || exclude.indexOf(trackName) === -1) {
                            this.tracks[trackName].paused = false
                        }
                    }
                }
            }, {
                key: "mute",
                value: function mute() {
                    createjs.Sound.muted = true
                }
            }, {
                key: "unmute",
                value: function unmute() {
                    createjs.Sound.muted = false
                }
            }, {
                key: "fade",
                value: function fade(track, value, time) {
                    var _this4 = this;
                    if (this.tracks[track]) {
                        return new Promise(function(res) {
                            createjs.Tween.get(_this4.tracks[track], {
                                override: true
                            }).to({
                                volume: value
                            }, time).call(res).advance(0)
                        })
                    }
                    return Promise.resolve()
                }
            }, {
                key: "fadeAndStop",
                value: function fadeAndStop(track) {
                    var time = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 300;
                    return this.stop(track, time)
                }
            }, {
                key: "volume",
                value: function volume(track, value) {
                    this.tracks[track] && (this.tracks[track].volume = value)
                }
            }, {
                key: "status",
                value: function status() {
                    return !createjs.Sound.muted
                }
            }, {
                key: "vibrate",
                value: function vibrate(pattern) {
                    if (this.status() && navigator.vibrate) {
                        try {
                            navigator.vibrate(pattern)
                        } catch (e) {
                            return null
                        }
                    }
                }
            }]);
            return Sound
        }();
        exports.default = Sound;
        createjs.Sound.play = function(src, props) {
            var localParams = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
            var s = createjs.Sound;
            var playProps = createjs.PlayPropsConfig.create(props);
            var instance = s.createInstance(src, playProps.startTime, playProps.duration, localParams);
            var ok = s._playInstance(instance, playProps);
            if (!ok) {
                instance._playFailed()
            }
            return instance
        };
        createjs.Sound._playInstance = function(instance, playProps) {
            var s = createjs.Sound;
            if (instance.src.hasOwnProperty("src")) {
                instance.src = instance.src.src
            }
            var defaultPlayProps = s._defaultPlayPropsHash[instance.src] || {};
            if (playProps.interrupt == null) {
                playProps.interrupt = defaultPlayProps.interrupt || s.defaultInterruptBehavior
            }
            if (playProps.delay == null) {
                playProps.delay = defaultPlayProps.delay || 0
            }
            if (playProps.offset == null) {
                playProps.offset = instance.position
            }
            if (playProps.loop == null) {
                playProps.loop = instance.loop
            }
            if (playProps.volume == null) {
                playProps.volume = instance.volume
            }
            if (playProps.pan == null) {
                playProps.pan = instance.pan
            }
            if (playProps.delay == 0) {
                var ok = s._beginPlaying(instance, playProps);
                if (!ok) {
                    return false
                }
            } else {
                var delayTimeoutId = setTimeout(function() {
                    s._beginPlaying(instance, playProps)
                }, playProps.delay);
                instance.delayTimeoutId = delayTimeoutId
            }
            this._instances.push(instance);
            return true
        };
        createjs.Sound.createInstance = function(src, startTime, duration, localParams) {
            var s = createjs.Sound;
            if (!s.initializeDefaultPlugins()) {
                return new createjs.DefaultSoundInstance(src, startTime, duration)
            }
            var defaultPlayProps = s._defaultPlayPropsHash[src];
            src = s._getSrcById(src);
            var details = s._parsePath(src.src);
            if (src.src.indexOf("blob") >= 0) {
                details = {
                    name: localParams.name,
                    src: localParams.value,
                    extension: localParams.ext
                }
            }
            var instance = null;
            if (details != null && details.src != null) {
                createjs.SoundChannel.create(details.src);
                if (startTime == null) {
                    startTime = src.startTime
                }
                instance = s.activePlugin.create(details.src, startTime, duration || src.duration);
                defaultPlayProps = defaultPlayProps || s._defaultPlayPropsHash[details.src];
                if (defaultPlayProps) {
                    instance.applyPlayProps(defaultPlayProps)
                }
            } else {
                instance = new createjs.DefaultSoundInstance(src, startTime, duration)
            }
            instance.uniqueId = s._lastID++;
            return instance
        };
        Sound.tracks = {}
    }, {
        "core/helpers/utils": 91
    }],
    81: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = exports.StateMachineLocked = exports.StateMachine = exports.State = exports.NoneState = void 0;
        var _app = require("../app");

        function _toConsumableArray(arr) {
            return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread()
        }

        function _nonIterableSpread() {
            throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }

        function _unsupportedIterableToArray(o, minLen) {
            if (!o) return;
            if (typeof o === "string") return _arrayLikeToArray(o, minLen);
            var n = Object.prototype.toString.call(o).slice(8, -1);
            if (n === "Object" && o.constructor) n = o.constructor.name;
            if (n === "Map" || n === "Set") return Array.from(o);
            if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen)
        }

        function _iterableToArray(iter) {
            if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter)
        }

        function _arrayWithoutHoles(arr) {
            if (Array.isArray(arr)) return _arrayLikeToArray(arr)
        }

        function _arrayLikeToArray(arr, len) {
            if (len == null || len > arr.length) len = arr.length;
            for (var i = 0, arr2 = new Array(len); i < len; i++) {
                arr2[i] = arr[i]
            }
            return arr2
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var StateMachineLocked = "StateMachineLocked";
        exports.StateMachineLocked = StateMachineLocked;
        var State = function(_PIXI$utils$EventEmit) {
            _inherits(State, _PIXI$utils$EventEmit);
            var _super = _createSuper(State);

            function State() {
                var _this;
                _classCallCheck(this, State);
                _this = _super.call(this);
                _this.active = false;
                return _this
            }
            _createClass(State, [{
                key: "enter",
                value: function enter() {
                    var _this2 = this;
                    this.emit(_app.GameEvent.WillEnterState);
                    return (this.onEnter.apply(this, arguments) || Promise.resolve()).then(function() {
                        return _this2.emit(_app.GameEvent.EnterState)
                    })
                }
            }, {
                key: "leave",
                value: function leave() {
                    var _this3 = this;
                    if (!this.active) return;
                    this.emit(_app.GameEvent.WillLeaveState);
                    return (this.onLeave.apply(this, arguments) || Promise.resolve()).then(function() {
                        return _this3.emit(_app.GameEvent.LeaveState)
                    })
                }
            }, {
                key: "onEnter",
                value: function onEnter() {}
            }, {
                key: "onLeave",
                value: function onLeave() {}
            }], [{
                key: "get",
                value: function get() {
                    return this._instance ? this._instance : this._instance = new this
                }
            }, {
                key: "on",
                value: function on() {
                    var _this$get;
                    return (_this$get = this.get()).on.apply(_this$get, arguments)
                }
            }, {
                key: "once",
                value: function once() {
                    var _this$get2;
                    return (_this$get2 = this.get()).once.apply(_this$get2, arguments)
                }
            }, {
                key: "off",
                value: function off() {
                    var _this$get3;
                    return (_this$get3 = this.get()).off.apply(_this$get3, arguments)
                }
            }]);
            return State
        }(PIXI.utils.EventEmitter);
        exports.State = State;
        var NoneState = function(_State) {
            _inherits(NoneState, _State);
            var _super2 = _createSuper(NoneState);

            function NoneState() {
                _classCallCheck(this, NoneState);
                return _super2.apply(this, arguments)
            }
            return _createClass(NoneState)
        }(State);
        exports.NoneState = NoneState;
        var StateMachine = function() {
            function StateMachine() {
                _classCallCheck(this, StateMachine);
                this._name = ++StateMachine._counter;
                this.locks = 0;
                this.transitions = [];
                this.currentState = NoneState;
                this.currentState.get().active = true;
                this.oldState = null;
                this.nextState = null;
                this.queue = [];
                this.activeTransitions = []
            }
            _createClass(StateMachine, [{
                key: "current",
                get: function get() {
                    return this.currentState.name
                }
            }, {
                key: "lock",
                value: function lock() {
                    return ++this.locks
                }
            }, {
                key: "unlock",
                value: function unlock() {
                    return --this.locks
                }
            }, {
                key: "kill",
                value: function kill() {
                    this.transitions.forEach(function(transition) {
                        return transition.ctx.off(transition.event, transition.callback)
                    });
                    this.transitions = [];
                    this.reset()
                }
            }, {
                key: "reset",
                value: function reset() {
                    var _this4 = this;
                    this.activeTransitions.forEach(function(t) {
                        return t.skip = true
                    });
                    this.activeTransitions = [];
                    this.locks = 0;
                    this.queue = [];
                    return this.changeState(NoneState).then(function() {
                        return _this4.locks = 0
                    })
                }
            }, {
                key: "add",
                value: function add() {
                    var _this5 = this;
                    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
                        args[_key] = arguments[_key]
                    }
                    if (args.length === 1) {
                        args[0].forEach(function(transition) {
                            return _this5.addTransition.apply(_this5, _toConsumableArray(transition))
                        });
                        return
                    }
                    if (args.length === 4) {
                        this.addTransition.apply(this, args);
                        return
                    }
                    throw new Error("StateMachine :: `add` method can apply 1 or 4 args.")
                }
            }, {
                key: "addTransition",
                value: function addTransition(source, destination, event, ctx) {
                    event = event || _app.GameEvent.LeaveState;
                    ctx = ctx || source.get();
                    var isExists = this.transitions.some(function(transition) {
                        return transition.source === source && transition.destination === destination && transition.event === event
                    });
                    if (isExists) {
                        throw new Error("StateMachine :: Transition already exists.")
                    }
                    var callback = this.onTransitionCallback.bind(this, source, destination, event);
                    this.transitions.push({
                        source: source,
                        destination: destination,
                        event: event,
                        ctx: ctx,
                        callback: callback
                    });
                    ctx.on(event, callback)
                }
            }, {
                key: "onTransitionCallback",
                value: function onTransitionCallback(source, destination, event) {
                    for (var _len2 = arguments.length, args = new Array(_len2 > 3 ? _len2 - 3 : 0), _key2 = 3; _key2 < _len2; _key2++) {
                        args[_key2 - 3] = arguments[_key2]
                    }
                    if (!this.locks) {
                        if (this.currentState.name === source.name) {
                            this.changeState(destination, event, args)
                        }
                    } else if (this.nextState && this.nextState.name === source.name && this.queue.length === 0) {
                        this.queue.push(arguments)
                    }
                }
            }, {
                key: "changeState",
                value: function changeState(state) {
                    var _this6 = this;
                    var event = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
                    var args = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];
                    if (this.locks) return Promise.reject(new Error(StateMachineLocked));
                    console.debug("({0}) Changing state {1} -> {2} ({3})".format(this._name, this.currentState.name, state.name, event));
                    this.nextState = state;
                    this.lock();
                    var transitionState = {
                        skip: false
                    };
                    this.activeTransitions.push(transitionState);
                    return Promise.resolve().then(function() {
                        return !transitionState.skip && _this6._leaveState(event, args)
                    }).then(function() {
                        return !transitionState.skip && _this6._enterState(state, args)
                    }).then(function() {
                        if (transitionState.skip) return;
                        _this6.nextState = null;
                        _this6.unlock()
                    }).then(function() {
                        return !transitionState.skip && _app.app.emit(_app.GameEvent.StateChanged, _this6.current)
                    }).then(function() {
                        return !transitionState.skip && _this6._processQueue()
                    }).catch(function(e) {
                        return !transitionState.skip && _this6._onError(e)
                    }).then(function() {
                        var idx = _this6.activeTransitions.indexOf(transitionState);
                        idx !== -1 && _this6.activeTransitions.splice(idx, 1)
                    })
                }
            }, {
                key: "_leaveState",
                value: function _leaveState(event, args) {
                    if (event !== _app.GameEvent.LeaveState) {
                        var _this$currentState$ge;
                        return (_this$currentState$ge = this.currentState.get()).leave.apply(_this$currentState$ge, _toConsumableArray(args))
                    }
                }
            }, {
                key: "_enterState",
                value: function _enterState(state, args) {
                    var _this$currentState$ge2;
                    this.currentState.get().active = false;
                    this.oldState = this.currentState;
                    this.currentState = state;
                    this.currentState.get().active = true;
                    return (_this$currentState$ge2 = this.currentState.get()).enter.apply(_this$currentState$ge2, _toConsumableArray(args))
                }
            }, {
                key: "_onError",
                value: function _onError(e) {
                    console.error("({0}) StateMachine :: Error\n{1}".format(this._name, e && (e.stack || e)));
                    console.debug(JSON.parse(JSON.stringify(_app.app.model.data)));
                    _app.app.emit(_app.GameEvent.RaisedError, {
                        type: "crit",
                        code: "ERROR_CLIENT_ERROR"
                    }, e)
                }
            }, {
                key: "_processQueue",
                value: function _processQueue() {
                    var _this7 = this;
                    var queue = this.queue;
                    this.queue = [];
                    queue.forEach(function(args) {
                        return _this7.onTransitionCallback.apply(_this7, _toConsumableArray(args))
                    })
                }
            }]);
            return StateMachine
        }();
        exports.StateMachine = StateMachine;
        StateMachine._counter = 0;
        var _default = State;
        exports.default = _default
    }, {
        "../app": 33
    }],
    82: [function(require, module, exports) {
        "use strict";

        function compareVersion(a, b) {
            a = a.split(".");
            b = b.split(".");

            function c(i) {
                return (a[i] || 0) - (b[i] || 0) || (i < a.length && i < b.length ? c(i + 1) : 0)
            }
            return c(0)
        }

        function createMiniSignal(prototype, minisignalname, eventname) {
            if (!(minisignalname in prototype)) {
                Object.defineProperty(prototype, minisignalname, {
                    enumerable: false,
                    get: function get() {
                        var ctx = this;
                        return {
                            add: function add(fn) {
                                ctx.on(eventname, fn);
                                return {
                                    fn: fn
                                }
                            },
                            detach: function detach(node) {
                                ctx.off(eventname, node.fn)
                            },
                            detachAll: function detachAll() {},
                            dispatch: function dispatch() {},
                            handlers: function handlers() {},
                            has: function has(node) {},
                            once: function once(fn) {
                                ctx.once(eventname, fn);
                                return {
                                    fn: fn
                                }
                            }
                        }
                    }
                })
            }
        }
        if (compareVersion(PIXI.VERSION, "4.4.4") < 0) {
            createMiniSignal(PIXI.loaders.Resource.prototype, "onAfterMiddleware", "afterMiddleware");
            createMiniSignal(PIXI.loaders.Resource.prototype, "onProgress", "progress");
            if (!PIXI.loaders.Resource.TYPE) {
                PIXI.loaders.Resource.TYPE = {
                    UNKNOWN: 0,
                    JSON: 1,
                    XML: 2,
                    IMAGE: 3,
                    AUDIO: 4,
                    VIDEO: 5,
                    TEXT: 6
                }
            }
            if (!("type" in PIXI.loaders.Resource.prototype)) {
                Object.defineProperty(PIXI.loaders.Resource.prototype, "type", {
                    get: function get() {
                        if (this.isJson) return PIXI.loaders.Resource.TYPE.JSON;
                        if (this.isXml) return PIXI.loaders.Resource.TYPE.XML;
                        if (this.isImage) return PIXI.loaders.Resource.TYPE.IMAGE;
                        if (this.isAudio) return PIXI.loaders.Resource.TYPE.AUDIO;
                        if (this.isVideo) return PIXI.loaders.Resource.TYPE.VIDEO;
                        if (this.data) return PIXI.loaders.Resource.TYPE.TEXT;
                        return PIXI.loaders.Resource.TYPE.UNKNOWN
                    }
                })
            }!("settings" in PIXI) && (PIXI.settings = {});
            !("TARGET_FPMS" in PIXI.settings) && (PIXI.settings.TARGET_FPMS = PIXI.TARGET_FPMS);
            !("RESOLUTION" in PIXI.settings) && (PIXI.settings.RESOLUTION = PIXI.RESOLUTION);
            !("AnimatedSprite" in PIXI.extras) && (PIXI.extras.AnimatedSprite = PIXI.extras.MovieClip);
            if (!("registerFont" in PIXI.extras.BitmapText)) {
                var core = PIXI;
                var BitmapText = PIXI.extras.BitmapText;
                BitmapText.registerFont = function registerFont(xml, texture) {
                    var data = {};
                    var info = xml.getElementsByTagName("info")[0];
                    var common = xml.getElementsByTagName("common")[0];
                    var res = texture.baseTexture.resolution || PIXI.settings.RESOLUTION;
                    data.font = info.getAttribute("face");
                    data.size = parseInt(info.getAttribute("size"), 10);
                    data.lineHeight = parseInt(common.getAttribute("lineHeight"), 10) / res;
                    data.chars = {};
                    var letters = xml.getElementsByTagName("char");
                    for (var i = 0; i < letters.length; i++) {
                        var letter = letters[i];
                        var charCode = parseInt(letter.getAttribute("id"), 10);
                        var textureRect = new core.Rectangle(parseInt(letter.getAttribute("x"), 10) / res + texture.frame.x / res, parseInt(letter.getAttribute("y"), 10) / res + texture.frame.y / res, parseInt(letter.getAttribute("width"), 10) / res, parseInt(letter.getAttribute("height"), 10) / res);
                        data.chars[charCode] = {
                            xOffset: parseInt(letter.getAttribute("xoffset"), 10) / res,
                            yOffset: parseInt(letter.getAttribute("yoffset"), 10) / res,
                            xAdvance: parseInt(letter.getAttribute("xadvance"), 10) / res,
                            kerning: {},
                            texture: new core.Texture(texture.baseTexture, textureRect)
                        }
                    }
                    var kernings = xml.getElementsByTagName("kerning");
                    for (var _i5 = 0; _i5 < kernings.length; _i5++) {
                        var kerning = kernings[_i5];
                        var first = parseInt(kerning.getAttribute("first"), 10) / res;
                        var second = parseInt(kerning.getAttribute("second"), 10) / res;
                        var amount = parseInt(kerning.getAttribute("amount"), 10) / res;
                        if (data.chars[second]) {
                            data.chars[second].kerning[first] = amount
                        }
                    }
                    BitmapText.fonts[data.font] = data;
                    return data
                }
            }
        }
        if (compareVersion(PIXI.VERSION, "4.5.0") < 0) {
            if (!PIXI.UPDATE_PRIORITY) {
                PIXI.UPDATE_PRIORITY = {
                    INTERACTION: 50,
                    HIGH: 25,
                    NORMAL: 0,
                    LOW: -25,
                    UTILITY: -50
                }
            }
            if (!PIXI.TextMetrics) {
                PIXI.TextMetrics = {}
            }
        }
    }, {}],
    83: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.Config = void 0;
        var _Enums = require("core/core/Enums");
        var _app = _interopRequireDefault(require("core/app"));
        var _dat = require("dat.gui");
        var _fileSaver = _interopRequireDefault(require("file-saver"));
        var _Sound = _interopRequireDefault(require("core/core/Sound"));
        var _helpers = require("core/helpers");
        require("./soundDnDStyles.pcss");

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _createForOfIteratorHelper(o, allowArrayLike) {
            var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"];
            if (!it) {
                if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") {
                    if (it) o = it;
                    var i = 0;
                    var F = function F() {};
                    return {
                        s: F,
                        n: function n() {
                            if (i >= o.length) return {
                                done: true
                            };
                            return {
                                done: false,
                                value: o[i++]
                            }
                        },
                        e: function e(_e) {
                            throw _e
                        },
                        f: F
                    }
                }
                throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
            }
            var normalCompletion = true,
                didErr = false,
                err;
            return {
                s: function s() {
                    it = it.call(o)
                },
                n: function n() {
                    var step = it.next();
                    normalCompletion = step.done;
                    return step
                },
                e: function e(_e2) {
                    didErr = true;
                    err = _e2
                },
                f: function f() {
                    try {
                        if (!normalCompletion && it.return != null) it.return()
                    } finally {
                        if (didErr) throw err
                    }
                }
            }
        }

        function _unsupportedIterableToArray(o, minLen) {
            if (!o) return;
            if (typeof o === "string") return _arrayLikeToArray(o, minLen);
            var n = Object.prototype.toString.call(o).slice(8, -1);
            if (n === "Object" && o.constructor) n = o.constructor.name;
            if (n === "Map" || n === "Set") return Array.from(o);
            if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen)
        }

        function _arrayLikeToArray(arr, len) {
            if (len == null || len > arr.length) len = arr.length;
            for (var i = 0, arr2 = new Array(len); i < len; i++) {
                arr2[i] = arr[i]
            }
            return arr2
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function ljust(string, width, padding) {
            padding = (padding || " ").substr(0, 1);
            return string.length < width ? string + padding.repeat(width - string.length) : string
        }
        var Config = function() {
            function Config() {
                _classCallCheck(this, Config);
                this.gui = null;
                this.printTimings = false;
                this.printRoundTime = false;
                this.showSoundLog = false;
                this.soundPlayTxtData = [];
                this.soundAmbientTxt = null;
                this.printSoundCounter = 1
            }
            _createClass(Config, [{
                key: "show",
                value: function show() {
                    var _this = this;
                    if (this.gui) return;
                    this.gui = new _dat.gui.GUI({
                        autoPlace: false,
                        width: 300
                    });
                    document.body.insertBefore(this.gui.domElement, document.querySelector(".fs-notify"));
                    this.gui.domElement.style["position"] = "absolute";
                    this.gui.domElement.style["margin-top"] = "28px";
                    this.gui.domElement.style["z-index"] = "9999";
                    this.initTimings();
                    this.initSounds();
                    this.initTimingLogging();
                    this.initTimingRoundLogging();
                    this.initBoard();
                    this.initLoadConfig();
                    var showLogCtrl = this.gui.add(this, "showSoundLog");
                    showLogCtrl.onChange(function() {
                        return _this.showSoundLogFunc()
                    })
                }
            }, {
                key: "hide",
                value: function hide() {
                    this.gui && this.gui.domElement.remove();
                    this.gui = null
                }
            }, {
                key: "initTimings",
                value: function initTimings() {
                    this.gui.add(this, "playbackRate", .1, 1, .1);
                    var folder1 = this.gui.addFolder("Reel config");
                    folder1.add(this.reel, "startTime");
                    folder1.add(this.reel, "cycleTime");
                    folder1.add(this.reel, "leaveTime");
                    folder1.add(this.reel, "leaveTimeAnticipation");
                    folder1.add(this.reel, "backInAmount");
                    folder1.add(this.reel, "backOutAmount");
                    folder1.add(this.reel, "backOutAmountAnticipation");
                    folder1.add(this.reel, "skipCycleTime");
                    folder1.add(this.reel, "skipLeaveTime");
                    var folder2 = this.gui.addFolder("Reels config");
                    folder2.add(this.reels, "leaveTime");
                    folder2.add(this.reels, "leaveTimeAnticipation")
                }
            }, {
                key: "initLoadConfig",
                value: function initLoadConfig() {
                    this.gui.add(this, "loadFile")
                }
            }, {
                key: "initSounds",
                value: function initSounds() {
                    var _this2 = this;
                    var soundController = _app.default.controllers.sound;
                    if (!soundController) return;
                    var config = soundController.config;
                    if (!config) return;
                    this.gui.add(this, "saveSounds");
                    var folder3 = this.gui.addFolder("soundVolumes");
                    var folder4 = this.gui.addFolder("soundMutes");
                    var controllerCheckArr = [];
                    this.soundGuiController = [];
                    var _iterator = _createForOfIteratorHelper(Object.getOwnPropertyNames(config.sounds)),
                        _step;
                    try {
                        var _loop = function _loop() {
                            var track = _step.value;
                            var controller = folder3.add(config.sounds[track], "volume", 0, 1, .01).name(track);
                            var controllerCheck = folder4.add({
                                unmute: true
                            }, "unmute").name(track);
                            controllerCheck.onChange(function(val) {
                                _Sound.default.volume(track, val > 0 ? config.sounds[track].volume : 0);
                                if (val > 0) {
                                    var idx = soundController.mutedSoundArr.indexOf(track);
                                    if (idx >= 0) soundController.mutedSoundArr.splice(idx, 1)
                                } else {
                                    soundController.mutedSoundArr.push(track)
                                }
                            });
                            controllerCheckArr[track] = controllerCheck;
                            controller.onChange(function(val) {
                                config.sounds[track].volume = val;
                                _Sound.default.volume(track, val)
                            });
                            _this2.soundGuiController[track] = controller
                        };
                        for (_iterator.s(); !(_step = _iterator.n()).done;) {
                            _loop()
                        }
                    } catch (err) {
                        _iterator.e(err)
                    } finally {
                        _iterator.f()
                    }
                    var muteAll = folder4.add({
                        muteAll: false
                    }, "muteAll");
                    muteAll.onChange(function(val) {
                        var _iterator2 = _createForOfIteratorHelper(Object.getOwnPropertyNames(config.sounds)),
                            _step2;
                        try {
                            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
                                var track = _step2.value;
                                var volume = val ? 0 : config.sounds[track].volume;
                                controllerCheckArr[track].setValue(volume > 0);
                                _Sound.default.volume(track, volume)
                            }
                        } catch (err) {
                            _iterator2.e(err)
                        } finally {
                            _iterator2.f()
                        }
                    })
                }
            }, {
                key: "initTimingLogging",
                value: function initTimingLogging() {
                    var _this3 = this;
                    this.gui.add(this, "printTimings");
                    var t1 = {};
                    var t2 = {};
                    _app.default.on("Reels.WillStopEvent", function() {
                        return _this3.printTimings && console.log("")
                    });
                    _app.default.on("Reel.EVENT.BEFORE_START_STOP", function(id) {
                        return t1[id] = Date.now()
                    });
                    _app.default.on("Reel.EVENT.STOP_MAXIMUM", function(id) {
                        return t2[id] = Date.now()
                    });
                    _app.default.on("Reel.EVENT.STOP", function(id) {
                        if (!_this3.printTimings) return;
                        var t = Date.now();
                        var r = "reel: ".concat(id, "\tSTOP_MAXIMUM: ").concat(t - t2[id], "\tSTOP: ").concat(t - t1[id], "\t");
                        if (id > 1) r += "DIFF_STOP_MAXIMUM: ".concat(t2[id] - t2[id - 1]);
                        console.log(r)
                    })
                }
            }, {
                key: "initTimingRoundLogging",
                value: function initTimingRoundLogging() {
                    var _this4 = this;
                    this.gui.add(this, "printRoundTime");
                    var t = null;
                    _app.default.on("RoundStart", function() {
                        var nt = Date.now();
                        if (!_this4.printRoundTime || t === null) return t = nt;
                        var isAnticipation = Array.from(new Set(_app.default.model.anticipationMap())).length > 1;
                        var isRoundWithWin = _app.default.model.roundWin() > 0;
                        console.log("round time: ".concat(ljust(nt - t, 5), "\tancipation: ").concat(isAnticipation, "\twin: ").concat(isRoundWithWin));
                        t = nt
                    })
                }
            }, {
                key: "initBoard",
                value: function initBoard() {
                    this.gui.add(this, "shortBigWin");
                    this.gui.add(this, "minTW")
                }
            }, {
                key: "loadFile",
                value: function loadFile() {
                    this.addDragNDrop()
                }
            }, {
                key: "addDragNDrop",
                value: function addDragNDrop() {
                    var _this5 = this;
                    this.dragNDropWrapper = document.createElement("div");
                    this.dragNDropWrapper.id = "snd::dragAndDrop";
                    this.dragNDropWrapper.style = "position: absolute; z-index: 9999;";
                    document.body.appendChild(this.dragNDropWrapper);
                    var dynamicHtml = '<div class="wrapper-drag-n-drop">\n' + '<div id="dragNDrop" class="box has-advanced-upload">\n' + '<div class="box__input">\n' + '<svg class="box__icon" xmlns="http://www.w3.org/2000/svg" width="50" height="43" viewBox="0 0 50 43"><path d="M48.4 26.5c-.9 0-1.7.7-1.7 1.7v11.6h-43.3v-11.6c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v13.2c0 .9.7 1.7 1.7 1.7h46.7c.9 0 1.7-.7 1.7-1.7v-13.2c0-1-.7-1.7-1.7-1.7zm-24.5 6.1c.3.3.8.5 1.2.5.4 0 .9-.2 1.2-.5l10-11.6c.7-.7.7-1.7 0-2.4s-1.7-.7-2.4 0l-7.1 8.3v-25.3c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v25.3l-7.1-8.3c-.7-.7-1.7-.7-2.4 0s-.7 1.7 0 2.4l10 11.6z"></path></svg>\n' + '<input type="file"  id="file" class="box__file" multiple="">\n' + '<label for="file"><strong>Choose a folder</strong><span class="box__dragndrop"> or drag it here</span>.</label>\n' + "</div>" + "</div>" + '<button id="snd::closeBtn" style="width: 100px; height: 100px; font-size: 20px;">Close</button>';
                    this.dragNDropWrapper.innerHTML = dynamicHtml;
                    this.dropArea = document.getElementById("dragNDrop");
                    var addClass = function addClass() {
                        event.preventDefault();
                        var nameOfClass = "is-dragover";
                        if (_this5.dropArea.classList) {
                            _this5.dropArea.classList.add(nameOfClass)
                        } else {
                            var regExp = new RegExp("(\\s|^)" + nameOfClass + "(\\s|$)");
                            if (!_this5.dropArea.className.match(regExp)) {
                                _this5.dropArea.className += " " + nameOfClass
                            }
                        }
                    };
                    var removeClass = function removeClass() {
                        var nameOfClass = "is-dragover";
                        if (_this5.dropArea.classList) {
                            _this5.dropArea.classList.remove(nameOfClass)
                        } else {
                            var regExp = new RegExp("(\\s|^)" + nameOfClass + "(\\s|$)");
                            if (_this5.dropArea.className.match(regExp)) {
                                _this5.dropArea.className.replace(regExp, " ")
                            }
                        }
                    };
                    this.dropArea.addEventListener("drop", function(event) {
                        return _this5.dropDirectory(event)
                    }, false);
                    this.dropArea.addEventListener("dragover", function() {
                        return addClass()
                    }, false);
                    this.dropArea.addEventListener("dragenter", function() {
                        return addClass()
                    }, false);
                    this.dropArea.addEventListener("dragleave", function() {
                        return removeClass()
                    }, false);
                    this.dropArea.addEventListener("dragend", function() {
                        return removeClass()
                    }, false);
                    document.getElementById("snd::closeBtn").addEventListener("click", function() {
                        return _this5.dndClose()
                    }, false)
                }
            }, {
                key: "dropDirectory",
                value: function dropDirectory(event) {
                    var _this6 = this;
                    event.preventDefault();
                    var items = event.dataTransfer.items;
                    for (var i = 0; i < items.length; i++) {
                        var item = items[i].webkitGetAsEntry();
                        if (item && item.isDirectory) {
                            this.traverseFileTree(item).then(function() {
                                _this6.dndClose()
                            })
                        } else if (item && item.isFile) {
                            this.traverseFileTree(item)
                        }
                    }
                }
            }, {
                key: "traverseFileTree",
                value: function traverseFileTree(item, path, parentFolder) {
                    var _this7 = this;
                    var promises = [];
                    var deferred = _helpers.utils.deferred();
                    path = path || "";
                    if (item.isFile) {
                        item.file(function(file) {
                            if (/\.(json)$/i.test(file.name)) {
                                promises.push(_this7.loadConfig(file, file.name, parentFolder, "config"))
                            }
                            if (/\.(mp3|ogg)$/i.test(file.name)) {
                                promises.push(_this7.loadSoundItem(file, file.name, parentFolder, "sound"))
                            }
                            deferred.resolve()
                        })
                    } else if (item.isDirectory) {
                        var dirReader = item.createReader();
                        dirReader.readEntries(function(entries) {
                            for (var i = 0; i < entries.length; i++) {
                                promises.push(_this7.traverseFileTree(entries[i], path + item.name + "/", item.name))
                            }
                            deferred.resolve()
                        })
                    }
                    return deferred.promise.then(function() {
                        return Promise.all(promises)
                    })
                }
            }, {
                key: "loadConfig",
                value: function loadConfig(filepath) {
                    var _this8 = this;
                    var reader = new FileReader;
                    var deferred = _helpers.utils.deferred();
                    reader.onload = function(_ref) {
                        var srcElement = _ref.srcElement;
                        var data = JSON.parse(srcElement.result);
                        var soundController = _app.default.controllers.sound;
                        if (!soundController) return;
                        _this8.config = soundController.config;
                        if (!_this8.config) return;
                        _this8.config = data;
                        _this8.updateSoundData();
                        _this8.dndClose();
                        deferred.resolve()
                    };
                    reader.readAsText(filepath);
                    return deferred.promise
                }
            }, {
                key: "loadSoundItem",
                value: function loadSoundItem(filepath) {
                    var deferred = _helpers.utils.deferred();
                    var regExt = /\.(mp3|ogg)$/i;
                    var removeExtension = function removeExtension(name) {
                        if (regExt.test(name)) {
                            name = name.replace(regExt, "")
                        }
                        return name
                    };
                    var name = removeExtension(filepath.name);
                    var extension = regExt.exec(filepath.name)[1];
                    var handleLoadComplete = function handleLoadComplete() {
                        console.log("Sound ".concat(name, " loaded, previous sound stopped"));
                        _Sound.default.stop(name)
                    };
                    createjs.Sound.on("fileload", handleLoadComplete, null, true);
                    var mURL = URL.createObjectURL(filepath);
                    var data = {
                        src: {},
                        type: "sound",
                        id: name
                    };
                    data.src[extension] = mURL;
                    createjs.Sound.registerSound(data, name);
                    var localParams = {
                        name: name,
                        value: mURL,
                        ext: extension
                    };
                    var soundController = _app.default.controllers.sound;
                    if (!soundController) return;
                    soundController.localSounds[name] = localParams;
                    deferred.resolve()
                }
            }, {
                key: "updateSoundData",
                value: function updateSoundData() {
                    var _iterator3 = _createForOfIteratorHelper(Object.getOwnPropertyNames(this.config.config.sounds)),
                        _step3;
                    try {
                        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {
                            var track = _step3.value;
                            var newData = this.config.config.sounds[track];
                            var controller = this.soundGuiController[track];
                            controller.setValue(newData.volume);
                            _Sound.default.volume(track, newData.volume)
                        }
                    } catch (err) {
                        _iterator3.e(err)
                    } finally {
                        _iterator3.f()
                    }
                }
            }, {
                key: "dndClose",
                value: function dndClose() {
                    var dnd = document.getElementById("snd::dragAndDrop");
                    dnd.parentNode.removeChild(dnd)
                }
            }, {
                key: "saveSounds",
                value: function saveSounds() {
                    var soundController = _app.default.controllers.sound;
                    if (!soundController) return;
                    var config = soundController.config;
                    if (!config) return;
                    var string = JSON.stringify({
                        config: config
                    }, null, "\t");
                    var blob = new Blob([string], {
                        type: "text/plain;charset=utf-8"
                    });
                    _fileSaver.default.saveAs(blob, "soundsconfig.json")
                }
            }, {
                key: "showSoundLogFunc",
                value: function showSoundLogFunc() {
                    var soundController = _app.default.controllers.sound;
                    if (!soundController) return;
                    if (this.showSoundLog) {
                        var isMuted = soundController.mutedSoundArr.indexOf(_app.default.controllers.sound.currentAmbient) >= 0;
                        var ambient = isMuted ? "" : _app.default.controllers.sound.currentAmbient;
                        this.soundAmbientTxt = _app.default.board.addChild(new PIXI.Text(ambient, {
                            fontFamily: "Roboto-Bold",
                            fontSize: 20,
                            fill: "#00ff00",
                            stroke: "#000000",
                            strokeThickness: 5
                        }));
                        this.soundAmbientTxt.x = 50;
                        this.soundAmbientTxt.y = 180;
                        _app.default.on(_Enums.GameEvent.SoundAmbientPlay, this.ambientListener, this);
                        _app.default.on(_Enums.GameEvent.SoundPlay, this.soundPlayListener, this);
                        _app.default.on(_Enums.GameEvent.SoundStop, this.soundStopListener, this);
                        _app.default.on(_Enums.GameEvent.SoundComplete, this.soundCompleteListener, this)
                    } else {
                        this.soundAmbientTxt.removeFromParent();
                        this.soundPlayTxtData.forEach(function(elm) {
                            elm.txt.removeFromParent()
                        });
                        this.soundPlayTxtData = [];
                        this.printSoundCounter = 1;
                        _app.default.off(_Enums.GameEvent.SoundAmbientPlay, this.ambientListener, this);
                        _app.default.off(_Enums.GameEvent.SoundPlay, this.soundPlayListener, this);
                        _app.default.off(_Enums.GameEvent.SoundStop, this.soundStopListener, this);
                        _app.default.off(_Enums.GameEvent.SoundComplete, this.soundCompleteListener, this)
                    }
                }
            }, {
                key: "ambientListener",
                value: function ambientListener(name) {
                    var soundController = _app.default.controllers.sound;
                    if (!soundController) return;
                    var isMuted = soundController.mutedSoundArr.indexOf(name) >= 0;
                    if (isMuted) return;
                    this.soundAmbientTxt.text = name
                }
            }, {
                key: "soundStopListener",
                value: function soundStopListener(name) {
                    console.log("Sound ".concat(name, " stopped"));
                    this.soundPlayTxtData.forEach(function(elm) {
                        if (elm.name === name || elm.name.includes(name)) {
                            if (elm.txt) elm.txt.style.fill = "0xffffff"
                        }
                    })
                }
            }, {
                key: "soundCompleteListener",
                value: function soundCompleteListener(name) {
                    this.soundPlayTxtData.forEach(function(elm) {
                        if (elm.name === name) {
                            if (elm.txt) elm.txt.style.fill = "0xffffff"
                        }
                    })
                }
            }, {
                key: "soundPlayListener",
                value: function soundPlayListener(name) {
                    var _this9 = this;
                    var startX = 50;
                    var startY = 180;
                    var padding = 20;
                    var removeSoundCount = 5;
                    var printSoundCount = 16;
                    var removeItem = true;
                    var soundController = _app.default.controllers.sound;
                    if (!soundController) return;
                    var displayName = name.split("#")[0];
                    var isMuted = soundController.mutedSoundArr.indexOf(displayName) >= 0;
                    if (isMuted) return;
                    var txt = _app.default.board.addChild(new PIXI.Text(displayName, {
                        fontFamily: "Roboto-Bold",
                        fontSize: 20,
                        fill: "#00ff00",
                        stroke: "#000000",
                        strokeThickness: 5
                    }));
                    txt.x = startX;
                    txt.y = startY + padding * this.printSoundCounter;
                    this.soundPlayTxtData.push({
                        name: name,
                        txt: txt
                    });
                    this.printSoundCounter++;
                    if (this.printSoundCounter === printSoundCount) {
                        this.printSoundCounter -= removeSoundCount;
                        removeItem = true;
                        var _loop2 = function _loop2(i) {
                            var data = _this9.soundPlayTxtData[i];
                            if (removeItem) {
                                data.txt.tween(true).to({
                                    alpha: 0
                                }, 50).call(function() {
                                    data.txt.removeFromParent()
                                })
                            } else {
                                data.txt.y = data.txt.y - removeSoundCount * padding
                            }
                            if (i === removeSoundCount - 1) removeItem = false
                        };
                        for (var i = 0; i < this.soundPlayTxtData.length; i++) {
                            _loop2(i)
                        }
                        this.soundPlayTxtData.splice(0, removeSoundCount)
                    }
                }
            }], [{
                key: "create",
                value: function create() {
                    if (Config.__instance) return Config.__instance;
                    Config.__instance = new Config;
                    return Config.__instance
                }
            }]);
            return Config
        }();
        exports.Config = Config;
        Object.defineProperties(Config.prototype, {
            playbackRate: {
                get: function get() {
                    return PIXI.ticker.shared.speed
                },
                set: function set(v) {
                    return PIXI.ticker.shared.speed = v
                }
            },
            reel: {
                value: {}
            },
            reels: {
                value: {}
            },
            shortBigWin: {
                get: function get() {
                    return _app.default.config.get("Board.bigwinWithoutCounter")
                },
                set: function set(v) {
                    return _app.default.config.set("Board.bigwinWithoutCounter", v)
                }
            },
            minTW: {
                get: function get() {
                    return _app.default.config.get("Board.totalWinCounterMinTB")
                },
                set: function set(v) {
                    return _app.default.config.set("Board.totalWinCounterMinTB", v)
                }
            }
        });
        Object.defineProperties(Config.prototype.reel, {
            startTime: {
                get: function get() {
                    return _app.default.config.get("Reel.startTime")
                },
                set: function set(v) {
                    return _app.default.config.set("Reel.startTime", v)
                }
            },
            cycleTime: {
                get: function get() {
                    return _app.default.config.get("Reel.cycleTime")
                },
                set: function set(v) {
                    return _app.default.config.set("Reel.cycleTime", v)
                }
            },
            leaveTime: {
                get: function get() {
                    return _app.default.config.get("Reel.leaveTime")
                },
                set: function set(v) {
                    return _app.default.config.set("Reel.leaveTime", v)
                }
            },
            leaveTimeAnticipation: {
                get: function get() {
                    return _app.default.config.get("Reel.leaveTimeAnticipation")
                },
                set: function set(v) {
                    return _app.default.config.set("Reel.leaveTimeAnticipation", v)
                }
            },
            backInAmount: {
                get: function get() {
                    return _app.default.config.get("Reel.backInAmount")
                },
                set: function set(v) {
                    return _app.default.config.set("Reel.backInAmount", v)
                }
            },
            backOutAmount: {
                get: function get() {
                    return _app.default.config.get("Reel.backOutAmount")
                },
                set: function set(v) {
                    return _app.default.config.set("Reel.backOutAmount", v)
                }
            },
            backOutAmountAnticipation: {
                get: function get() {
                    return _app.default.config.get("Reel.backOutAmountAnticipation")
                },
                set: function set(v) {
                    return _app.default.config.set("Reel.backOutAmountAnticipation", v)
                }
            },
            skipCycleTime: {
                get: function get() {
                    return _app.default.config.get("Reel.skipCycleTime")
                },
                set: function set(v) {
                    return _app.default.config.set("Reel.skipCycleTime", v)
                }
            },
            skipLeaveTime: {
                get: function get() {
                    return _app.default.config.get("Reel.skipLeaveTime")
                },
                set: function set(v) {
                    return _app.default.config.set("Reel.skipLeaveTime", v)
                }
            }
        });
        Object.defineProperties(Config.prototype.reels, {
            leaveTime: {
                get: function get() {
                    return _app.default.config.get("Reels.leaveTime")
                },
                set: function set(v) {
                    return _app.default.config.set("Reels.leaveTime", v)
                }
            },
            leaveTimeAnticipation: {
                get: function get() {
                    return _app.default.config.get("Reels.leaveTimeAnticipation")
                },
                set: function set(v) {
                    return _app.default.config.set("Reels.leaveTimeAnticipation", v)
                }
            }
        })
    }, {
        "./soundDnDStyles.pcss": 84,
        "core/app": 33,
        "core/core/Enums": 73,
        "core/core/Sound": 80,
        "core/helpers": 90,
        "dat.gui": 5,
        "file-saver": 8
    }],
    84: [function(require, module, exports) {
        module.exports = require("browserify-postcss")("input.no-use {     background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAqkAAAFfCAYAAABtBVVeAAAKtmlDQ1BJQ0MgUHJvZmlsZQAASImVlgdUU9kWhs+96Y0WCEVK6E16CyC9hi4dbIQkQCgxJgQVUREZVGAsqIigImWQouBYABkLIoqFQbFhnyCDijoOFkRF5V3gEWbeW++99XbWvudbO/v8Z597z1lrA0D+nSUQpMNyAGTwM4Xhfp702Lh4Ou4pgIAKoAAAZFhskcAjLCwIYTA7/t0+3kWyEbtlNqX17///V5PncEVsAKAwhBM5InYGwicQv8oWCDMBQOUicd2VmYIprkVYUYgUiHD7FCfPcO8UJ86wZDonMtwL4Q8A4MksljAZAPLUWvQsdjKiQ6YjbMnn8PgIT63ryk5hcRDejvD8jIzlU3waYaPEv+gk/00zUarJYiVLeWYv04b35okE6azV/+fr+N+WkS6eXUMXcXKK0D8cGWlT7y1teaCU+YkhobPM40znT3OK2D9qltkir/hZ5rC8A6Vz00OCZjmJ58uU6mQyI2dZuDxcqs8V+UTMMks4t5Y4LcpDui6XKdXMTomMmeUsXnTILIvSIgLncrykcaE4XFpzktBXuscM0V/2xWNK8zNTIv2le2TN1cYVxUpr4HC9faRxfpQ0R5DpKdUXpIdJ87npftK4KCtCOjcTOWxzc8Ok7yeVFRA2y8Ab+IAg5EcHUcAa2AIr5BkMQCZ3VebUBryWC1YLeckpmXQP5AZx6Uw+23w+3drSigHA1H2c+dzv703fM4iGn4sJEH1Hb+Rc1szFEtUAaEPOiCphLqZ3CADZWABac9liYdZMDD31wAAikAWKQBVoIufJCJghldkDZ+COVBwAQkEkiANLARukgAwgBCtBDtgACkAR2A52g3JQCWpAPTgCjoE2cBqcB5fANXAD3AEPgQQMg1dgFHwEExAE4SAKRIVUIS1IHzKFrCEG5Ar5QEFQOBQHJUDJEB8SQznQRqgIKoHKoSqoAfoZOgWdh65A/dB9aBAagd5BX2AUTIYVYQ3YALaAGbAHHAhHwkvgZHgFnA3nw1vhMrgaPgy3wufha/AdWAK/gsdQAEVC0VDaKDMUA+WFCkXFo5JQQtQ6VCGqFFWNakZ1oHpQt1AS1GvUZzQWTUXT0WZoZ7Q/OgrNRq9Ar0MXo8vR9ehWdDf6FnoQPYr+jqFg1DGmGCcMExOLScasxBRgSjF1mJOYi5g7mGHMRywWS8MaYh2w/tg4bCp2DbYYux/bgu3E9mOHsGM4HE4VZ4pzwYXiWLhMXAFuL+4w7hzuJm4Y9wlPwmvhrfG++Hg8H5+HL8U34s/ib+Kf4ycIcgR9ghMhlMAhrCZsI9QSOgjXCcOECaI80ZDoQowkphI3EMuIzcSLxEfE9yQSSYfkSFpI4pFySWWko6TLpEHSZ7IC2YTsRV5MFpO3kg+RO8n3ye8pFIoBxZ0ST8mkbKU0UC5QnlA+yVBlzGWYMhyZ9TIVMq0yN2XeyBJk9WU9ZJfKZsuWyh6XvS77Wo4gZyDnJceSWydXIXdKbkBuTJ4qbyUfKp8hXyzfKH9F/oUCTsFAwUeBo5CvUKNwQWGIiqLqUr2obOpGai31InVYEatoqMhUTFUsUjyi2Kc4qqSgZKsUrbRKqULpjJKEhqIZ0Ji0dNo22jHaXdoXZQ1lD2Wu8hblZuWbyuMq81TcVbgqhSotKndUvqjSVX1U01R3qLapPlZDq5moLVRbqXZA7aLa63mK85znsecVzjs274E6rG6iHq6+Rr1GvVd9TENTw09DoLFX44LGa02aprtmquYuzbOaI1pULVctntYurXNaL+lKdA96Or2M3k0f1VbX9tcWa1dp92lP6BjqROnk6bToPNYl6jJ0k3R36Xbpjupp6QXr5eg16T3QJ+gz9FP09+j36I8bGBrEGGwyaDN4YahiyDTMNmwyfGREMXIzWmFUbXTbGGvMME4z3m98wwQ2sTNJMakwuW4Km9qb8kz3m/bPx8x3nM+fXz1/wIxs5mGWZdZkNmhOMw8yzzNvM39joWcRb7HDosfiu6WdZbplreVDKwWrAKs8qw6rd9Ym1mzrCuvbNhQbX5v1Nu02b21Nbbm2B2zv2VHtgu022XXZfbN3sBfaN9uPOOg5JDjscxhgKDLCGMWMy44YR0/H9Y6nHT872TtlOh1z+tPZzDnNudH5xQLDBdwFtQuGXHRcWC5VLhJXumuC60FXiZu2G8ut2u2pu647x73O/bmHsUeqx2GPN56WnkLPk57jXk5ea706vVHeft6F3n0+Cj5RPuU+T3x1fJN9m3xH/ez81vh1+mP8A/13+A8wNZhsZgNzNMAhYG1AdyA5MCKwPPBpkEmQMKgjGA4OCN4Z/ChEP4Qf0hYKQpmhO0MfhxmGrQj7ZSF2YdjCioXPwq3Cc8J7IqgRyyIaIz5GekZui3wYZRQljuqKlo1eHN0QPR7jHVMSI4m1iF0bey1OLY4X1x6Pi4+Or4sfW+SzaPei4cV2iwsW311iuGTVkitL1ZamLz2zTHYZa9nxBExCTEJjwldWKKuaNZbITNyXOMr2Yu9hv+K4c3ZxRrgu3BLu8ySXpJKkF8kuyTuTR1LcUkpTXvO8eOW8t6n+qZWp42mhaYfSJtNj0lsy8BkJGaf4Cvw0fvdyzeWrlvcLTAUFAskKpxW7V4wKA4V1Iki0RNSeqYg0Pr1iI/EP4sEs16yKrE8ro1ceXyW/ir+qd7XJ6i2rn2f7Zv+0Br2GvaYrRztnQ87gWo+1VeugdYnrutbrrs9fP5zrl1u/gbghbcOveZZ5JXkfNsZs7MjXyM/NH/rB74emApkCYcHAJudNlZvRm3mb+7bYbNm75Xshp/BqkWVRadHXYnbx1R+tfiz7cXJr0ta+bfbbDmzHbudvv7vDbUd9iXxJdsnQzuCdrbvouwp3fdi9bPeVUtvSyj3EPeI9krKgsva9enu37/1anlJ+p8KzomWf+r4t+8b3c/bfPOB+oLlSo7Ko8stB3sF7VX5VrdUG1aU12Jqsmme10bU9PzF+aqhTqyuq+3aIf0hSH17f3eDQ0NCo3ritCW4SN40cXnz4xhHvI+3NZs1VLbSWoqPgqPjoy58Tfr57LPBY13HG8eYT+if2naSeLGyFWle3jraltEna49r7TwWc6upw7jj5i/kvh05rn644o3Rm21ni2fyzk+eyz411Cjpfn08+P9S1rOvhhdgLt7sXdvddDLx4+ZLvpQs9Hj3nLrtcPn3F6cqpq4yrbdfsr7X22vWe/NXu15N99n2t1x2ut99wvNHRv6D/7E23m+dved+6dJt5+9qdkDv9d6Pu3htYPCC5x7n34n76/bcPsh5MPMx9hHlU+FjucekT9SfVvxn/1iKxl5wZ9B7sfRrx9OEQe+jV76Lfvw7nP6M8K32u9bzhhfWL0yO+IzdeLno5/ErwauJ1wR/yf+x7Y/TmxJ/uf/aOxo4OvxW+nXxX/F71/aEPth+6xsLGnnzM+DgxXvhJ9VP9Z8bnni8xX55PrPyK+1r2zfhbx/fA748mMyYnBSwha7oVQCEOJyUB8A7pEyhxAFBvAEBcNNMvTxs00+NPE/hPPNNTT5s9ADWdAETmAhCEjHuR0QBxWXcAwhCPdAewjY3U/2miJBvrGS1SG9KalE5Ovkf6RJwxAN8GJicn2iYnv9UhxT4AoPPjTJ8+ZXKHATiYbWXrE3Fr85sc8C/2DwddCCpcjNnXAAABnWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj42ODE8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+MzUxPC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+Ctd+0ZYAADbxSURBVHgB7d0JvJxXXTfwkz3N0qRN2jRN0iVNm260UmpBNkVlE2URRUUQBeVDfZHlZVPEIiCyuoC+giDIpriyiiCgLLIWSmmbLknTNGn2NmmTZm/a5n3+T3qGye2de89k7kzuvfM9/UzuPDNnnuc832fu9HfPc54zEzZu33koKQQIECBAgAABAgRGkcDkaMv67XeOoiZpCgECBAgQIECAQL8LTOx3APtPgAABAgQIECAw+gSE1NF3TLSIAAECBAgQIND3AkJq378FABAgQIAAAQIERp+AkDr6jokWESBAgAABAgT6XkBI7fu3AAACBAgQIECAwOgTEFJH3zHRIgIECBAgQIBA3wsIqX3/FgBAgAABAgQIEBh9AvU8qcM168obVgxa5bLzL2w8fv+hQ+n7N17fWM53Jk6YkC4974K8mO6777501cobG8v5zqRJk9LDlp+XF9PBe+9NV6+6qbGc70yZPDk99Jxz82I6cPBguubmlY3lfGfalCnp4rOX58W0/54D6drVNzeW853pU6eli5adnRfT3v3704o1qxvL+c6M6dPThUuX5cW0Z9++dP2ttzSW852Zxx2XLjjzrLyYdu3dk25ce2tjOd+ZPWNmOu+MM/Ni2rlnd1q5bm1jOd+ZM3NWWn76GXkx7di1K61av66xnO/MnT07nbPk9LyY7rx7Z1q9YX1jOd858fg5adniJXkxbdu5I63ZuKGxnO/MnzM3LV20OC+mO+66K926eWNjOd856YQT0pkLF+XFtPXO7Wndls2N5XxnwYnz0umnLMyLafP2bWn91i2N5Xxn4bz5acmCU/Ji2rTtjrTh9q2N5Xzn1PknpcUnL8iLdZ2oO7BEnaibS2wztj2wxDZj27nEPsS+DCyxD7EvuYRJ2AwsYRI2uYRxWA8sYRzWucQxi2M3sMQxi2OXS7wH4r0wsMR7IN4LucR7Kt5bA0u8p+K9lUu8R+O9OrDEezTeq7nEez7e+wNLvOfjvZ9L/A7F79LAEr9D8buUS/xOxu/mwBK/k/G7mUv8jsfv+sASv+Pxu55LfGbEZ8fAEp8Z8dmRS3wGxWfRwBKfQfFZlEt8psVn28ASn2nx2ZaLz8hUH1efkT4jfUb6jIzPxaP5jMyfp80/9aQ2a7hPgAABAgQIECAwKgQmxNeiDveNU7mXoLnndFS0XiMIECBAgAABAgTGlEBprtSTOqYOq8YSIECAAAECBPpDQEjtj+NsLwkQIECAAAECY0pASB1Th0tjCRAgQIAAAQL9IVA0JrU/KOwlAQIECBAgQIDAaBHQkzpajoR2ECBAgAABAgQINASE1AaFOwQIECBAgAABAqNFoCikxuTYg02QPVp2QjsIECBAgAABAgTGhkBpriwKqfEtLoN9+9PYoNBKAgQIECBAgACB0SJQmiuLQupo2SntIECAAAECBAgQ6A8BIbU/jrO9JECAAAECBAiMKQEhdUwdLo0lQIAAAQIECPSHgJDaH8fZXhIgQIAAAQIExpTA5JLWTplcVK1kVeoQIECAAAECBAj0sUBprvSNU338JrHrBAgQIECAAIHRKuB0/2g9MtpFgAABAgQIEOhjASG1jw++XSdAgAABAgQIjFaBopC6d//+FDeFAAECBAgQIECAQCcCpbmyKKSuWLM6xU0hQIAAAQIECBAg0IlAaa4sCqmdNMRrCRAgQIAAAQIECLQrIKS2K6Y+AQIECBAgQIBA1wWE1K4T2wABAgQIECBAgEC7AkJqu2LqEyBAgAABAgQIdF2g6KukZkyf3vWG2AABAgQIECBAgMD4FyjNlb5xavy/F+whAQIECBAgQGDMCTjdP+YOmQYTIECAAAECBMa/gJA6/o+xPSRAgAABAgQIjDmBopC6c8/uFDeFAAECBAgQIECAQCcCpbmyKKSuXLc2xU0hQIAAAQIECBAg0IlAaa4sCqmdNMRrCRAgQIAAAQIECLQrIKS2K6Y+AQIECBAgQIBA1wWE1K4T2wABAgQIECBAgEC7AkJqu2LqEyBAgAABAgQIdF2g6Bun5syc1fWG2AABAgQIECBAgMD4FyjNlb5xavy/F+whAQIECBAgQGDMCTjdP+YOmQYTIECAAAECBMa/gJA6/o+xPSRAgAABAgQIjDmBopC6beeOFDeFAAECBAgQIECAQCcCpbmy6MKpNRs31G2ZP2duJ23yWgIECBAgQIAAgT4XKM2VRT2pfW5p9wkQIECAAAECBHosIKT2GNzmCBAgQIAAAQIEhhcQUoc3UoMAAQIECBAgQKDHAkJqj8FtjgABAgQIECBAYHiBogunXDA1PKQaBAgQIECAAAECwwuU5krfODW8pRoECBAgQIAAAQI9FnC6v8fgNkeAAAECBAgQIDC8gJA6vJEaBAgQIECAAAECPRYoCqmbt29LcVMIECBAgAABAgQIdCJQmiuLLpxav3VL3ZaF8+Z30iavJUCAAAECBAgQ6HOB0lxZ1JPa55Z2nwABAgQIECBAoMcCQmqPwW2OAAECBAgQIEBgeAEhdXgjNQgQIECAAAECBHosIKT2GNzmCBAgQIAAAQIEhhcounDKBVPDQ6pBgAABAgQIECAwvEBprvSNU8NbqkGAAAECBAgQINBjAaf7ewxucwQIECBAgAABAsMLCKnDG6lBgAABAgQIECDQY4GikBqTruaJV3vcPpsjQIAAAQIECBAYRwKlubIopJZ+fdU48rMrBAgQIECAAAECXRAozZVFIbUL7bNKAgQIECBAgAABAi0FhNSWNJ4gQIAAAQIECBA4VgJC6rGSt10CBAgQIECAAIGWAkJqSxpPECBAgAABAgQIHCuBom+cWrLglGPVPtslQIAAAQIECBAYRwKludI3To2jg25XCBAgQIAAAQLjRcDp/vFyJO0HAQIECBAgQGAcCQip4+hg2hUCBAgQIECAwHgRKAqpazZuSHFTCBAgQIAAAQIECHQiUJori0Lqtp07UtwUAgQIECBAgAABAp0IlObKopDaSUO8lgABAgQIECBAgEC7AkJqu2LqEyBAgAABAgQIdF1ASO06sQ0QIECAAAECBAi0KyCktiumPgECBAgQIECAQNcFir5xaumixV1viA0QIECAAAECBAiMf4HSXFkUUufPmTv+xewhAQIECBAgQIBA1wVKc6XT/V0/FDZAgAABAgQIECDQroCQ2q6Y+gQIECBAgAABAl0XKAqpK9etTXFTCBAgQIAAAQIECHQiUJori8ak7tyzu5O2eC0BAgQIECBAgACBWqA0Vxb1pDIlQIAAAQIECBAg0EsBIbWX2rZFgAABAgQIECBQJCCkFjGpRIAAAQIECBAg0EsBIbWX2rZFgAABAgQIECBQJFB04dTy088oWplKBAgQIECAAAECBIYSKM2VRSF1zsxZQ23LcwQIECBAgAABAgSKBEpzpdP9RZwqESBAgAABAgQI9FJASO2ltm0RIECAAAECBAgUCRSF1BVrVqe4KQQIECBAgAABAgQ6ESjNlUVjUvfu399JW7yWAAECBAgQIECAQC1QmiuLelKZEiBAgAABAgQIEOilQFFPai8bZFsECBAYawL33X9/Wr3htrRz9+666VMmT05nLzk9zTruuLG2K9pLgACBUSOgJ3XUHAoNIUBgrApsuH1rI6DGPhy899508/p16f4qvCoECBAgcHQCQurRuXkVAQIEGgJ37bq7cT/fiaC6e9++vOgnAQIECLQpUHS6/8Kly9pcreoECBDoH4EIpIOVVo8PVtdjBAgQ6BeB0lxZFFJnTJ/eL272kwABAgQIECBAoIsCpbnS6f4uHgSrJkCAAAECBAgQODoBIfXo3LyKAAECBAgQIECgiwJFIfXqVTeluCkECBAgQIAAAQIEOhEozZVFY1IN/u/kUHgtAQIECBAgQIBAFijNlUU9qXmlfhIgQIAAAQIECBDohYCQ2gtl2yBAgAABAgQIEGhLQEhti0tlAgQIECBAgACBXggIqb1Qtg0CBAgQIECAAIG2BIounHroOee2tVKVCRAgQIAAAQIECAwmUJori0LqlMlF1QZrh8cIECBAgAABAgQINARKc6XT/Q0ydwgQIECAAAECBEaLgJA6Wo6EdhAgQIAAAQIECDQEikLqlTesSHFTCBAgQIAAAQIECHQiUJori0JqJw3xWgIECBAgQIAAAQLtCgip7YqpT4AAAQIECBAg0HUBIbXrxDZAgAABAgQIECDQroCQ2q6Y+gQIECBAgAABAl0XEFK7TmwDBAgQIECAAAEC7QoUzdJ/2fkXtrte9QkQIECAAAECBAg8SKA0V+pJfRCdBwgQIECAAAECBI61gJB6rI+A7RMgQIAAAQIECDxIoCikHrz33hQ3hQABAgQIECBAgEAnAqW5siikXr3qphQ3hQABAgQIECBAgEAnAqW5siikdtIQryVAgAABAgQIECDQroCQ2q6Y+gQIECBAgAABAl0XEFK7TmwDBAgQIECAAAEC7QoIqe2KqU+AAAECBAgQINB1gaLJ/KdMLqrW9cbaAAECBAgQIECAwNgWKM2VRenzoeecO7Y1tJ4AAQItBHbv25t27d2bZkybnubMmtWiVm8f3n/PgbRj9+40teogmDv7+DRxwoTeNsDWCBAg0EWB0lxZFFK72E6rJkCAwDETWLdlc9p65/bG9ufMmp3OWXJamnAMQ+EdO+5KazdvSocOHarbNX3q1HTeGUtTac9DY2fcIUCAwBgXMCZ1jB9AzSdA4OgE7tp19xEBNdayc/eudMvG9Ue3whF41Y5du9KtmzY2Amqscv8999ShdQRWbxUECBAYUwJFIXXv/v0pbgoBAgTGi8Dde/YMuit33n132nD71kGf6+aD8Rm7esPgAfnuPbu7uWnrJkCAQE8FSnNlUUhdsWZ1iptCgACB8SIwZdKklruyadsdafvOHS2fH+kn4isCV962Nt1/6P5BV+1U/6AsHiRAYIwKlObKopA6Rg00mwABAi0FTjrhxDR5iKC6pjrtHhdVdbvcf//9dUCNoNqqLJx3UqunPE6AAIFxKyCkjttDa8cIEBhKIHonzznt9JYXScWFS6tuW5cOHLxnqNV0/NzN628bcjjVSXNPSCedcELH27ECAgQIjDUBIXWsHTHtJUBgxARmHTcjLT11Ucv13XvffWnlurUpfnaj3FbNLrBziPGmc2bOSmecemo3Nm2dBAgQGPUCQuqoP0QaSIBANwXmzZmbTp3f+nR6XF0fPap5SqiRaktMNbWlafqrges9btq0dHZMh1X9pxAgQKAfBYpC6ozp01PcFAIECIxHgcUnL0gnHn98y12LsakxRnWkSvSert20qeXqYqzs8tPOSBMnFn1Et1yPJwgQIDAaBUpzZdFk/hcuXTYa91GbCBAgMGICZy1aUo0/XZP27Ns36Drjav/o3Ryq13XQFw54cN+BAynGoR6q/husTJwwsQ6oU6dMGexpjxEgQGDMC5TmSn+mj/lDbQcIEBgJgfiWqei9nDZlasvVxfypMY/q0ZZ6jGtMNVVd0d+qLFu8JM087rhWT3ucAAECfSMgpPbNobajBAgMJ1CfZj/9jDRpiNPs8Y1UrXpbh1p/zIEac6Hec/Bgy2pLFpyS5s6e3fJ5TxAgQKCfBIpCaoyfGuoK1H4Cs68ECIxvgelTpx6emqrFBUtxAdVwYXMwofg2qaHCbUw1tXDe/MFe6jECBAiMK4HSXFkUUmMKlrgpBAgQ6AeB2TNmDjn1U8lp+2an9dUwgR27djU/dMT94bZ3RGULBAgQGOMCpbmyKKSOcQvNJ0CAQNsCdc/mEFNTDXcBVN5gXHC1ufqa1VYlLsaqv1SgRc9tq9d5nAABAuNdoOjq/vGOYP8IEBh9AnFafVMV7vbs31dfzHTKvHlDXtTUjT1YUk1NdeCeAy0vlhpuKqlde/ekmA+1VclTTQ01BrbVazt5PC7c2rx9W207ferhGQuG+orYTrbltQQIEDhaASH1aOW8jgCBrgrcuPbWFPOT5rKtCnsXnnV2FVR7OzXTcFNTDRVCb7/rztz8B/3Mswn0eqqpCP83rF3T9FWsu6oQvjM95Kxl1QVjkx7UTg8QIEDgWAk43X+s5G2XAIGWAnftuvuIgBoV76t6/zbdcXvL13TriW6FyQi/x2KqqQjVe/fvP4IrZhzYsn37EY9ZIECAwLEWKAqp8f3RcVMIECDQC4F9A0JU3ubeA0eGq/x4t3+O9Gn5GEYw1DdcdXN/Ws0wsO8Y2XZzX62bAIHRKVCaK4tO9y+v5g1UCBAg0CuB+6tT0oOVOFV9rEq+wOmmtWtbfltUSduGuyCrZB2d1Gll2Mq8k215LQECBAYTKM2VRT2pg23AYwQIEOg3gU6niur09f3mbX8JEOhvASG1v4+/vSdAoE2B6Ak95Sgm3R/uSwLabIbqBAgQGPcCRSF1WzXPX9wUAgQIEEjptDa/vrTk61a5EiBAoF8ESnNlUUhds3FDiptCgAABAocFli1ekmZMnz4sR54dYNqUqcPWVYEAAQL9IFCaK4tCaj+A2UcCBAi0IzBxwsS0/LQz0nDznB6rqaba2Rd1CRAgMBoFhNTReFS0iQCBMSEwZfLkOqhOnDj4R+niYzjV1JgA1EgCBAgMITD4J+sQL/AUAQIECPxIIKamOnvxaSlO6zeXuMDq1PknNT/kPgECBAi0IVA0T2ob61OVAAECfScwZ9asdMGZZ6X4pqxJkybVX34S4VUhQIAAgaMXKAqp8+fMPfoteCUBAgT6QCAuoiq5kKoPKOwiAQIEhhQozZVFIXXposVDbsyTBAgQIECAAAECBEoESnOlMaklmuoQIECAAAECBAj0VEBI7Sm3jREgQIAAAQIECJQIFIXUzdu3pbgpBAgQIECAAAECBDoRKM2VRWNS12/dUrdl4VF8X3UnO+G1BAgQIECAAAEC40ugNFcW9aSOLxp7Q4AAAQIECBAgMNoFhNTRfoS0jwABAgQIECDQhwJCah8edLtMgAABAgQIEBjtAkLqaD9C2keAAAECBAgQ6EOBogunXDDVh+8Mu0yAAAECBAgQ6IJAaa4sCqlLFpzShSZaJQECBAgQIECAQL8JlObKopDab3j2lwCB0Smwd//+dOUNK0Zn47SKAAECBEZUwJjUEeW0MgIECBAgQIAAgZEQKAqpMelqnnh1JDZqHQQIECBAgAABAv0pUJori0Jq6ddX9Se1vSZAYKQFpkw2EmmkTYdb39TJU4ar4nkCBAiMiEBpriwKqSPSIishQIBAocDc2bPThAkTCmurNhIC8+bMHYnVWAcBAgRGTEBIHTFKKyJAYKQEpk2Zms5atCRNnOgjaqRMW60n/hg4c+GiNHvGjFZVPE6AAIFjIuCc2jFht1ECBIYTOPH449OJx58/XDXPEyBAgMA4FdBNMU4PrN0iQIAAAQIECIxlgaKe1NJJV8cyhLYTIECAAAECBAh0X6A0V07YuH3nofXb7+x+i2yBAAECBAgQIECAQKGA0/2FUKoRIECAAAECBAj0TkBI7Z21LREgQIAAAQIECBQKFIXUNRs3pLgpBAgQIECAAAECBDoRKM2VRSF1284dKW4KAQIECBAgQIAAgU4ESnNlUUjtpCFeS4AAAQIECBAgQKBdASG1XTH1CRAgQIAAAQIEui4gpHad2AYIECBAgAABAgTaFRBS2xVTnwABAgQIECBAoOsCRd84tXTR4q43xAYIECBAgAABAgTGv0BpriwKqfPnzB3/YvaQAAECBAgQIECg6wKludLp/q4fChsgQIAAAQIECBBoV0BIbVdMfQIECBAgQIAAga4LFIXUlevWprgpBAgQIECAAAECBDoRKM2VRWNSd+7Z3UlbvJYAAQIECBAgQIBALVCaK4t6UpkSIECAAAECBAgQ6KWAkNpLbdsiQIAAAQIECBAoEhBSi5hUIkCAAAECBAgQ6KWAkNpLbdsiQIAAAQIECBAoEii6cGr56WcUrUwlAgQIECBAgAABAkMJlObKopA6Z+asobblOQIECBAgQIAAAQJFAqW50un+Ik6VCBAgQIAAAQIEeikgpPZS27YIECBAgAABAgSKBIpC6oo1q1PcFAIECBAgQIAAAQKdCJTmyqIxqXv37++kLV5LgAABAgQIECBAoBYozZVFPalMCRAgQIAAAQIECPRSQEjtpbZtESBAgAABAgQIFAkIqUVMKhEgQIAAAQIECPRSQEjtpbZtESBAgAABAgQIFAkUXTh14dJlRStTiQABAgQIECBAgMBQAqW5siikzpg+fahteY4AAQIECBAgQIBAkUBprnS6v4hTJQIECBAgQIAAgV4KCKm91LYtAgQIECBAgACBIoGikHr1qptS3BQCBAgQIECAAAECnQiU5sqiMakH7723k7Z4LQECBAgQIECAAIFaoDRXFvWkMiVAgAABAgQIECDQSwEhtZfatkWAAAECBAgQIFAkIKQWMalEgAABAgQIECDQSwEhtZfatkWAAAECBAgQIFAkMGHj9p2H1m+/c8jKeYDrlMlF11kNuS5PEiBAgAABAgQI9K9Aaa4sSp3Caf++kez5sRO49qabU5qQ0oJ5J6YF8+cdu4aMsS3fctuG9O2rr61bPXPGjHTR8mXprNMWN/Ziy7bt6bqVq+vlh198YTp+1szGc+4QIECAQPcFSnNlUUjtfnNtgUD/CET4/NI3v5u2bN9e7/TFy89OP/HQi44IUvHEq97+rvr55zzt59Jzq5syvMA7P/DR2nZgzWbDG2+5NUW9KH91xavHdEh96otenk6u/oj5uzf/0cBdPqbLm2/fljZuvT1d+pDzj6od7/i7j6Yvf+u76W/f9Np0xqJTj2odXkSAwNgXEFLH/jG0B2NEYPfefenVVfCMnr7mEqH1o5/+z/SMxz8uvejXntn8lPttCHzyS19pBNSZxx1Xh/6w3rNvX4o/BJTeCbzt/R9O8cfA+//kdem0U0+pNxzHYfeevWnu8bPTtKlTe9cYWyJAYMwKFIXUK29YUe/gZedfOGZ3VMMJHGuBV73tL9Oa9RvrZixdsihdfO7h4PTNH1ybbq/GhUfIWjD/xDqsHuu2jsXtf6tyjBI9i+95wx+kWTOOq5cjqBouUVP07J9f+bnHVyF1bTp1wUmNbX76y19LH/7kf6QrXvw76VGXXNx43B0CBPpPoDRXFoXU/uOzxwRGVuCL3/xOI6A+/lEPT698wXMbG3jO056ScoB978f/fURCavTa5pDW2FCLO92q22JzRQ+306a8wtxDfUo1frd535vHo+a6fnZXIIavxE0hQIBAJwJCaid6XkugUOCTX/xKXTNOQ7/o137piFdFoHrGEx6X/uwDH6sfj9P/Fz3QyxoP7Nm7N73hr9+Xck9hPBZjVGOcZXOJYPe3VciNQJxLrOdFv/rMB413jedjiMGnqt7beF2UCHNPf/xPpSc86hH1cv4nno960dOb69ZtroYnlLThkZdclF7x/OceERzzupt/xro/VrXpS1X7h9tO8+tiP+J1uVy78ub0xOe/uLpg6uzaqZ2xvYOZvOL5zxnUL2+v+edtm7ekq1bcmK6pjuHc2bPS+WcvTY9/5MPThAnVFXAPlJvWrE1f+c730+MecWm648670v9+/+p02sJTHmSZ6+ef//3t76UfXH9T2rd/fzr7jNPqY5Wfyz+HW/eBew7WYz1X3rou3bljZ1p40vz05J98VIqe/YElLjD7/Ne+Wf1xtanu4X/0w36sOlU/q3rsW+lnHnlZOqdqQ6vyH1/537R+89b0W898aj285evf+0GKbUb5wte/neI9/pSfenRjKECr9cTjV157ffrOD6+rzzbE0IFfetLPpBPnzHnQSzZsub2ud92q1enkE09IcVHcwDGxcXzjSDzlcY9Jn/iv/063btiULn/2L6dFD/T47ty1O333mhXpe9ddXw9JOH/Z0vSkx/xEmjjRbI0PAvcAgR4ICKk9QLYJAvk0fwS25l6+LBNjJiNURYkLqi5KPxpD+ckvfbV+vPmf+J/tydXQgBwot1aB4nf/+K2NcJfrRhiIx1/xguc06sZzl7/+LY2e3Vw3eiIjKF930+q6fn78vR//t8ZYz/xYhMhow9ZtdzbqRhte9fZ3V48dviAs141wfe1NV6S/+ePfH/K0e+5Nzq+Ln3k7u6ugPjDcN9cbifuvetu7UgTc5hIm4ff6F78wxbEbqkTYfPN7PpimTpmczly8KK1csy59/uvfqu1e97svSHNmzapfftumLelTX/5qHdpi3GaUh11wXv2z1T/5grC4IjZOoX/32hVV2Lwy3XvvfUe8ZKh1b75jW3rDX72vDmYxJGLG9OlVGLshfbYKlK990W+lx/74JY11xan6K971nnT37j1p/glzq/fKhhTB84IqtK24+ZY6oA4VUuOYX3X9jenZT31S2nbXjnT1jStTBMAot27YmLZW7/HHXPrQxvZa3YnhAbGu6B3fXoXqaG+E9Q++5YoUf/DlErM5vOGv358OHTqUTl+0sA6an/mfr6dnPfln0wt++em5WvriN76d9u7bn7565VV1iI4nfn337jqkhs9L/+SddTsXnjy/CvF318fuK9/9fnrzy3+3Oq5TGutxhwCB3ggIqb1xtpU+FsinoYOg1djIePwdr3lpS6XosYwgG6EtAktchPKpKrzmkPrOKlzm3se4+CoCbwTI91QBM8a7Rg/rIx96cR2QI1zm0BxDD+KCrT0PhM4IadETG49HL2wEzpiJIEquG/ejDbGOqPucpz253q/3VNvIATXa8MjqdO811foi+Oaw2TzMIdaTS/TS5jbFvj6h2n7e13g8gnqrkBp1wyb3mEav4OVVb/XMqoc69qukxPZzQI39jJ7qW27b2PB77z9VfkOE1OtvXpPe9r4Pp7NPX5Le9LLL64uDYrv/8JnPp4986nPpA//66fR/f+vXj2jKqqpnMR6L0+LR1lYlQlocgwuqXtk3vuRFadbMGenAPfekP/vgx9KGLVurYPbgVw627g994rN1QH3Vbz83/WzVuxsl6r2kCmb/7x/+tRFSI+i9+yMfT7uqi5xe/du/UfeaRt3w+aO/fE/cbav85GWXpLj942e/UI9JvfzZv1Q8JnXVrbel973pD+vgGeHyz//+H+qe5+iNfeYTf7pux6q1t6W3/O2H0vIzT689I6TG7ALxHv2Xz385PaYK382BOt5X0RP9+y/8zXRm9V6ZWPVyxwVdr/uLv6lD7p++4v+kS84/t37vfKgKyZ+twm7cnvnEn2lrv1UmQKBzAecwOje0BgJDCpQGpVYryaEpQmMEpSc8+nDAyOE3gmFzwIrQGafuo+4f/94L69XG/5gjiEX54jcODweI3rQIjVE31h0hOfdORZCNEkE3lwi5UTduEQJziTrRhjw3aYTMaEME7wjRz6iGEETJYbdeGPBPhLQI1vkUfbx24HaiV3iwEnWj/bnMirlRq+V4fWn5xAPDMWL7YRLrDL+8n7Vxi+3HNj77la+nmJz6Zb/57EZAjcd//alPTueddWZtHsGpufxy1cv3xOpUcszTOmmI08mf+OL/1C97yW/8ah1QYyGujn/17zwvtZprcLB1x+n6177o+Y2AGus5pwp2DzlnWdpx967qj5m74qH6vRR/GDzixx7SCKjxeNg8q7ogqpcljkWEzigzjptee8X99dWwilw+899fq0N7vO9y3egJ/cVqCE2U//zqN3LV+mfYve7yF6Rl1R8U4R5DMb71w2urwH97fWo/erXjsfhj4DnV8YtT/f/xlSPXccQKLRAg0DWBop5UV/V3zd+KCQwrEIGpucQE9c0leitzyT2reTmCWvQsRuiIkLf1UdvrntV4/gmPPnLs6eHHHl73WubQG7MN5BLjYiO4XbT8nKqX9CHpvz741/mpI8bL3l6F1uYxolubvtEuwt7A/am3W4XZaHu0MV6b96nTgN9o4BB3IsBHb3NdqgGLzW2P53IZOAwjPx4/b6pOj0cwGiwYx2ntOK1/S3XKPOrkMm/ug8dV5ueaf67btLmesWDgfKGTJ02qAtSEKlA11z58f7B159PrEUZvq9YZp8/vve++OuDFq/bfc6B+cQwZiPLwiy6ofzb/Mz1PHTXYRpsrjtD9E+bMPmJNpy1cUC9HL28uMQ43/riKwN78h8y0adPqgLnx9jty1frntKlTGmE/PxHHL8riUxYcsY54LMYLRyi+//77jU0NEIXACAiU5sqikDoC7bEKAn0rsLSNHr2jQWru7WwOlXld0bOYy3B1BwbgCJQxHjMPMYhTz3GLcarRW5kvyooAlkvzhVv5sfwztj9YSI3nYxtD9bbmdYz0zzXVuNNcIuQ0B538ePxstmt+PIJsjGds7s1tfv6k6iKeKJu2HhmWmuu0uh+n9WNc6KIFJ7eqUvx4BLs///uPVT3e19U9hdGDG72KO3ftOryOB4YN3HHnjnp53gllIbq4AV2ouO/AgboHNIYovOYd7x50C9se2J9Bn3zgwZvXra/vxXCCVuXOnXfX43NbPe9xAgRGXkBIHXlTayRwhEDzhVLRkzhYyRfoxHNx2rKdb5hqDqYRmA73NQ22lRgT+6Oe0dJeyug9/ci5b0zfuvqaOqBGiIsxsfEzvpzgw29/4xHrjeEJrYJo8/abWxhDEXJAzd++FeNMI/zGtFzdLM1tqoccNA0daN5utGewctz0afVp4/0H7hns6Wps7eFev8F6Nwd9QdODcbFO9BBuqUJwp+XN7/lA/XWwv/fcX6lO+V9WB9RYZ4yl/Z/vfK/+Ct5Yzl8Tu/n2wd+rUWe0lCmTJteBe0nVw/qy5z170GZNqS5kG65MrYyjvPWVv9fyAqk51WwNCgECvRUY/re3ak+MtYrSavxT/aR/CBBoKRDBK8ZsRhCLC4Cag2u8KJ9ej/txwVE75ZR5PxoOEKGu+ZRzhNa4MjtKjPtsDo95TGvztnIvYh6bGj2mt1RDBWIbzTMExJjVOC0e64/w2tyG6FEcOOwg6g3c5+btxpRNUfI42aHqNr9uJO43m0RgHfgHwnBtj3GNcRo/LmKKns+B36a0+oFeuuVLz2i7uTE28pST5tVXoq/duOmovyI0Lgz64Y2r0o9XX1MaUz8NVXJojyvyn/azPzlU1WP+3OTJkw5f+X/XzvrCqVg+mhIhN2YtiHGvcQGWQoBAdwVKc2XRhVNXr7opxU0hQODoBH6xupAolxjbGcEnl+hdzeMgIxw2h8xcZ6ifEQoj3EX52Kc/f8S6I2TmbUWPaJTo6YwSgbk5qMZp+hyWc92oF8E1nmuuO7BXMYY05GAbbWjuMY7XPe/VVzT2MdY5sORe3eb5RKPdH/3M4Qu4BtYf6eXoQY0SJjmox3K0IXqLBx6zeK65xPjeuPr83//r8EVO+blwiO+gP3neCY25OPNzpT8fe+klddVvXnXNES+JP3ruOXi4A+GIJwZZuOfeg/WV6zE2+b5qbGUuMf405nWNct8D01ldcsG59bG8rhrrHOE2l3sOHkzfGNCG/FzJzwiAUWKe15Esj/3xh9Y9+//8n188YrUxBOCfPvfFegqsI54YZOHRD0yHFTMgNPtE1ehlXrHqliNeFetWCBA4eoHSXFnUk3r0zfBKAgRCIIJkhMMcgp754lc1xjA2h6J8NX67anEVegSpCEURCCM0RvDLwTJCWO7djJ7CGFcap+xjDtA8ljK3I8Jmnu4prtLP87S2qhuBNXo+40rs3Iaom8fi5vV+8wfXVBPQP27QHtUIxRGQm9sfY0VzwA6P5vvt+gxX/5XVPLKXv/6ttUlMZZVNchu23LG9btusFuOLf/EJP13P3xnzesY+XFJdIR4T9f/bF76cJlUXOMXUUc0BfLj2ND8fV6l/7mvfqOelvaOac3R5NX1SjKGMeVKjlOSlmPw+prCKqbJiPtpH/NhFaWPV8xvHJLtuqoYUxJRMcfxjdoAIbC998zvTkx/7qHSo+u/r37u6nrKqeKN1xR/9k+eCjSAfXypw8bnnVBcqdT7W9tm/8KS6bTHV1/pqnx5+0YVpRzUn6zev+mG6fvWaeijK4x5+6Y8aMsi9Sy88L0WdmBP1FW/5i/TE6o+OSVWv7NXXr6xD6i/89GPTheecVb8y/vCLuVrf/qqX1F6DrM5DBAiMkEBRT+oIbctqCPS1QIS4GG+aS4S3HOCiJzQuUMrhKNcp/RkhL07HR8CI0BHrbQ6or39gKqpYX5zejummcu/rwHbEc/l0e9TN643XNteNbeXpmuK5aEPMj9rchrx/McPAO17zssZ6o35ziTCce3hz++Nn7uGMuteuXNX8khG9H/sZfyAMNIk2xP6EyVA93DEU6l2ve2U9Y0JMFP+n7/1gFSo/V8/H+aaXXt5RmImpkGLdMdfnF6ovB/jLD3+8+iPjmmoKqt9IpzbNFjAcyB9W0y5dVl2xH0H1A//6qSqQXZV+vvrmpec+/fB7Ml/VH+v5tZ9/Yv1tUXGx0Pv/5ZPpg//2mTRvzvH15Pjx/IRqVoF2S5xSj+1tqq62f/dH/qnx/mx3PQPrx/CKv7ri1fX7J/74euv7PpTe98+fSHurHtsrXvw7dfgc+JrBll/zwufVE/9v3Hp7bRzz+8asDM97xs+nFz/nWY2X7NqzL8X44wNVz7JCgEB3BSZs3L7z0Po8/UqLbV15w4r6mdIpA1qsxsMECFQC0dMWE8XnK+KjJzJ6HXMwzEg54MUYweZxk/H6fKX5wFA72LoH1snrjwAWPYV5uqfYTu5tzXXyz6gbY0/zdqNu/nKAXCf/bG5D1DtryeG5VfPzQ/2MYP2t6jR2lHCJtmeHGFM7VFAcrF7ex1hfdoyv+7xu5ep4qP7qzHyhUCzn+mESxyPa3sov6g9W4lRwbOOkE05IRztGcrD1xmNx+n1/Ne41vgXqaEv0oO+4e3f1lajzhp1SKfYlZi6YN3duNdZ2Snpj9a1O0fv6Z3/w8nTh2Yd7FtttRwyLCOeTTpx71L3LrbZZ21e93idUgXr6tKmtqg37eEzPFWON5x5/5BRY+YUx9ME3UGUNPwm0L1CaK4XU9m29ggABAuNa4Ns/vK7+etd8ij52NgLyr778tfXcrP/453/6oD+qxjWInSNAYEQFSkNq0ZhUV/WP6LGxMgIECIxqgc9/7Zvpe9fdUE9Vdf6ypfWp+a9VwxjiitzfftbTBdRRffQ0jsDoFyjNlUU9qaN/d7WQAAECBEZKIL5dKS5E+tqVP6jHkMZ6Y4aC5z7tKfXYz6O9CGyk2mc9BAj0h4CQ2h/H2V4SIEDgqATiG68mTZpYX0B2VCvwIgIECBylQNHp/qNct5cRIECAwBgXaL6wbIzviuYTIDDGBIqmoIqpPOKmECBAgAABAgQIEOhEoDRXFoXUFWtWp7gpBAgQIECAAAECBDoRKM2VRSG1k4Z4LQECBAgQIECAAIF2BYTUdsXUJ0CAAAECBAgQ6LqAkNp1YhsgQIAAAQIECBBoV0BIbVdMfQIECBAgQIAAga4LFE1BNWP69K43xAYIECBAgAABAgTGv0BprjSZ//h/L9hDAgQIECBAgMCYE3C6f8wdMg0mQIAAAQIECIx/ASF1/B9je0iAAAECBAgQGHMCRSF1557dKW4KAQIECBAgQIAAgU4ESnNlUUhduW5tiptCgAABAgQIECBAoBOB0lxZFFI7aYjXEiBAgAABAgQIEGhXQEhtV0x9AgQIECBAgACBrgsIqV0ntgECBAgQIECAAIF2BYTUdsXUJ0CAAAECBAgQ6LpA0TdOzZk5q+sNsQECBAgQIECAAIHxL1CaK33j1Ph/L9hDAgQIECBAgMCYE3C6f8wdMg0mQIAAAQIECIx/ASF1/B9je0iAAAECBAgQGHMCRSF1284dKW4KAQIECBAgQIAAgU4ESnNl0YVTazZuqNsyf87cTtrktQQIECBAgAABAn0uUJori3pS+9zS7hMgQIAAAQIECPRYQEjtMbjNESBAgAABAgQIDC8gpA5vpAYBAgQIECBAgECPBYTUHoPbHAECBAgQIECAwPACRRdOuWBqeEg1CBAgQIAAAQIEhhcozZW+cWp4SzUIECBAgAABAgR6LOB0f4/BbY4AAQIECBAgQGB4ASF1eCM1CBAgQIAAAQIEeixQFFI3b9+W4qYQIECAAAECBAgQ6ESgNFcWXTi1fuuWui0L583vpE1eS4AAAQIECBAg0OcCpbmyqCe1zy3tPgECBAgQIECAQI8FhNQeg9scAQIECBAgQIDA8AJC6vBGahAgQIAAAQIECPRYQEjtMbjNESBAgAABAgQIDC9QdOGUC6aGh1SDAAECBAgQIEBgeIHSXOkbp4a3VIMAAQIECBAgQKDHAk739xjc5ggQIECAAAECBIYXEFKHN1KDAAECBAgQIECgxwJFITUmXc0Tr/a4fTZHgAABAgQIECAwjgRKc2VRSC39+qpx5GdXCBAgQIAAAQIEuiBQmiuLQmoX2meVBAgQIECAAAECBFoKCKktaTxBgAABAgQIECBwrASE1GMlb7sECBAgQIAAAQItBYTUljSeIECAAAECBAgQOFYCRd84tWTBKceqfbZLgAABAgQIECAwjgRKc6VvnBpHB92uECBAgAABAgTGi4DT/ePlSNoPAgQIECBAgMA4EhBSx9HBtCsECBAgQIAAgfEiUBRS12zckOKmECBAgAABAgQIEOhEoDRXFoXUbTt3pLgpBAgQIECAAAECBDoRKM2VRSG1k4Z4LQECBAgQIECAAIF2BYTUdsXUJ0CAAAECBAgQ6LqAkNp1YhsgQIAAAQIECBBoV0BIbVdMfQIECBAgQIAAga4LFH3j1NJFi7veEBsgQIAAAQIECBAY/wKlubIopM6fM3f8i9lDAgQIECBAgACBrguU5kqn+7t+KGyAAAECBAgQIECgXQEhtV0x9QkQIECAAAECBLouUBRSV65bm+KmECBAgAABAgQIEOhEoDRXFo1J3blndydt8VoCBAgQIECAAAECtUBprizqSWVKgAABAgQIECBAoJcCQmovtW2LAAECBAgQIECgSEBILWJSiQABAgQIECBAoJcCQmovtW2LAAECBAgQIECgSKDowqnlp59RtDKVCBAgQIAAAQIECAwlUJori0LqnJmzhtqW5wgQIECAAAECBAgUCZTmSqf7izhVIkCAAAECBAgQ6KWAkNpLbdsiQIAAAQIECBAoEigKqSvWrE5xUwgQIECAAAECBAh0IlCaK4vGpO7dv7+TtngtAQIECBAgQIAAgVqgNFcW9aQyJUCAAAECBAgQINBLASG1l9q2RYAAAQIECBAgUCQgpBYxqUSAAAECBAgQINBLASG1l9q2RYAAAQIECBAgUCRQdOHUhUuXFa1MJQIECBAgQIAAAQJDCZTmyqKQOmP69KG25TkCBAgQIECAAAECRQKludLp/iJOlQgQIECAAAECBHopIKT2Utu2CBAgQIAAAQIEigSKQurVq25KcVMIECBAgAABAgQIdCJQmiuLxqQevPfeTtritQQIECBAgAABAgRqgdJcWdSTypQAAQIECBAgQIBALwWE1F5q2xYBAgQIECBAgECRgJBaxKQSAQIECBAgQIBALwWE1F5q2xYBAgQIECBAgECRwISN23ceWr/9ziEr5wGuUyYXXWc15Lo8SYAAAQIECBAg0L8CpbmyKHUKp/37RrLnBAgQIECAAIGRFCjNlU73j6S6dREgQIAAAQIECIyIgJA6IoxWQoAAAQIECBAgMJICRSH1yhtWpLgpBAgQIECAAAECBDoRKM2VRSG1k4Z4LQECBAgQIECAAIF2BYTUdsXUJ0CAAAECBAgQ6LqAkNp1YhsgQIAAAQIECBBoV6BoCqq80oHjUi87/8L8VLr/0KH0/RuvbyznOxMnTEiXnndBXkz33XdfumrljY3lfGfSpEnpYcvPy4sp5tC6etVNjeV8J6YteOg55+bFdODgwXTNzSsby/nOtClT0sVnL8+Laf89B9K1q29uLOc706dOSxctOzsvpr3796cVa1Y3lvOdGdOnpwuXLsuLac++fen6W29pLOc7M487Ll1w5ll5Me3auyfduPbWxnK+M3vGzHTeGWfmxbRzz+60ct3axnK+M2fmrLT89DPyYtqxa1datX5dYznfmTt7djpnyel5Md159860esP6xnK+c+Lxc9KyxUvyYtq2c0das3FDYznfmT9nblq6aHFeTHfcdVe6dfPGxnK+c9IJJ6QzFy7Ki2nrndvTui2bG8v5zoIT56XTT1mYF9Pm7dvS+q1bGsv5zsJ589OSBafkxbRp2x1pw+1bG8v5zqnzT0qLT16QF+s6UXdgiTpRN5fYZmx7YIltxrZziX2IfRlYYh9iX3IJk7AZWMIkbHIJ47AeWMI4rHOJYxbHbmCJYxbHLpd4D8R7YWCJ90C8F3KJ91S8twaWeE/FeyuXeI/Ge3VgifdovFdzifd8vPcHlnjPx3s/l/gdit+lgSV+h+J3KZf4nYzfzYElfifjdzOX+B2P3/WBJX7H43c9l/jMyPPv5cfiZ3xmNE95Ep9B8Vk0sMRnUHwW5RKfafHZNrDEZ1p8tuUy8LMxP+4z0mekz0ifkfF54DPy6K5r0pOa/2/iJwECBAgQIECAwKgRKPrGqVHTWg0hQIAAAQIECBDoCwE9qX1xmO0kAQIECBAgQGBsCQipY+t4aS0BAgQIECBAoC8EhNS+OMx2kgABAgQIECAwtgSE1LF1vLSWAAECBAgQINAXAkJqXxxmO0mAAAECBAgQGFsCQurYOl5aS4AAAQIECBDoCwEhtS8Os50kQIAAAQIECIwtgXqe1LHVZK0lQIAAAQIECBAY7wL/H15u2BkR2RlpAAAAAElFTkSuQmCC');     position: absolute;     left: 0px;     top: 0px;     width: 100%;     height: 100%;     z-index: 100000000;     opacity: 1;     background-color: #e5edf1;     background-repeat: no-repeat;     background-position: center; } .form-wrap {     width: 100%;     height: 100%;     background-color: #e5edf1;     display: block;     position: absolute;     z-index: 1000000000; } .wrapper-drag-n-drop {     width: 100%;     max-width: 680px; /* 800 */     text-align: center;     margin: 0 auto;     background-color: #e5edf1;     padding: 86px 0px; } .box {     font-size: 1.25rem; /* 20 */     background-color: #c8dadf;     position: relative;     padding: 100px 20px; } .box.has-advanced-upload{     outline: 2px dashed #92b0b3;     outline-offset: -10px;     -webkit-transition: outline-offset .15s ease-in-out, background-color .15s linear;     transition: outline-offset .15s ease-in-out, background-color .15s linear; } .box.is-dragover{     outline-offset: -20px;     outline-color: #c8dadf;     background-color: #fff; } .box__dragndrop, .box__icon {     display: none; } .box.has-advanced-upload .box__dragndrop{     display: inline; } .box.has-advanced-upload .box__icon{     width: 100%;     height: 80px;     fill: #92b0b3;     display: block;     margin-bottom: 40px; } .box.is-uploading .box__input, .box.is-success .box__input, .box.is-error .box__input {     visibility: hidden; } .box__uploading, .box__success, .box__error {     display: none; } .box.is-uploading .box__uploading, .box.is-success .box__success, .box.is-error .box__error {     display: block;     position: absolute;     top: 50%;     right: 0;     left: 0;     -webkit-transform: translateY( -50% );     transform: translateY( -50% ); } .box__uploading {     font-style: italic; } .box__success {     -webkit-animation: appear-from-inside .25s ease-in-out;     animation: appear-from-inside .25s ease-in-out; } @-webkit-keyframes appear-from-inside {     from\t{ -webkit-transform: translateY( -50% ) scale( 0 ); }     75%\t\t{ -webkit-transform: translateY( -50% ) scale( 1.1 ); }     to\t\t{ -webkit-transform: translateY( -50% ) scale( 1 ); } } @keyframes appear-from-inside {     from\t{ -webkit-transform: translateY( -50% ) scale( 0 ); transform: translateY( -50% ) scale( 0 ); }     75%\t\t{ -webkit-transform: translateY( -50% ) scale( 1.1 ); transform: translateY( -50% ) scale( 1.1 ); }     to\t\t{ -webkit-transform: translateY( -50% ) scale( 1 ); transform: translateY( -50% ) scale( 1 ); } } .box__restart {     font-weight: 700; } .box__restart:focus, .box__restart:hover {     color: #39bfd3; } .js .box__file {     width: 0.1px;     height: 0.1px;     opacity: 0;     overflow: hidden;     position: absolute;     z-index: -1; } .js .box__file + label {     max-width: 80%;     text-overflow: ellipsis;     white-space: nowrap;     cursor: pointer;     display: inline-block;     overflow: hidden; } .js .box__file + label:hover strong, .box__file:focus + label strong, .box__file.has-focus + label strong {     color: #39bfd3; } .js .box__file:focus + label, .js .box__file.has-focus + label {     outline: 1px dotted #000;     outline: -webkit-focus-ring-color auto 5px; } .js .box__file + label * {     /* pointer-events: none; */ /* in case of FastClick lib use */ } .no-js .box__file + label {     display: none; } .no-js .box__button {     display: block; } .box__button {     font-weight: 700;     color: #e5edf1;     background-color: #39bfd3;     display: none;     padding: 8px 16px;     margin: 40px auto 0; } .box__button:hover, .box__button:focus {     background-color: #0f3c4b; }")
    }, {
        "browserify-postcss": 1
    }],
    85: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;

        function _slicedToArray(arr, i) {
            return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest()
        }

        function _nonIterableRest() {
            throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }

        function _unsupportedIterableToArray(o, minLen) {
            if (!o) return;
            if (typeof o === "string") return _arrayLikeToArray(o, minLen);
            var n = Object.prototype.toString.call(o).slice(8, -1);
            if (n === "Object" && o.constructor) n = o.constructor.name;
            if (n === "Map" || n === "Set") return Array.from(o);
            if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen)
        }

        function _arrayLikeToArray(arr, len) {
            if (len == null || len > arr.length) len = arr.length;
            for (var i = 0, arr2 = new Array(len); i < len; i++) {
                arr2[i] = arr[i]
            }
            return arr2
        }

        function _iterableToArrayLimit(arr, i) {
            var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"];
            if (_i == null) return;
            var _arr = [];
            var _n = true;
            var _d = false;
            var _s, _e;
            try {
                for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {
                    _arr.push(_s.value);
                    if (i && _arr.length === i) break
                }
            } catch (err) {
                _d = true;
                _e = err
            } finally {
                try {
                    if (!_n && _i["return"] != null) _i["return"]()
                } finally {
                    if (_d) throw _e
                }
            }
            return _arr
        }

        function _arrayWithHoles(arr) {
            if (Array.isArray(arr)) return arr
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _defineProperty(obj, key, value) {
            if (key in obj) {
                Object.defineProperty(obj, key, {
                    value: value,
                    enumerable: true,
                    configurable: true,
                    writable: true
                })
            } else {
                obj[key] = value
            }
            return obj
        }
        var AnimationSequence = function() {
            function AnimationSequence(tween) {
                _classCallCheck(this, AnimationSequence);
                this.tween = tween;
                this.tween.paused = true;
                this.tween.wait(AnimationSequence.BUFFER_SIZE);
                this.currentAnimation = null;
                this.animations = {};
                this.transitions = []
            }
            _createClass(AnimationSequence, [{
                key: "addAnimation",
                value: function addAnimation(name, createFunc) {
                    this.animations[name] = {
                        name: name,
                        createFunc: createFunc,
                        startTime: null,
                        endTime: null,
                        duration: null,
                        inited: false
                    }
                }
            }, {
                key: "play",
                value: function play(name) {
                    var advanceExtraTime = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
                    var animationInfo = this.animations[name];
                    if (!animationInfo.inited) {
                        this._initAnimation(name)
                    }
                    var tween = this.tween;
                    var extraTime = 0;
                    if (advanceExtraTime && this.currentAnimation !== null) {
                        extraTime = tween.position - this.animations[this.currentAnimation].endTime
                    }
                    this.currentAnimation = name;
                    tween.position = tween.rawPosition = animationInfo.startTime - 1;
                    tween.paused = false;
                    tween.advance(extraTime + 1)
                }
            }, {
                key: "stop",
                value: function stop() {
                    this.tween.paused = true
                }
            }, {
                key: "addTransition",
                value: function addTransition(source, destination) {
                    var guard = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;
                    this.transitions.push([source, destination, guard || function() {
                        return true
                    }])
                }
            }, {
                key: "_initAnimation",
                value: function _initAnimation(name) {
                    var _this = this;
                    var animationInfo = this.animations[name];
                    var tween = this.tween;
                    var actionFunc = animationInfo.createFunc;
                    animationInfo.startTime = tween.duration;
                    actionFunc(this);
                    animationInfo.endTime = tween.duration;
                    animationInfo.duration = animationInfo.endTime - animationInfo.startTime;
                    tween.call(function() {
                        return _this._onAnimationEnd(name)
                    });
                    tween.wait(AnimationSequence.BUFFER_SIZE);
                    animationInfo.inited = true
                }
            }, {
                key: "_onAnimationEnd",
                value: function _onAnimationEnd(name) {
                    var _this2 = this;
                    var transition = this.transitions.find(function(_ref) {
                        var _ref2 = _slicedToArray(_ref, 3),
                            source = _ref2[0],
                            guard = _ref2[2];
                        return source === name && guard(_this2)
                    });
                    if (transition) {
                        this.play(transition[1], true)
                    } else {
                        this.stop()
                    }
                }
            }]);
            return AnimationSequence
        }();
        exports.default = AnimationSequence;
        _defineProperty(AnimationSequence, "BUFFER_SIZE", 1e5)
    }, {}],
    86: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = exports.AssetsHelper = void 0;
        var _app = _interopRequireDefault(require("../app"));
        var _utils = _interopRequireDefault(require("./utils"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _toConsumableArray(arr) {
            return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread()
        }

        function _nonIterableSpread() {
            throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }

        function _unsupportedIterableToArray(o, minLen) {
            if (!o) return;
            if (typeof o === "string") return _arrayLikeToArray(o, minLen);
            var n = Object.prototype.toString.call(o).slice(8, -1);
            if (n === "Object" && o.constructor) n = o.constructor.name;
            if (n === "Map" || n === "Set") return Array.from(o);
            if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen)
        }

        function _iterableToArray(iter) {
            if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter)
        }

        function _arrayWithoutHoles(arr) {
            if (Array.isArray(arr)) return _arrayLikeToArray(arr)
        }

        function _arrayLikeToArray(arr, len) {
            if (len == null || len > arr.length) len = arr.length;
            for (var i = 0, arr2 = new Array(len); i < len; i++) {
                arr2[i] = arr[i]
            }
            return arr2
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _defineProperty(obj, key, value) {
            if (key in obj) {
                Object.defineProperty(obj, key, {
                    value: value,
                    enumerable: true,
                    configurable: true,
                    writable: true
                })
            } else {
                obj[key] = value
            }
            return obj
        }
        var AssetsHelper = function() {
            function AssetsHelper() {
                _classCallCheck(this, AssetsHelper)
            }
            _createClass(AssetsHelper, null, [{
                key: "loadDemand",
                value: function loadDemand(dataName) {
                    var _this = this;
                    var needProgress = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
                    if (this._assetsQueue[dataName]) {
                        if (needProgress && !this._assetsQueue[dataName].needProgress) {
                            this._assetsQueue[dataName].needProgress = needProgress;
                            this._addListeners(this._assetsQueue[dataName].list, needProgress)
                        }
                        return this._assetsQueue[dataName].deferred.promise
                    }
                    var list = _app.default.loader.onDemand.filter(function(item) {
                        var regexp = new RegExp("^".concat(dataName));
                        return regexp.test(item.name)
                    });
                    if (dataName === _app.default.loader.slaveSpineAssetName) {
                        var masterList = _app.default.loader.onDemand.filter(function(item) {
                            var regexp = new RegExp("^".concat(_app.default.loader.masterSpineAssetName));
                            return regexp.test(item.name)
                        });
                        list = list.concat(masterList)
                    }
                    list = list.filter(function(item) {
                        return !_this.isLoaded(item.name)
                    });
                    if (list.length === 0) {
                        return Promise.resolve()
                    }
                    var deferred = _utils.default.deferred();
                    this._assetsQueue[dataName] = {
                        deferred: deferred,
                        needProgress: needProgress,
                        list: list
                    };
                    this._addListeners(list, needProgress);
                    _app.default.loader.assets(list, function() {
                        return _this._onLoaded(dataName, list)
                    }).catch(function(error) {
                        return console.warn("Load on demand error", error)
                    });
                    return deferred.promise
                }
            }, {
                key: "_addToLoadDemandList",
                value: function _addToLoadDemandList(dataName) {
                    var _this2 = this;
                    var needProgress = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
                    var checkAndAddItem = function checkAndAddItem(arr) {
                        if (_this2._list.length === 0) {
                            _this2._list = _this2._list.concat(arr);
                            return
                        }
                        _this2._list = _toConsumableArray(new Set([].concat(_toConsumableArray(_this2._list), _toConsumableArray(arr))))
                    };
                    var asset = this._assetsList[dataName];
                    if (asset) {
                        return
                    }
                    var list = _app.default.loader.onDemand.filter(function(item) {
                        var regexp = new RegExp("^".concat(dataName));
                        return regexp.test(item.name)
                    });
                    checkAndAddItem(list);
                    if (dataName === _app.default.loader.slaveSpineAssetName) {
                        var masterList = _app.default.loader.onDemand.filter(function(item) {
                            var regexp = new RegExp("^".concat(_app.default.loader.masterSpineAssetName));
                            return regexp.test(item.name)
                        });
                        checkAndAddItem(masterList)
                    }
                    var totalSize = list.reduce(function(t, i) {
                        return t + (i.metadata ? i.metadata.size : 0)
                    }, 0);
                    list.forEach(function(el) {
                        el.listIndex = _this2._listIndex;
                        el.packSize = totalSize
                    });
                    var isLoadedLength = list.filter(function(e) {
                        return e.metadata.totalSize !== e.metadata.size
                    }).length;
                    if (isLoadedLength === 0) {
                        this._listIndex++
                    }
                    var deferred = _utils.default.deferred();
                    this._assetsList[dataName] = {
                        deferred: deferred,
                        needProgress: needProgress,
                        list: list
                    }
                }
            }, {
                key: "_startListLoading",
                value: function _startListLoading() {
                    var _this3 = this;
                    this._addListListeners();
                    var startPack = this._list.filter(function(e) {
                        return e.listIndex === _this3._listDownloadIndex
                    });
                    var size = startPack.reduce(function(t, i) {
                        return t + (i.metadata ? i.metadata.size : 0)
                    }, 0);
                    _app.default.loader.assets(startPack, function() {
                        _this3._startPackLoaded = true;
                        _this3._packSize = size;
                        _this3._loadNext()
                    }).catch(function(error) {
                        return console.warn("Load on demand error", error)
                    })
                }
            }, {
                key: "_addListListeners",
                value: function _addListListeners() {
                    var _this4 = this;
                    var totalSize = this._list.reduce(function(t, i) {
                        return t + (i.metadata ? i.metadata.size : 0)
                    }, 0);
                    var currLoaded = 0;
                    this._list.forEach(function(listItem) {
                        _app.default.loader.on("".concat(listItem.name, "progress"), function(item, percentage, loadedSize) {
                            if (percentage === 1 && _this4._listDownloadIndex <= _this4._listIndex) {
                                currLoaded += _this4._list.filter(function(el) {
                                    return el.name === item.name
                                })[0].metadata.size;
                                GR.UI.updateAssetsPreloader(currLoaded / totalSize)
                            } else {
                                GR.UI.updateAssetsPreloader((currLoaded + loadedSize) / totalSize)
                            }
                            if (!_this4._startPackLoaded && currLoaded === totalSize) {
                                _this4._listLoadedComplete = true
                            }
                        })
                    });
                    GR.UI.showAssetsPreloader()
                }
            }, {
                key: "_loadNext",
                value: function _loadNext() {
                    var _this5 = this;
                    this._listDownloadIndex++;
                    if (this._listDownloadIndex >= this._listIndex) {
                        GR.UI.hideAssetsPreloader();
                        this._list.forEach(function(item) {
                            _app.default.loader.off("".concat(item.name, "progress"))
                        });
                        this._assetsList = {};
                        this._listDeferred.resolve();
                        return
                    }
                    var pack = this._list.filter(function(e) {
                        return e.listIndex === _this5._listDownloadIndex
                    });
                    var totalSize = pack.reduce(function(t, i) {
                        return t + (i.metadata ? i.metadata.size : 0)
                    }, 0);
                    _app.default.loader.assets(pack, function() {
                        _this5._packSize = totalSize;
                        _this5._loadNext()
                    }).catch(function(error) {
                        return console.warn("Load on demand error", error)
                    })
                }
            }, {
                key: "loadDemandList",
                value: function loadDemandList(itemsList) {
                    var _this6 = this;
                    var needPreloader = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
                    this._listIndex = 0;
                    this._listDownloadIndex = 0;
                    this._listDeferred = _utils.default.deferred();
                    this._listLoadedComplete = false;
                    this._startPackLoaded = false;
                    itemsList.forEach(function(itemName) {
                        _this6._addToLoadDemandList(itemName, needPreloader)
                    });
                    this._list = this._list.filter(function(el) {
                        return _this6._loadedResources.indexOf(el.name) < 0
                    });
                    if (this._list.length === 0) return Promise.resolve();
                    this._startListLoading();
                    return this._listDeferred.promise
                }
            }, {
                key: "_addListeners",
                value: function _addListeners(list) {
                    var _this7 = this;
                    var needProgress = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
                    var totalSize = list.reduce(function(t, i) {
                        return t + (i.metadata ? i.metadata.size : 0)
                    }, 0);
                    var currLoaded = 0;
                    list.forEach(function(item) {
                        _app.default.loader.on("".concat(item.name, "progress"), function(item, percentage, loadedSize) {
                            if (percentage === 1) {
                                currLoaded += list.filter(function(el) {
                                    return el.name === item.name
                                })[0].metadata.size;
                                needProgress && GR.UI.updateAssetsPreloader(currLoaded / totalSize);
                                if (!_this7._loadedResources.includes(item.name)) {
                                    _this7._loadedResources.push(item.name)
                                }
                            } else {
                                needProgress && GR.UI.updateAssetsPreloader((currLoaded + loadedSize) / totalSize)
                            }
                        })
                    });
                    needProgress && GR.UI.showAssetsPreloader()
                }
            }, {
                key: "_onLoaded",
                value: function _onLoaded(dataName, list) {
                    list.forEach(function(item) {
                        _app.default.loader.off("".concat(item.name, "progress"))
                    });
                    if (!this._startPackLoaded && this._listLoadedComplete) {
                        this._listDeferred.resolve();
                        GR.UI.hideAssetsPreloader()
                    }
                    var deferred = this._assetsQueue[dataName].deferred;
                    this._assetsQueue[dataName].needProgress && GR.UI.hideAssetsPreloader();
                    delete this._assetsQueue[dataName];
                    deferred.resolve()
                }
            }, {
                key: "isLoaded",
                value: function isLoaded(name) {
                    return !!_app.default.loader.resources[name]
                }
            }, {
                key: "isAnimationCache",
                value: function isAnimationCache(animation) {
                    return !!PIXI.utils.AnimationCache.get(animation)
                }
            }, {
                key: "isSpineLoaded",
                value: function isSpineLoaded(name) {
                    return !!(_app.default.loader.resources[name] && _app.default.loader.resources[name].spineData)
                }
            }, {
                key: "checkResourceByPattern",
                value: function checkResourceByPattern(pattern) {
                    return !!Object.keys(_app.default.loader.resources).filter(function(name) {
                        return pattern.test(name)
                    }).length
                }
            }, {
                key: "checkAsset",
                value: function checkAsset(name, searchPattern) {
                    var assetInLoadQueue = name in AssetsHelper._assetsQueue;
                    return !assetInLoadQueue && AssetsHelper.checkResourceByPattern(searchPattern ? searchPattern : new RegExp(name))
                }
            }]);
            return AssetsHelper
        }();
        exports.AssetsHelper = AssetsHelper;
        _defineProperty(AssetsHelper, "_assetsQueue", {});
        _defineProperty(AssetsHelper, "_assetsList", {});
        _defineProperty(AssetsHelper, "_list", []);
        _defineProperty(AssetsHelper, "_listDeferred", _utils.default.deferred());
        _defineProperty(AssetsHelper, "_listIndex", 0);
        _defineProperty(AssetsHelper, "_listDownloadIndex", 0);
        _defineProperty(AssetsHelper, "_packSize", 0);
        _defineProperty(AssetsHelper, "_loadedResources", []);
        _defineProperty(AssetsHelper, "_listLoadedComplete", false);
        _defineProperty(AssetsHelper, "_startPackLoaded", false);
        var _default = AssetsHelper;
        exports.default = _default
    }, {
        "../app": 33,
        "./utils": 91
    }],
    87: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.effects = exports.default = void 0;
        var _app = _interopRequireDefault(require("core/app"));
        var _utils = require("core/helpers/utils");

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }
        var effects = {
            shakeObjectVertical: function shakeObjectVertical(object) {
                var magnitude = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 20;
                var time = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 50;
                if (!object) return Promise.resolve();
                var deferred = _utils.utils.deferred();
                var counter = 0;
                var repeatCount = 2;
                var startY = object.y;
                object.tween({
                    override: true,
                    loop: true
                }).to({
                    y: object.y + magnitude
                }, time).to({
                    y: object.y - magnitude
                }, time).call(function() {
                    counter++;
                    if (counter >= repeatCount) {
                        magnitude *= .8;
                        time *= .8;
                        object.tween(true).to({
                            y: object.y + magnitude * .8
                        }, time * .8).to({
                            y: object.y - magnitude * .8
                        }, time * .8).to({
                            y: object.y + magnitude * .6
                        }, time * .6).to({
                            y: object.y - magnitude * .6
                        }, time * .6).to({
                            y: object.y + magnitude * .4
                        }, time * .4).to({
                            y: object.y - magnitude * .4
                        }, time * .4).to({
                            y: object.y + magnitude * .2
                        }, time * .2).to({
                            y: object.y - magnitude * .2
                        }, time * .2).call(function() {
                            object.y = startY;
                            createjs.Tween.removeTweens(object);
                            deferred.resolve()
                        })
                    }
                });
                return deferred.promise
            },
            shakeObjectHorizontal: function shakeObjectHorizontal(object) {
                var magnitude = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;
                var time = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 50;
                if (!object) return Promise.resolve();
                var deferred = _utils.utils.deferred();
                var counter = 0;
                var repeatCount = 2;
                var startX = object.x;
                object.tween({
                    override: true,
                    loop: true
                }).to({
                    x: object.x + magnitude
                }, time).to({
                    x: object.x - magnitude
                }, time).call(function() {
                    counter++;
                    if (counter >= repeatCount) {
                        magnitude *= .8;
                        time *= .8;
                        object.tween(true).to({
                            x: object.x + magnitude * .8
                        }, time * .8).to({
                            x: object.x - magnitude * .8
                        }, time * .8).to({
                            x: object.x + magnitude * .6
                        }, time * .6).to({
                            x: object.x - magnitude * .6
                        }, time * .6).to({
                            x: object.x + magnitude * .4
                        }, time * .4).to({
                            x: object.x - magnitude * .4
                        }, time * .4).to({
                            x: object.x + magnitude * .2
                        }, time * .2).to({
                            x: object.x - magnitude * .2
                        }, time * .2).call(function() {
                            object.x = startX;
                            createjs.Tween.removeTweens(object);
                            deferred.resolve()
                        })
                    }
                });
                return deferred.promise
            },
            shakeObject: function shakeObject(object) {
                if (!object) return Promise.resolve();
                var deferred = _utils.utils.deferred();
                var counter = 0;
                var magnitude = 10;
                var time = 50;
                var repeatCount = 2;
                var startX = object.x;
                var startY = object.y;
                object.tween({
                    override: true,
                    loop: true
                }).to({
                    y: object.y + magnitude,
                    x: object.x + magnitude
                }, time).to({
                    y: object.y - magnitude,
                    x: object.x - magnitude
                }, time).call(function() {
                    counter++;
                    if (counter >= repeatCount) {
                        magnitude = 8;
                        time = 40;
                        object.tween(true).to({
                            y: _utils.utils.random([object.y + 8, object.y - 8]),
                            x: _utils.utils.random([object.y + 8, object.y - 8])
                        }, 40).to({
                            y: _utils.utils.random([object.y + 8, object.y - 8]),
                            x: _utils.utils.random([object.y + 8, object.y - 8])
                        }, 40).to({
                            y: _utils.utils.random([object.y + 6, object.y - 6]),
                            x: _utils.utils.random([object.y + 6, object.y - 6])
                        }, 30).to({
                            y: _utils.utils.random([object.y + 6, object.y - 6]),
                            x: _utils.utils.random([object.y + 6, object.y - 6])
                        }, 30).to({
                            y: _utils.utils.random([object.y + 4, object.y - 4]),
                            x: _utils.utils.random([object.y + 4, object.y - 4])
                        }, 20).to({
                            y: _utils.utils.random([object.y + 4, object.y - 4]),
                            x: _utils.utils.random([object.y + 4, object.y - 4])
                        }, 20).to({
                            y: _utils.utils.random([object.y + 2, object.y - 2]),
                            x: _utils.utils.random([object.y + 2, object.y - 2])
                        }, 10).to({
                            y: _utils.utils.random([object.y + 2, object.y - 2]),
                            x: _utils.utils.random([object.y + 2, object.y - 2])
                        }, 10).call(function() {
                            object.x = startX;
                            object.y = startY;
                            createjs.Tween.removeTweens(object);
                            deferred.resolve()
                        })
                    }
                });
                return deferred.promise
            },
            shakeGameVertical: function shakeGameVertical(magnitude, time) {
                return this.shakeObjectVertical(_app.default.stage, magnitude, time)
            }
        };
        exports.effects = effects;
        var _default = effects;
        exports.default = _default
    }, {
        "core/app": 33,
        "core/helpers/utils": 91
    }],
    88: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.graphics = exports.default = void 0;
        var _app = _interopRequireDefault(require("core/app"));
        var _utils = require("core/helpers/utils");

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _defineProperty(obj, key, value) {
            if (key in obj) {
                Object.defineProperty(obj, key, {
                    value: value,
                    enumerable: true,
                    configurable: true,
                    writable: true
                })
            } else {
                obj[key] = value
            }
            return obj
        }
        var graphics = {
            getRect: function getRect(x, y, width, height) {
                var color = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;
                var rect = new PIXI.Graphics;
                rect.beginFill(color);
                rect.drawRect(x, y, width, height);
                rect.endFill();
                return rect
            },
            getRoundedRect: function getRoundedRect(x, y, width, height) {
                var radius = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 20;
                var color = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;
                var rect = new PIXI.Graphics;
                rect.beginFill(color);
                rect.drawRoundedRect(x, y, width, height, radius);
                rect.endFill();
                return rect
            },
            getRectGradient: function getRectGradient(x, y, width, height) {
                var gradient = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : [
                    [0, 0],
                    [25, .35],
                    [50, 0],
                    [100, 1]
                ];
                var color = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 16777215;
                var colorGradient = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : 0;
                var easing = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : createjs.Ease.none;
                var graphics = new PIXI.Graphics;
                graphics.beginFill(color);
                graphics.drawRect(x, y, width, height);
                var objectGradient = {};
                gradient.map(function(e) {
                    return objectGradient[e[0]] = e[1]
                });
                var alpha = objectGradient[0];
                var distance = {};
                Object.keys(objectGradient).sort(function(a, b) {
                    return distance["".concat(a, "_").concat(b)] = b - a
                });
                var getY = function getY(from, to) {
                    return height * distance["".concat(from, "_").concat(to)] / 100 || 0
                };
                var draw = function draw() {
                    var toAlpha = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
                    var keyPrev = arguments.length > 1 ? arguments[1] : undefined;
                    var keyCurrent = arguments.length > 2 ? arguments[2] : undefined;
                    var dY = getY(0, keyPrev);
                    var h = getY(keyPrev, keyCurrent);
                    var coefficient = (toAlpha - alpha) / h;
                    for (var i = 1; i <= h; ++i) {
                        graphics.moveTo(x, y + dY + i);
                        graphics.lineStyle(1, colorGradient, alpha);
                        graphics.lineTo(x + width, y + dY + i);
                        alpha += easing(coefficient)
                    }
                };
                var dist = Object.keys(objectGradient);
                for (var i = 0, l = dist.length; i < l; i++) {
                    draw(objectGradient[dist[i]], dist[i - 1], dist[i])
                }
                graphics.endFill();
                return graphics
            },
            getReelGradient: function getReelGradient(x, y, width, height) {
                var heightGradient = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 20;
                if (_app.default.renderer instanceof PIXI.CanvasRenderer) {
                    return this.getRect(x, y, width, height)
                }
                var percent = Math.round(heightGradient * 100 / height);
                var size = [
                    [percent, 0],
                    [100 - percent, 0]
                ];
                var graphics = this.getRectGradient(x, y, width, height, [
                    [0, 1]
                ].concat(size, [
                    [100, 1]
                ]));
                var mask = new PIXI.Sprite(_app.default.renderer.generateTexture(graphics));
                mask.x = x;
                mask.y = y;
                return mask
            },
            tweenTint: function tweenTint(obj, startColor, endColor) {
                var _this = this;
                var time = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 250;
                var deferred = _utils.utils.deferred();
                if (obj) {
                    var symbol = "_tweenTintStep";
                    var tween = createjs.Tween.get(obj).to(_defineProperty({}, symbol, 0)).to(_defineProperty({}, symbol, 100), time);
                    tween.on("change", function() {
                        obj.tint = _this.interpolateColor(startColor, endColor, 100, obj[symbol])
                    });
                    tween.on("complete", function() {
                        delete obj[symbol];
                        deferred.resolve()
                    });
                    tween.advance(0)
                } else {
                    deferred.resolve()
                }
                return deferred.promise
            },
            interpolateColor: function interpolateColor(color1, color2, steps, currentStep) {
                var src1 = PIXI.utils.hex2rgb(color1);
                var src2 = PIXI.utils.hex2rgb(color2);
                var r = (src2[0] - src1[0]) * currentStep / steps + src1[0];
                var g = (src2[1] - src1[1]) * currentStep / steps + src1[1];
                var b = (src2[2] - src1[2]) * currentStep / steps + src1[2];
                return PIXI.utils.rgb2hex([r, g, b])
            },
            colorMatrix: function colorMatrix(obj, startMatrix, endMatrix, startSaturate, endSaturate, startBrightness, endBrightness) {
                var _this2 = this;
                var time = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : 250;
                var deferred = _utils.utils.deferred();
                if (obj) {
                    var symbol = "_tweenColorMatrixStep";
                    var filter = new PIXI.filters.ColorMatrixFilter;
                    var filter1 = new PIXI.filters.ColorMatrixFilter;
                    var filter3 = new PIXI.filters.ColorMatrixFilter;
                    var tween = createjs.Tween.get(obj).to(_defineProperty({}, symbol, 0)).to(_defineProperty({}, symbol, 100), time);
                    tween.on("change", function() {
                        filter.matrix = _this2.generateColorMatrixFilter(startMatrix, endMatrix, 100, obj[symbol]);
                        filter1.saturate(_this2.generateStep(startSaturate, endSaturate, 100, obj[symbol]));
                        filter3.brightness(_this2.generateStep(startBrightness, endBrightness, 100, obj[symbol]));
                        obj.filters = [filter1, filter3, filter]
                    });
                    tween.on("complete", function() {
                        delete obj[symbol];
                        deferred.resolve()
                    });
                    tween.advance(0)
                } else {
                    deferred.resolve()
                }
                return deferred.promise
            },
            generateStep: function generateStep(start, end, steps, currentStep) {
                return start + (end - start) * currentStep / steps
            },
            generateColorMatrixFilter: function generateColorMatrixFilter(matrix1, matrix2, steps, currentStep) {
                var length = matrix1.length;
                var delta = 0;
                var matrixResult = [];
                for (var i = 0; i < length; i++) {
                    delta = -1 * ((matrix1[i] - matrix2[i]) * currentStep) / steps + matrix1[i];
                    matrixResult.push(delta)
                }
                return matrixResult
            }
        };
        exports.graphics = graphics;
        var _default = graphics;
        exports.default = _default
    }, {
        "core/app": 33,
        "core/helpers/utils": 91
    }],
    89: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.i18n = exports.default = void 0;
        var _app = _interopRequireDefault(require("../app"));
        var _stringFormat = _interopRequireDefault(require("string-format"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }
        var i18n = {
            strings: {},
            usingAbbreviations: false,
            add: function add(strings) {
                Object.assign(this.strings, strings)
            },
            has: function has(id) {
                return id in this.strings
            },
            get: function get(id) {
                if (this.has(id)) {
                    for (var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
                        params[_key - 1] = arguments[_key]
                    }
                    return this.string.apply(this, [this.strings[id]].concat(params))
                } else {
                    console.warn("Text with id '".concat(id, "' not found."));
                    return id
                }
            },
            html: function html(id) {
                for (var _len2 = arguments.length, params = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
                    params[_key2 - 1] = arguments[_key2]
                }
                return this.htmlize(this.get.apply(this, [id].concat(params)))
            },
            coins: function coins(value) {
                var withCurrency = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
                var withoutCoins = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
                if (this.usingAbbreviations) {
                    return this._abbreviate(value, withCurrency)
                }
                var formated = window.GR.CurrencyFormatter.format(value, !withCurrency);
                return withoutCoins ? formated.replace(/\.\d\d$/, "") : formated
            },
            string: function string(message) {
                var _this = this;
                for (var _len3 = arguments.length, params = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {
                    params[_key3 - 1] = arguments[_key3]
                }
                message = message.replace(/#(\w+)/g, function(substr, key) {
                    return _this.has(key) ? i18n.get.apply(i18n, [key].concat(params)) : substr
                });
                return _stringFormat.default.apply(void 0, [message].concat(params))
            },
            htmlize: function htmlize(message) {
                return message.replace(/\n/g, "<br/>")
            },
            _abbreviate: function _abbreviate(value, withCurrency) {
                return window.GR.CurrencyFormatter.format(value, !withCurrency).replace(/\.\d\d$/, "").replace(/(\d)?(,)?(\d)\d\d$/, function(_0, first, _2, second) {
                    return "".concat(first || 0, ",").concat(second, "K")
                })
            },
            enableExperimentalAbbreviations: function enableExperimentalAbbreviations() {
                var _this2 = this;
                _app.default.model.follow("settings.bets", function(bets) {
                    var divider = 1e4;
                    _this2.usingAbbreviations = bets.every(function(bet) {
                        return bet % divider === 0
                    })
                })
            }
        };
        exports.i18n = i18n;
        var _default = i18n;
        exports.default = _default
    }, {
        "../app": 33,
        "string-format": 32
    }],
    90: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        Object.defineProperty(exports, "effects", {
            enumerable: true,
            get: function get() {
                return _effects.effects
            }
        });
        Object.defineProperty(exports, "graphics", {
            enumerable: true,
            get: function get() {
                return _graphics.graphics
            }
        });
        Object.defineProperty(exports, "i18n", {
            enumerable: true,
            get: function get() {
                return _i18n.i18n
            }
        });
        Object.defineProperty(exports, "utils", {
            enumerable: true,
            get: function get() {
                return _utils.utils
            }
        });
        var _i18n = require("./i18n");
        var _utils = require("./utils");
        var _graphics = require("./graphics");
        var _effects = require("./effects")
    }, {
        "./effects": 87,
        "./graphics": 88,
        "./i18n": 89,
        "./utils": 91
    }],
    91: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.utils = exports.default = void 0;
        var _i18n = _interopRequireDefault(require("./i18n"));
        var _gdk = require("./../../gdk");

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _defineProperty(obj, key, value) {
            if (key in obj) {
                Object.defineProperty(obj, key, {
                    value: value,
                    enumerable: true,
                    configurable: true,
                    writable: true
                })
            } else {
                obj[key] = value
            }
            return obj
        }

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }

        function _slicedToArray(arr, i) {
            return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest()
        }

        function _nonIterableRest() {
            throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }

        function _unsupportedIterableToArray(o, minLen) {
            if (!o) return;
            if (typeof o === "string") return _arrayLikeToArray(o, minLen);
            var n = Object.prototype.toString.call(o).slice(8, -1);
            if (n === "Object" && o.constructor) n = o.constructor.name;
            if (n === "Map" || n === "Set") return Array.from(o);
            if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen)
        }

        function _arrayLikeToArray(arr, len) {
            if (len == null || len > arr.length) len = arr.length;
            for (var i = 0, arr2 = new Array(len); i < len; i++) {
                arr2[i] = arr[i]
            }
            return arr2
        }

        function _iterableToArrayLimit(arr, i) {
            var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"];
            if (_i == null) return;
            var _arr = [];
            var _n = true;
            var _d = false;
            var _s, _e;
            try {
                for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {
                    _arr.push(_s.value);
                    if (i && _arr.length === i) break
                }
            } catch (err) {
                _d = true;
                _e = err
            } finally {
                try {
                    if (!_n && _i["return"] != null) _i["return"]()
                } finally {
                    if (_d) throw _e
                }
            }
            return _arr
        }

        function _arrayWithHoles(arr) {
            if (Array.isArray(arr)) return arr
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }
        var Deferred = _createClass(function Deferred() {
            var _this = this;
            _classCallCheck(this, Deferred);
            this.resolve = null;
            this.reject = null;
            this.promise = new Promise(function() {
                var _args, _args2;
                for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
                    args[_key] = arguments[_key]
                }
                return _args = args, _args2 = _slicedToArray(_args, 2), _this.resolve = _args2[0], _this.reject = _args2[1], _args
            })
        });
        var utils = {
            random: function random() {
                var randomValue = Math.random();
                for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
                    args[_key2] = arguments[_key2]
                }
                if (args.length === 1 && Array.isArray(args[0])) {
                    return args[0][Math.floor(args[0].length * randomValue)]
                }
                if (args.length === 2) {
                    var offset = args[0],
                        n = args[1];
                    return Math.floor(randomValue * n + offset)
                }
                return randomValue
            },
            range: function range(offset, n, step) {
                step = step || 1;
                var arr = [];
                for (var i = offset; i < n; i += step) {
                    arr.push(i)
                }
                return arr
            },
            objectDeepEach: function objectDeepEach(func, data) {
                var head = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : "";
                if (_typeof(data) === "object" && !(data instanceof Array) && data !== null) {
                    for (var _i2 = 0, _Object$keys = Object.keys(data); _i2 < _Object$keys.length; _i2++) {
                        var key = _Object$keys[_i2];
                        var name = head.length > 0 ? "".concat(head, ".").concat(key) : key;
                        this.objectDeepEach(func, data[key], name)
                    }
                } else {
                    func(head, data)
                }
            },
            invalidateUrl: function invalidateUrl(url) {
                if (url.includes("?")) return url;
                var ts = _gdk.env.get("build_ts", Date.now() / 1e3 | 1);
                return "".concat(url, "?").concat(ts)
            },
            trycatch: function trycatch(fn, handle) {
                try {
                    return fn()
                } catch (err) {
                    return handle(err)
                }
            },
            try: function _try(fn) {
                return utils.trycatch(fn, function() {})
            },
            addStyle: function addStyle(css) {
                css = css.split("\n").map(function(i) {
                    return i.trim(i)
                }).filter(function(i) {
                    return i.length
                }).join(" ");
                var style = document.createElement("style");
                style.appendChild(document.createTextNode(css));
                document.getElementsByTagName("head")[0].appendChild(style)
            },
            wait: function wait(time) {
                return new Promise(function(res) {
                    return createjs.Tween.get({}).wait(time).call(res).advance(0)
                })
            },
            aggregate: function aggregate(arr, props) {
                var obj = {};
                obj.addProp = function(propName) {
                    obj["_".concat(propName)] = 0;
                    Object.defineProperty(obj, propName, {
                        set: function set(value) {
                            var oldValue = this["_".concat(propName)];
                            this["_".concat(propName)] = value;
                            arr.forEach(function(item) {
                                item[propName] += value - oldValue
                            })
                        },
                        get: function get() {
                            return this["_".concat(propName)]
                        }
                    })
                };
                (props || []).forEach(obj.addProp);
                return obj
            },
            labelScale: function labelScale(label) {
                var maxWidth = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
                var maxHeight = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
                label.scaleX = label.scaleY = 1;
                label.scaleX = label.scaleY = Math.min(1, maxWidth === null ? 1 : maxWidth / label.width, maxHeight === null ? 1 : maxHeight / label.height)
            },
            deferred: function deferred() {
                return new Deferred
            },
            html2element: function html2element(html) {
                var root = document.createElement("div");
                root.innerHTML = html.trim();
                return root.firstElementChild
            },
            deprecateMethodOverride: function deprecateMethodOverride(target) {
                for (var _len3 = arguments.length, methodName = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {
                    methodName[_key3 - 1] = arguments[_key3]
                }
                methodName.forEach(function(methodName) {
                    var privateMethodName = "__".concat(methodName);
                    Object.assign(target, _defineProperty({}, privateMethodName, target[methodName] || function() {}));
                    delete target[methodName];
                    Object.defineProperty(target, methodName, {
                        set: function set(fn) {
                            console.warn(".".concat(methodName, " is deprecated"));
                            this[privateMethodName] = fn
                        },
                        get: function get() {
                            return this[privateMethodName]
                        }
                    })
                })
            },
            replaceSpriteTexture: function replaceSpriteTexture(targetSprite, spriteName) {
                targetSprite.texture = PIXI.Texture.fromFrame(spriteName)
            },
            getDBSlotSprite: function getDBSlotSprite(targetArmature, spriteName) {
                return targetArmature.getSlot(spriteName).display
            },
            labelCounter: function labelCounter(label, startValue, endValue, time) {
                var deferred = this.deferred();
                label.__counter = startValue;
                label.tween().setFPS(24).to({
                    __counter: endValue
                }, time * .875, createjs.Ease.sineInOut).wait(time * .125).call(deferred.resolve).on("change", function() {
                    return label.text = _i18n.default.coins(label.__counter)
                });
                return deferred.promise
            },
            clone: function clone(target) {
                var values = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
                return Object.assign({}, target, values || {})
            },
            Q: function Q(arr) {
                var promise = Promise.resolve();
                var cancelled = false;
                var cancelPromise;
                var onCancel;
                var currentPromise = null;
                var done = false;
                var defer = utils.deferred();
                arr.forEach(function(fn) {
                    return promise = promise.then(function() {
                        return !cancelled && (currentPromise = fn())
                    })
                });
                promise = Promise.race([defer.promise, promise]).then(function(x) {
                    if (cancelled) {
                        return cancelPromise
                    } else {
                        done = true;
                        return x
                    }
                });
                promise.cancel = function() {
                    if (cancelled || done) return;
                    defer.resolve();
                    cancelled = true;
                    if (currentPromise && typeof currentPromise.cancel === "function") currentPromise.cancel();
                    return cancelPromise = new Promise(function(res, rej) {
                        var ret = onCancel && onCancel();
                        if (ret && ret.then) {
                            ret.then(res, rej)
                        } else {
                            res(ret)
                        }
                    })
                };
                promise.onCancel = function(fn) {
                    onCancel = fn;
                    return promise
                };
                return promise
            },
            getPromise: function getPromise(obj) {
                if (obj && typeof obj.then === "function") return obj;
                return Promise.resolve(obj)
            }
        };
        exports.utils = utils;
        var _default = utils;
        exports.default = _default
    }, {
        "./../../gdk": 102,
        "./i18n": 89
    }],
    92: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.LoadState = exports.InitState = void 0;
        Object.defineProperty(exports, "NoneState", {
            enumerable: true,
            get: function get() {
                return _States.NoneState
            }
        });
        exports.RouterState = void 0;
        var _app = require("core/app");
        var _utils = require("core/utils");
        var _States = require("./../core/States");
        var _GameSymbol = _interopRequireDefault(require("../components/GameSymbol"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var LoadState = function(_State) {
            _inherits(LoadState, _State);
            var _super = _createSuper(LoadState);

            function LoadState() {
                _classCallCheck(this, LoadState);
                return _super.apply(this, arguments)
            }
            _createClass(LoadState, [{
                key: "onEnter",
                value: function onEnter() {
                    var _this = this;
                    _app.app.loader.on("progress", function(loader) {
                        if (loader.progress > 0) {
                            _app.app.emit(_app.GameEvent.LoadProgress, loader.progress)
                        }
                    });
                    Promise.all([this.connection(), this.resources(), this.languages()]).then(function() {
                        return _this.leave()
                    })
                }
            }, {
                key: "connection",
                value: function connection() {
                    return new Promise(function(res) {
                        GR.Events.flow.state.once(function(event) {
                            var data = event.data;
                            _app.app.model.protocol.decode({
                                context: data.context,
                                user: data.user,
                                freebet: data.freebet,
                                settings: data.settings
                            });
                            _app.app.emit(_app.GameEvent.ConnectionDone);
                            res()
                        })
                    })
                }
            }, {
                key: "resources",
                value: function resources() {
                    return Promise.all([_app.app.loader.assets(this.assets()), _app.app.loader.packs(this.packs(), function() {
                        return _app.app.emit(_app.GameEvent.LoaderDone)
                    }, function() {
                        _app.app.emit(_app.GameEvent.LoaderSoundsDone);
                        GR.Events.game.sound_loaded()
                    }, function() {
                        return _app.app.emit(_app.GameEvent.LoaderBackgroundDone)
                    })])
                }
            }, {
                key: "languages",
                value: function languages() {
                    var defaultLanguage = "en";
                    var language = _app.env.get("lang", defaultLanguage);
                    var languages = language === defaultLanguage ? [defaultLanguage] : [language];
                    return _app.app.loader.assets(languages.map(function(i) {
                        return {
                            name: "lang.".concat(i),
                            url: "./assets/i18n/".concat(i, ".json")
                        }
                    })).then(function() {
                        return languages.forEach(function(i) {
                            _utils.i18n.add(_app.app.loader.resources["lang.".concat(i)].data);
                            delete _app.app.loader.resources["lang.".concat(i)]
                        })
                    })
                }
            }, {
                key: "assets",
                value: function assets() {
                    return []
                }
            }, {
                key: "packs",
                value: function packs() {
                    if (_app.app.loader._manifest.hasOwnProperty(_app.app.assetsPrefix)) {
                        if (!window.Modernizr) console.warn("Modernizr not found");
                        return [_app.app.assetsPrefix, "fonts", _app.app.soundsPrefix]
                    }
                    return Object.keys(_app.app.loader._manifest).filter(function(i) {
                        return !i.endsWith(_app.app.model.isMobile() ? "_desktop" : "_mobile")
                    })
                }
            }]);
            return LoadState
        }(_States.State);
        exports.LoadState = LoadState;
        var InitState = function(_State2) {
            _inherits(InitState, _State2);
            var _super2 = _createSuper(InitState);

            function InitState() {
                _classCallCheck(this, InitState);
                return _super2.apply(this, arguments)
            }
            _createClass(InitState, [{
                key: "onEnter",
                value: function onEnter() {
                    var _this2 = this;
                    _GameSymbol.default.generateMapping();
                    _GameSymbol.default.setSpecialSymbolsConst();
                    var promise = Promise.all([_app.app.board.reset(false), _app.app.bg.reset(false), _app.app.ui.init()]);
                    promise.then(function() {
                        return _this2.leave()
                    });
                    return promise
                }
            }, {
                key: "onLeave",
                value: function onLeave() {
                    _app.app.model.set("game.replayWinLines", _app.app.config.get("Board.replayWinLinesOnStart"));
                    if (_app.app.config.get("App.showStartScreen")) {
                        return _app.app.splashScreen.reset(false)
                    }
                }
            }]);
            return InitState
        }(_States.State);
        exports.InitState = InitState;
        var RouterState = function(_State3) {
            _inherits(RouterState, _State3);
            var _super3 = _createSuper(RouterState);

            function RouterState() {
                _classCallCheck(this, RouterState);
                return _super3.apply(this, arguments)
            }
            _createClass(RouterState, [{
                key: "onEnter",
                value: function onEnter() {
                    var actions = _app.app.model.get("game.actions");
                    var action = this.getCurrentAction(actions);
                    return _app.app.flow.ready(action).then(function() {
                        _app.app.emit(_app.GameEvent.action(action))
                    })
                }
            }, {
                key: "getCurrentAction",
                value: function getCurrentAction(actions) {
                    if (actions.length !== 1) throw new Error("Invalid game.actions length: ".concat(actions.length));
                    return actions[0]
                }
            }]);
            return RouterState
        }(_States.State);
        exports.RouterState = RouterState
    }, {
        "../components/GameSymbol": 39,
        "./../core/States": 81,
        "core/app": 33,
        "core/utils": 99
    }],
    93: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.UnloadFreeSpinsState = exports.SpinningFreeSpinsState = exports.ResultFreeSpinsState = exports.LoadFreeSpinsState = void 0;
        var _States = _interopRequireDefault(require("./../core/States"));
        var _app = _interopRequireDefault(require("core/app"));
        var _utils = _interopRequireDefault(require("core/helpers/utils"));
        var _SkipController = _interopRequireDefault(require("../controllers/SkipController"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var LoadFreeSpinsState = function(_State) {
            _inherits(LoadFreeSpinsState, _State);
            var _super = _createSuper(LoadFreeSpinsState);

            function LoadFreeSpinsState() {
                _classCallCheck(this, LoadFreeSpinsState);
                return _super.apply(this, arguments)
            }
            _createClass(LoadFreeSpinsState, [{
                key: "onEnter",
                value: function onEnter() {
                    var _this = this;
                    _app.default.lock();
                    GR.UI.model.set("round_win_mode", "total_win");
                    GR.UI.model.set("total_win", _app.default.model.current("total_win", 0));
                    var promise = _app.default.board.reset().then(function() {
                        return _app.default.flow.actIfPossible("freespin_init")
                    }).then(function() {
                        GR.Events.game.freespins_init();
                        GR.Events.game.freespins_ready()
                    }).then(function() {
                        return _this.beforeLeave()
                    }).then(function() {
                        return _utils.default.wait(_app.default.config.get("Board.freespinsInitDelay"))
                    });
                    promise.then(function() {
                        return _this.leave()
                    });
                    return promise
                }
            }, {
                key: "beforeLeave",
                value: function beforeLeave() {
                    return Promise.resolve()
                }
            }]);
            return LoadFreeSpinsState
        }(_States.default);
        exports.LoadFreeSpinsState = LoadFreeSpinsState;
        var SpinningFreeSpinsState = function(_State2) {
            _inherits(SpinningFreeSpinsState, _State2);
            var _super2 = _createSuper(SpinningFreeSpinsState);

            function SpinningFreeSpinsState() {
                _classCallCheck(this, SpinningFreeSpinsState);
                return _super2.apply(this, arguments)
            }
            _createClass(SpinningFreeSpinsState, [{
                key: "onEnter",
                value: function onEnter() {
                    var _this2 = this;
                    _app.default.model.setDefaults();
                    _app.default.lock();
                    _app.default.ui.setRoundWin(null);
                    GR.UI.model.set("round_win_mode", "total_win");
                    GR.UI.model.set("freespins.count", _app.default.model.current("rounds_left", 0) - 1);
                    Promise.all([_app.default.board.spin(), _app.default.flow.act("freespin")]).then(function() {
                        return _app.default.board.stop()
                    }).then(function() {
                        return _this2.leave()
                    })
                }
            }, {
                key: "onLeave",
                value: function onLeave() {
                    var promises = [];
                    if (_app.default.model.get("game.restart", false)) {
                        _app.default.board.reels.reels.forEach(function(r) {
                            promises.push(r.skip())
                        })
                    }
                    return Promise.all(promises)
                }
            }]);
            return SpinningFreeSpinsState
        }(_States.default);
        exports.SpinningFreeSpinsState = SpinningFreeSpinsState;
        var ResultFreeSpinsState = function(_State3) {
            _inherits(ResultFreeSpinsState, _State3);
            var _super3 = _createSuper(ResultFreeSpinsState);

            function ResultFreeSpinsState() {
                _classCallCheck(this, ResultFreeSpinsState);
                return _super3.apply(this, arguments)
            }
            _createClass(ResultFreeSpinsState, [{
                key: "onEnter",
                value: function onEnter() {
                    var _this3 = this;
                    _app.default.lock();
                    var waitDefer = _utils.default.deferred();
                    _SkipController.default.once(waitDefer.resolve);
                    _app.default.board.showRoundResult().then(function() {
                        var waitTime = _app.default.model.isAutoGame() ? _app.default.model.isQuickSpin() ? _app.default.config.get("Board.resultStateDelayQuickSpin") : _app.default.config.get("Board.resultStateDelay") : 0;
                        _utils.default.wait(waitTime).then(waitDefer.resolve);
                        return waitDefer.promise
                    }).then(function() {
                        return _this3.leave()
                    });
                    _app.default.ui.setRoundWin();
                    _app.default.ui.setBalance()
                }
            }, {
                key: "onLeave",
                value: function onLeave() {
                    if (_app.default.model.isFreeSpinsOutro()) {
                        return _utils.default.wait(300).then(function() {
                            return _app.default.board.showFreeSpinsOutroLabel()
                        }).then(function() {
                            return _app.default.board.reset()
                        })
                    }
                    return _utils.default.wait(250).then(function() {
                        return _app.default.board.reset()
                    })
                }
            }]);
            return ResultFreeSpinsState
        }(_States.default);
        exports.ResultFreeSpinsState = ResultFreeSpinsState;
        var UnloadFreeSpinsState = function(_State4) {
            _inherits(UnloadFreeSpinsState, _State4);
            var _super4 = _createSuper(UnloadFreeSpinsState);

            function UnloadFreeSpinsState() {
                _classCallCheck(this, UnloadFreeSpinsState);
                return _super4.apply(this, arguments)
            }
            _createClass(UnloadFreeSpinsState, [{
                key: "onEnter",
                value: function onEnter() {
                    var _this4 = this;
                    _app.default.lock();
                    _app.default.ui.use();
                    var promise = _app.default.flow.actIfPossible("freespin_stop").then(function() {
                        return _this4.beforeLeave()
                    }).then(function() {
                        return _this4.leave()
                    });
                    _app.default.model.clearFreeSpins();
                    return promise
                }
            }, {
                key: "beforeLeave",
                value: function beforeLeave() {
                    return Promise.resolve()
                }
            }]);
            return UnloadFreeSpinsState
        }(_States.default);
        exports.UnloadFreeSpinsState = UnloadFreeSpinsState
    }, {
        "../controllers/SkipController": 68,
        "./../core/States": 81,
        "core/app": 33,
        "core/helpers/utils": 91
    }],
    94: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.SpinningSpinsState = exports.SpinningReSpinState = exports.ResultSpinsState = exports.LoadSpinsState = exports.IdleSpinsState = void 0;
        var _States = _interopRequireDefault(require("../core/States"));
        var _app = require("../app");
        var _utils = require("../helpers/utils");
        var _SkipController = _interopRequireDefault(require("../controllers/SkipController"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var LoadSpinsState = function(_State) {
            _inherits(LoadSpinsState, _State);
            var _super = _createSuper(LoadSpinsState);

            function LoadSpinsState() {
                _classCallCheck(this, LoadSpinsState);
                return _super.apply(this, arguments)
            }
            _createClass(LoadSpinsState, [{
                key: "onEnter",
                value: function onEnter() {
                    this.leave()
                }
            }]);
            return LoadSpinsState
        }(_States.default);
        exports.LoadSpinsState = LoadSpinsState;
        var IdleSpinsState = function(_State2) {
            _inherits(IdleSpinsState, _State2);
            var _super2 = _createSuper(IdleSpinsState);

            function IdleSpinsState() {
                _classCallCheck(this, IdleSpinsState);
                return _super2.apply(this, arguments)
            }
            _createClass(IdleSpinsState, [{
                key: "onEnter",
                value: function onEnter() {
                    _app.app.unlock();
                    _app.app.ui.use("spins");
                    _app.app.ui.setRoundWin();
                    _app.app.ui.setBalance();
                    var isReplayWinLines = _app.app.model.get("game.replayWinLines", true);
                    if (_app.app.model.statusOk && isReplayWinLines) {
                        _app.app.board.replayWinLines()
                    }
                    if (!isReplayWinLines && !_app.app.config.get("Board.replayWinLinesOnStart")) {
                        _app.app.model.set("game.replayWinLines", true)
                    }
                    _app.app.emit(_app.GameEvent.stateReady("spin"))
                }
            }, {
                key: "onLeave",
                value: function onLeave() {
                    return _app.app.board.reset()
                }
            }]);
            return IdleSpinsState
        }(_States.default);
        exports.IdleSpinsState = IdleSpinsState;
        var SpinningSpinsState = function(_State3) {
            _inherits(SpinningSpinsState, _State3);
            var _super3 = _createSuper(SpinningSpinsState);

            function SpinningSpinsState() {
                _classCallCheck(this, SpinningSpinsState);
                return _super3.apply(this, arguments)
            }
            _createClass(SpinningSpinsState, [{
                key: "onEnter",
                value: function onEnter() {
                    var _this = this;
                    _app.app.model.setDefaults();
                    _app.app.lock();
                    _app.app.ui.setRoundWin(null);
                    _app.app.board.reset().then(function() {
                        return Promise.all([_app.app.board.spin(), _app.app.flow.result()])
                    }).then(function() {
                        return Promise.all([_app.app.board.stop(), !_app.app.model.statusOk && _app.app.board.skip()])
                    }).then(function() {
                        return _this.leave()
                    })
                }
            }]);
            return SpinningSpinsState
        }(_States.default);
        exports.SpinningSpinsState = SpinningSpinsState;
        var ResultSpinsState = function(_State4) {
            _inherits(ResultSpinsState, _State4);
            var _super4 = _createSuper(ResultSpinsState);

            function ResultSpinsState() {
                _classCallCheck(this, ResultSpinsState);
                return _super4.apply(this, arguments)
            }
            _createClass(ResultSpinsState, [{
                key: "onEnter",
                value: function onEnter() {
                    var _this2 = this;
                    if (_app.app.model.canAction("spin") && !_app.app.flow.isSpectator()) {
                        _app.app.unlock()
                    }
                    _app.app.ui.setRoundWin();
                    _app.app.ui.setBalance();
                    var waitDefer = _utils.utils.deferred();
                    _SkipController.default.once(waitDefer.resolve);
                    Promise.resolve().then(function() {
                        if (_app.app.model.canAction("freespin_init")) {
                            GR.UI.model.set("round_win_mode", "total_win");
                            GR.UI.model.set("total_win", 0)
                        }
                    }).then(function() {
                        return _app.app.model.statusOk && _app.app.board.showRoundResult()
                    }).then(function() {
                        var waitTime = _app.app.model.isAutoGame() ? _app.app.model.isQuickSpin() ? _app.app.config.get("Board.resultStateDelayQuickSpin") : _app.app.config.get("Board.resultStateDelay") : 0;
                        _utils.utils.wait(waitTime).then(waitDefer.resolve);
                        return waitDefer.promise
                    }).then(function() {
                        return _this2.leave()
                    })
                }
            }, {
                key: "onLeave",
                value: function onLeave() {
                    var showWinLines = _app.app.config.get("Board.showWinLines", false);
                    var isOneWinline = _app.app.model.winlines().length <= 1;
                    return (!showWinLines || isOneWinline) && _app.app.board.reset()
                }
            }]);
            return ResultSpinsState
        }(_States.default);
        exports.ResultSpinsState = ResultSpinsState;
        var SpinningReSpinState = function(_State5) {
            _inherits(SpinningReSpinState, _State5);
            var _super5 = _createSuper(SpinningReSpinState);

            function SpinningReSpinState() {
                _classCallCheck(this, SpinningReSpinState);
                return _super5.apply(this, arguments)
            }
            _createClass(SpinningReSpinState, [{
                key: "onEnter",
                value: function onEnter() {
                    var _this3 = this;
                    _app.app.emit(_app.GameEvent.ReSpinState);
                    _app.app.lock();
                    _app.app.ui.setRoundWin(null);
                    _app.app.board.reset().then(function() {
                        return Promise.all([_app.app.board.respin(), _app.app.flow.act("respin")])
                    }).then(function() {
                        return Promise.all([_app.app.board.stop(), !_app.app.model.statusOk && _app.app.board.skip()])
                    }).then(function() {
                        return _this3.leave()
                    })
                }
            }]);
            return SpinningReSpinState
        }(_States.default);
        exports.SpinningReSpinState = SpinningReSpinState
    }, {
        "../app": 33,
        "../controllers/SkipController": 68,
        "../core/States": 81,
        "../helpers/utils": 91
    }],
    95: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        Object.defineProperty(exports, "IdleSpinsState", {
            enumerable: true,
            get: function get() {
                return _SpinsStates.IdleSpinsState
            }
        });
        Object.defineProperty(exports, "InitState", {
            enumerable: true,
            get: function get() {
                return _BootStates.InitState
            }
        });
        Object.defineProperty(exports, "LoadFreeSpinsState", {
            enumerable: true,
            get: function get() {
                return _FreeSpinsStates.LoadFreeSpinsState
            }
        });
        Object.defineProperty(exports, "LoadSpinsState", {
            enumerable: true,
            get: function get() {
                return _SpinsStates.LoadSpinsState
            }
        });
        Object.defineProperty(exports, "LoadState", {
            enumerable: true,
            get: function get() {
                return _BootStates.LoadState
            }
        });
        Object.defineProperty(exports, "NoneState", {
            enumerable: true,
            get: function get() {
                return _BootStates.NoneState
            }
        });
        Object.defineProperty(exports, "ResultFreeSpinsState", {
            enumerable: true,
            get: function get() {
                return _FreeSpinsStates.ResultFreeSpinsState
            }
        });
        Object.defineProperty(exports, "ResultSpinsState", {
            enumerable: true,
            get: function get() {
                return _SpinsStates.ResultSpinsState
            }
        });
        Object.defineProperty(exports, "RouterState", {
            enumerable: true,
            get: function get() {
                return _BootStates.RouterState
            }
        });
        Object.defineProperty(exports, "SpinningFreeSpinsState", {
            enumerable: true,
            get: function get() {
                return _FreeSpinsStates.SpinningFreeSpinsState
            }
        });
        Object.defineProperty(exports, "SpinningReSpinState", {
            enumerable: true,
            get: function get() {
                return _SpinsStates.SpinningReSpinState
            }
        });
        Object.defineProperty(exports, "SpinningSpinsState", {
            enumerable: true,
            get: function get() {
                return _SpinsStates.SpinningSpinsState
            }
        });
        Object.defineProperty(exports, "UnloadFreeSpinsState", {
            enumerable: true,
            get: function get() {
                return _FreeSpinsStates.UnloadFreeSpinsState
            }
        });
        var _BootStates = require("core/states/BootStates");
        var _SpinsStates = require("core/states/SpinsStates");
        var _FreeSpinsStates = require("core/states/FreeSpinsStates")
    }, {
        "core/states/BootStates": 92,
        "core/states/FreeSpinsStates": 93,
        "core/states/SpinsStates": 94
    }],
    96: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.DEFAULT_FONT = void 0;
        var DEFAULT_FONT = "Calibri";
        exports.DEFAULT_FONT = DEFAULT_FONT
    }, {}],
    97: [function(require, module, exports) {
        module.exports = require("browserify-postcss")("::-webkit-scrollbar {     -webkit-appearance: none;     width: 7px; } ::-webkit-scrollbar-thumb {     border-radius: 1px;     background-color: rgba(255, 255, 255, .3); } html, body {     font-family: Calibri, sans-serif; } .game-bg {     position: fixed;     width: 100%;     height: 100%;     top: 0;     left: 0;     background: rgba(0, 0, 0, 0);     background-position: 50% 50%;     background-size: cover;  } .game-box {     width: 100%;     height: 100%;     position: absolute; } .game-box * {     -webkit-tap-highlight-color: rgba(0, 0, 0, 0);     -webkit-user-select: none;     -moz-user-select: none;      -ms-user-select: none;          user-select: none; } .game-box canvas {     width: 100%;     height: auto;     position: absolute; } .portrait-logo-text-disable {     display: none !important; } .portrait-logo {     -webkit-box-orient: horizontal;     -webkit-box-direction: normal;     -webkit-flex-direction: row;         -ms-flex-direction: row;             flex-direction: row;     display: -webkit-box;     display: -webkit-flex;     display: -ms-flexbox;     display: flex;     -webkit-box-align: center;     -webkit-align-items: center;         -ms-flex-align: center;             align-items: center;     -webkit-box-pack: center;     -webkit-justify-content: center;         -ms-flex-pack: center;             justify-content: center;     width: 100%; } .portrait-logo img {     width: 50%;     position: absolute;     /* top: calc(-50% - 44px); */     /* transform-origin: center top; */     -webkit-transform: translate(0,-50%);             transform: translate(0,-50%);     padding-bottom: 10px; } .portrait-text {     -webkit-box-orient: horizontal;     -webkit-box-direction: normal;     -webkit-flex-direction: row;         -ms-flex-direction: row;             flex-direction: row;     display: -webkit-box;     display: -webkit-flex;     display: -ms-flexbox;     display: flex;     -webkit-box-align: center;     -webkit-align-items: center;         -ms-flex-align: center;             align-items: center;     -webkit-box-pack: center;     -webkit-justify-content: center;         -ms-flex-pack: center;             justify-content: center;     width: 100%;     margin-top: 1%; } .portrait-text p {     font-size: 4em;     font-family: Roboto-Bold;     font-weight: bold;     color: #9b9b9b;     -webkit-animation: blinkingText 2s linear infinite;             animation: blinkingText 2s linear infinite; } @-webkit-keyframes blinkingText {     0% {         color: #9b9b9b;     }     50% {         color: transparent;     }     100% {         color: #9b9b9b;     } } @keyframes blinkingText {     0% {         color: #9b9b9b;     }     50% {         color: transparent;     }     100% {         color: #9b9b9b;     } } @media (min-aspect-ratio: 3/4) {     .portrait-logo img {         width: 30%;         padding-bottom: 10px;     } } @media (device-width: 1024px) and (device-height: 1366px) {     .portrait-logo img {         width: 30%;         padding-bottom: 10px;     } } .portrait-text_stopped p{     -webkit-animation: notBlinkingText 1ms linear infinite;             animation: notBlinkingText 1ms linear infinite;     -webkit-animation-play-state: paused;             animation-play-state: paused; } @-webkit-keyframes notBlinkingText {     0% {         color: #9b9b9b;     }     100% {         color: #9b9b9b;     } } @keyframes notBlinkingText {     0% {         color: #9b9b9b;     }     100% {         color: #9b9b9b;     } } /* fix .loadDebug font style error */ .folder .dg .title {     font-size: 11px;     font-weight: normal;     text-align: left; } ")
    }, {
        "browserify-postcss": 1
    }],
    98: [function(require, module, exports) {
        module.exports = require("browserify-postcss")(".paytable-wrapper {     font-family: Calibri, sans-serif;     font-size: 0.2em;     overflow: visible; } .paytable-wrapper {     width: 100%;     height: 100%; } .paytable-content { } .paytable-content {     font-size: 1.6em; } .paytable-page {     /*display: flex;*/     -webkit-box-orient: vertical;     -webkit-box-direction: normal;     -webkit-flex-direction: column;         -ms-flex-direction: column;             flex-direction: column; } .paytable-page { } .paytable-page-content-wrapper { } .paytable-page-content { } .paytable-footer {     display: -webkit-box;     display: -webkit-flex;     display: -ms-flexbox;     display: flex;     -webkit-box-align: end;     -webkit-align-items: flex-end;         -ms-flex-align: end;             align-items: flex-end; } .paytable-controls {     display: -webkit-box;     display: -webkit-flex;     display: -ms-flexbox;     display: flex;     -webkit-box-orient: vertical;     -webkit-box-direction: normal;     -webkit-flex-direction: column;         -ms-flex-direction: column;             flex-direction: column;     -webkit-box-align: center;     -webkit-align-items: center;         -ms-flex-align: center;             align-items: center } .paytable-controls > div {     display: -webkit-box;     display: -webkit-flex;     display: -ms-flexbox;     display: flex;     -webkit-box-orient: horizontal;     -webkit-box-direction: normal;     -webkit-flex-direction: row;         -ms-flex-direction: row;             flex-direction: row; } .paytable-pays {     -webkit-box-flex: 1;     -webkit-flex-grow: 1;         -ms-flex-positive: 1;             flex-grow: 1;     font-size: 1.6em;     text-align: center; } .paytable-pays { } .paytable-button {     width: 4.2em;     height: 4.2em;     background-size: 100%;     cursor: pointer; } .paytable-button.page {     margin: 0.8em 0.3em;     background: #685b4f;     background: -webkit-gradient(linear, left top, left bottom, from(rgba(107, 96, 83, .9)), color-stop(rgba(101, 87, 76, .9)), to(rgba(92, 77, 69, .9)));     background: linear-gradient(rgba(107, 96, 83, .9), rgba(101, 87, 76, .9), rgba(92, 77, 69, .9));     border-radius: 999px;     -webkit-box-shadow: 0 0 0.5em 0.2em black, inset 0 0 0 0.1em #907d70;             box-shadow: 0 0 0.5em 0.2em black, inset 0 0 0 0.1em #907d70;     width: 1.3em;     height: 1.3em } .paytable-button.page:hover {     background: -webkit-gradient(linear, left top, left bottom, from(rgb(136, 124, 110)), color-stop(rgb(126, 113, 102)), to(rgb(116, 102, 93)));     background: linear-gradient(rgb(136, 124, 110), rgb(126, 113, 102), rgb(116, 102, 93)); } .paytable-button.page:active {     width: 1.1em;     height: 1.1em;     margin: 0.9em 0.4em;     background: -webkit-gradient(linear, left top, left bottom, from(rgb(90, 77, 63)), color-stop(rgb(76, 63, 52)), to(rgb(71, 56, 48)));     background: linear-gradient(rgb(90, 77, 63), rgb(76, 63, 52), rgb(71, 56, 48)); } .paytable-button.page.active {     background-image: none;     background-image: initial;     background: #9ce200;     -webkit-box-shadow: 0 0 0.5em 0.2em black, inset 0 0 0.1em 0.15em #60a102;             box-shadow: 0 0 0.5em 0.2em black, inset 0 0 0.1em 0.15em #60a102; } .paytable-button.page.active:hover {     background: #b9ff2c; } .paytable-button.page.active:active {     width: 1.1em;     height: 1.1em;     margin: 0.9em 0.4em;     background: #a1e300; } .paytable-button.left {     background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAFYklEQVR4Ae2ZA5AkXRaFv/syX1Wjuqur2owx4p/ftm17bM8E1rvdG9oNrm3bRnBt23a7XO9uRmdORI6VXcsT0Si+L+69J3GeMI+anJwUQimhDGABAWrRD0D8fUeUBF/GfGjBggVCKBWhVwznqGMk+MkqeAIl4/NnVX6oju9H0HI0WMnlciSp8fHxeHVageuB8wAD1AGfUC76scAfgQ8Dv7HWHhFWghdIQrVaTQCJFhcRzkW40dXJeJbqsqtYsfhKVnQOkbMWvzTL7B++x+++81G+9bdfM208jDreBXxfVQ+FRUhC8RkT+kS4FWWJKoWBMxi6YhO3jJzLAuMBDowBz4dUMxTGKX32JXzka+/h22JI+Z59LfDrZzzjGXFYZHR0lFNV8Nl4m9NiuAq4XB3anMVe+BjXnHkHF9s0fq2EGg/1fcQzIAaFOVjTnIGPPZ8Pfv7NfDOVtv+olKsvB2pJVDTeZkRYiXCLOjpFKC69ljMveoKbcsPkagU0qqAgAGFFfR+sBSSE9z0qr9nIq377bTsB1Q8BX1VVA9EaqnpyhCLxKubFcDPKKlUK+QV0X7SaWxZcxHKtg6vhrEXEIKrQ3g7d+RCwWIJ/TIHngSguk8d89xN88+377YeU6m+A151qReOAvgiXIlytDmub0DPv4Yoz7uTK5gypWhE1flRFhVQK+vpgqB9amkM438Bv/xj8/Bmsh/oWKQcGe+n99qWTf6v+IxirFwKl+Iye3CwKC0W4TR0DQGHoPJae9xi3di6ip15GDSGgCCCQz8HIMLS3gQCeCUGtD0bgWz+Cai0aA6i9YZN91a++Vf312NjoS4DC0572dAFUKpUKR1MqlYpXsQ3hBoHzVKlkemg76yFuXHgp54iAq+J8ixiDoNDcCgOD0NsFvgcIWC/83zvw18D3fwazhRDU+Li37rSv/fEXqj8be+7oS4HZpz01Dnp0SAWMCOcBN6jSanyqS27gwpV3cF1rnpZ6ETVe1GZCk3R1w8AANDcDGkL5PvgmDho+/t6hoLsC0M/Pgb4MmDkmaDqdNoBT1X4RbldYiFLoWsbImQ9wa9dyhl0VFQd+aBYA2rJhFTuyIJG7bQQYwSUHGqvk+SLcpYpLZ0kvv51rF1zBhZ7FcxXUi8wiCqkm6OmDrp5wQQFsHChp0K6uLgF0enr6AkXvR5kZuJBVK+/m1kw32TmzCHgWgXDBjk7o6YeWViKzRLM4X6DFYlEAzWazA2JkszqtLbuTa5fcwnVaRXHoXJsFEaC5LQRsz0VODt0ezWJjQJ8AWTJ0ma468xHur5VwxkOiNuNbyPVCPvhJp0A0gotcPK+g1toDkH1TU1Ob0u3SetEe3ZJup0NAjUGCHzIdkO+DlgwYiQM1DtQAriOXvWJyYuqGocvkrJUP6r2uhHqRq/P9kOuJrnzk0EUbDJrtyN4wNTl11fL75PqRK/UyV8aJYLI90DUM4qJF/EMBGg2azV4XtP76M5+UW3rP0fO0OjefpncBtHSAieYxAvo/aGNa/38zJX94+v8B//in0AqKNvgU2viLkv/4y7zkL5xvU1iEUuhazsiZ9/8bXDgfpbIiwvn/Brci/+E3d0cDjm6Xb1XH4L/N7fIhsMkEEE1EFU0sgDh6GHHqkU44Cuk0TM/CPybB80FcApFO0iGZEOVNHqRiIZnnUXnthiAk+05CIVlcIpJY7PjR5/GBL7xlLnYcD2LHlwH1Rge5g1ds4tZjBrkvDoLc985jkBvX2NjYkaLxG1ydtoOi8UFyfgovME7h998NovGP8a2/NzAaj6sBmw0JKpPJHHX7BvAQisbjL6r8QB0/aPj2TVy/+tWvEtsQ+yeFj0DbEzY4JAAAAABJRU5ErkJggg==') } .paytable-button.left:hover {     background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAFa0lEQVR42u2ZC0xVdRzHOZcL2L16ufeCcH/nrtdqOtemS6m2LN1cD9t62JZbpiGhFoqKyssH6OECgmBCIBpqms7UfDdrqWGQCKQQmK5J0mTzGRbqNQUB7/n1/V/vdaxoaHo5a3G2D//z57w++/0f939+x8+Xm9PplASd6joQBPoA/d/O02KzWCySwL1vtYSH9re+bA2xTjGbLQnmYEsyjsWF9Le+HRJiHYJ9veeaHpWVPIjNCF4HCnCARSDdQ5qnngFiwUPALyAgQPKt3a1N593X+UtDQbKQ0gdKC58ca9gUucFam1AZ1jivJuzMrAOh9W9kmkpsAwOWCmGcm4bLnvDezudRxF8bdN+TJL9M1BY88kzgyqn7QhuXtcqc327nvBaZC27IXOSSeQ2j7rS1jpxq2IZzU3CdAxF9WNxGURTJV80chAe9CBQRIWOoLuO17OBDGU3UkeOUOfM8qVlN5MptJnXZZVLznOQSFLXLvA7CLyUad4vrAoMCZqDU309BnbeC6A3S6fxmi/4G0QVDxhq2xNeEX8p22tlxltT0c5C8SJz1O2gmXnKF+MM/iAtaQCupK9qJizuo7bHhgYVwFP33KeDHzLr71cxWiI3zNnP4oID88RtD6h0XZVbOybywkVzpEM34lTgdfHSJeNM14m0Q3ADyQWEb8fIWcq1HVGN3WmohKlok+n41sx6Cz4MUMXoDjZIyMr5fSdIJalMu2Hl+A6mpjaQqZ4gFiyG5FlHcf4P4UAdxFai+SbyzDfL4HyKqrmLsO23XzLagJbhnspKm9LnXKD4q+Yvp5FYUHx/V59PJe8OaUs7KnHyS1Lk/k5pyiji1EZwmzmsi3oEofgOpEkiVopkPAiF7GLLFIqKi6VU3HQOGG4pw36Q0h2IQj2tvb5fuNor9EME3gehDqeYH9TmvLrPUJTbInATij5MruZ7Ueb8QCxyQXIOm3tNK/DUEgVu0DFLlHtEjEF3nFXXhfCbX4NHGVR5R4x2JdhLUQS4CzBVzoj/mxKFRfffEVNiuJzTYOe4oqXOOkZp4gjixHpINGCgXiDdjsOxuBeiHX6Lc24VodVeir9wW7dutqHfixkbYm+wdLPKwwOKxG0NPzzph5xl1sjq9htTZx4jnHAc/ES86hQciip9fJ94KtoMvIPqVj0S9B4ZB0v0zZwj1Xzxivrkq5gjdjK2TOaaK1FhIzjxKHAcSIZl7Hg+9SrwR/fEzsBXsaPGRqMlkkjwRjUAUs9yDZfQDm8ftCb8ytc7OUypI/aCS1GnVxIIZtRgw6I+FzcSfoKnXQnQ9yk2+FO20zJJ1OklBmRIxzXRgSrWdow/JanQZud6vhGgVccz3xKLJsxDFIifxx2A1EKIbelB0AlAGjjFun3TYzpEl5IoqJXVSOfFkAEn3qM5FXyyAXCHmx5Vg9dUeEGVmd8UUbLKhSDWE6LPf2hF+ObJU5sgDpEaVEUcfJJ75I7GCEZ0DsaUQzQfLe1hUJ8pgi+k5FMqAMX13RlXYefw+UieWEkd9h1F9kjgdYpnoj9nALXoZEdVE1Gx6AYXj6dnmiomVdp6wn1zvlhBPR39UIJWGRUUGyL6ksShG/SgUmSMU6w8Ty2W3aOS3xImnMEc2Q/Q3RLRX1NdN3zuYfDY99U74PvwJ1WpR8s6/XpT835d5/7BwnnR74Ryh7cK5u8hKWr+K3PvLXZ7WL3fdvy5P0+B1+T+QgNAipbMF0d11BykdzZNk2ZDNFT/BXSXJnu0+SaZ92jHBuAvXLfSkHf21SOSu6JzIze8ikTui20Su71PjSX9NjccjNT63Jux0nCc1Hj6g69R478eGu/l8A5JxbKbn881gH3y+0e6D2J+l2T87wcA5sQAAAABJRU5ErkJggg=='); } .paytable-button.left:active {     background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAGCElEQVR4Ad2ZBXMrRxaFv3t7ekQW6zGFmZmZmYu2cOknLIP3FywzMzMzM2NRmGM9NG0sae767fRUTaREiWW/0HV1DZi+Okd9p/uM8CyUmSlgYeQrf39siZlxoGp2dlYAciAOiMJ1L3dfng5W9u3bx1rXli1b8oAqwtHAccmADUAZGIiwRxz3WMKfgF1PByvVavVAqrgNuArYGnSL0WD3gD7QD8r+BPi19/4pYcV7z1pUv9+XoEoClES4xIzTzUgaW1l/8Jmc0d7OIVFERZTB43PM3P9X/nr3H/h7fwkvyq+Ab1liTworrL7ygIhwPHC5GfW4hDv0fM7bfgrnxEV80gcVEAXnMF9Eundz9+8/z+fmdmI+9t8CfvW6175uBFbe/OY3M2kt/27e5o4oV1nCEQj9jUdx+OEXcVW1Tae/hKli6hARUAUBE6BYRXc/wL0/fT+fSJb8f/uD3vuArllQdjWzXkTygBHCucD5GK7SpnbYBVy+4UiOtwRISJxHRFLIKMr9ogMbMCjVcf/5MT/82zf9b4zeb4DvhJaWTAyahxThEOBqMzZoRLLtVE7fcTqXxGWKSY/ERYg6xIBSCdpNqFTAEtizF+bmQQXTCOktsvuHb/Pvn9/Xe3DZqfcA/WHrJ7G5KsJlZpwE9Jvb2XbI+Vxd28hW62OisB9S+P+RZgs6LYg9EJTE4P6HYPFx0FRp++1n/Efv/VvvP9PTb34XsPCa17w2sx9ZWlpiXMVxnJ8sgnAKcClGuVAh3n4mF288ljPUockAizyIpjZPVaCzLj2KgALqQIA4gpmd8NjycILFZeSvX/Vf+s8ver+efsub3w/MvebVw6DjIQEMYZOkNh8sQm/90Ry37QyuKNaoWx9Tl6qIQBxDqw2NRqqeCjgFF85FwEfQ3QmPdMERQL/mv/Kfn/d+tQz6vmcMWigUFEjMrIBwAXAOhlU6tLedzVXNbRyBpV/Oo6ogCrU6tDtQLKRAzgVYBScpKBIU7cKjO1NQX5oANChpwHYRbjaj7TxsOolzNhzH+VFMbAPMBZtVoFiBZhumqpmK6dFlkJopG/6Hg5lMUcF8cYWgnU5HAFt+FB5q2EswqG9nx5bTuabcZoP1cjYDkYd6C+rN1HLJAYZjgAxDQQDvUusf7oKCxSsBXVxcFMDq9XpLVF5picWbTuW8DSdwmRhgacsRRVShXIV6G8plUB2GG7V9GPSx/dZ3QVYBejvIcetPsFM2n8p1gyUS50AjVIC4CNUWTNXTf6iZglEA1TCGFc1Z7zVYPwPKCqz33meQ65eXfi8rtWT9IVfYK1QpSXj8qYNKHWot8AVQyeDSo9NwdBDp6OczGwRFZ7oBVALoV58ZqAJJvVE/d9/efZdtPEnOW1b0sqRHohHqY6itg9JU+McKkYcor6aCC0cNSmYTK7NfBMTAR/DYzGpAa/VL9s3uu/yQy+WGygY7xhISF6GNDVCsgpKBZeoNHfOfVc1G1j/DEfAugHZBmQC0VqtfPDu775rDr5c7CjXbTpL+kdYWcBlQpqIPKuagnY5OKCfD1r+IQSewPje7h6wPgCuw/oBPpjDSyTQEm5tM2XkAnXwyrWV7CgpHecCs4Y9aTxwa/opBhxr+HSDHZg0/WSLRsQ0/B6qj9uvEDf9ZeIQGRSd6hD77i5IoADpwEyxKnu1lXrB/zDIvrEfXauF8Ngb5hTMJBljkUXmyhbNmfXV05vts4RzWo6Ogk29FNgpcM7wVKdWoJ0NbkUKcqttspPYLQVX3RNBuNyiqWDw56OSbOxUEhakp6HTSo1hQNNvc+aDoxJu78cDjt8ubwnZZwPncdrkJnVaqNEHdNd4ujwceCSBOSwOIQoniYCSASGErZTCD3XueGEAsLbD7R29ffQAxLowYH+lkvTeLdDxpGbjRSOfXRu+3k0c64+OdiUIyBSMLye7n3p98gE/Y6kOy8bCrjB3vWo4dPz9B7DhZTU9Pjw1yDzmDM1r7g1yfBbk8FoLcfzxbQe5wPdvR+ORVLBbHvWwohZcNe8Vxd3jZsPtZf9mQrwcffPDZfH2z+loWY9UvxP4H7rwRvfI8oEEAAAAASUVORK5CYII='); } .paytable-button.back {     background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAHeElEQVR4AdWZxZckuRHGf6HMqqaBnh5mZjQzMzPbN1/tk/8Mn3z2yczMC5dl5t3h6WGeaYaqSoUrXyhfqXOza5niva9DLelVfKkAKZVCSUZHR4s+DdoBNV5ZaQIek7J962wTo5DNmzeLqhaT1jnHfnFsUGUxkPDKSCbCqHrOeM8TwDlA2hKTRYaGhgC4ceOGhIGFwCeBg4ADpgDPKysO6A92HgP+A4wDgZM1aJMVQEdGRpaDfg9Y4T0jq7azYsd72TWwhEVJ/RVazgZM3mTs6J0cvnSMK84xCFwB+TlwdXBwUACVEJO6ePHiheLk++p1Wb2PmY/9gI+99Su8s02yxqsgkyM0H/wj997yE25pTNPrnFzzXn8KjOccY6JfA3lLvU8nv/ljvr33Y+yaGkGzFgBKSaRbxwsXcQn0DyJP3cLh3/yIXzWmZQD0IeD3OUcH6KbNm9YDB4DRj/6Qj+36CLtGL5NlGYhD2nCSQwy0oRE8beizkfm5aBXIOmjm2iO5rdxmbjvnAIwCB5YMLVnf5qdp+w8i7APcqp2sPPQ53jFxHRAS76HlAQEnIIbubRc01hbA5VpCOx4XcAk0m3D1BqJCMnkdcg4P/4WHLx1hMnA7mw6fGpYt2/IVZXrrO3lzz0LqkzfxSYJremh4aLdJBRIzHgyE/mA4SYxE4iBNij77PyCMW3/cV09Nn74ACfj+JdTbXHa2id4ljvUnjw9LCtRQBsknDLEwy8C3AZArmS8e1aAamtH/PnhBpBgzOA/qwhxnEDHCvTWzK5jOuQA+cKs5QFRtsZKUxGedH0YjUrHE/d2BaOHmajgJ5IoHBbIMci4xtzQ27z34aEXVMZ8YgbQTky4J7YDQF9xrY3hQqkXVCCKBgwei6Snlyd6gYqh0eTDcmAoJInEMGqQUt/UeGFgIUngLqLKNmC7mVBPNoQEhnqQ8AUhSOPc4nLgHkroZt4yfvyqkNVi9Ffa9DwaXg7ZKC1DYjvT8RGPXK5BWJZKNt7c7ZqehR6PyRZmowTnwLTj+EFw9DR/4JixfE+zIXNsiptVDLK68/N53oFpBVC32VmyFtA5YbBqSMmwuCq0m9A7AxA2472/QmAEnoJgoke2uro+JKuAhKU1GDFkL1h+EpRtAW1FNNFhbOm08nDsMpx+Hnn64fh6Gn4C97zbCAqBhRd3zIerNRZqBF3AKSClGXdAeFi0vFfcSUUsmm7N2h/322aeMzOXTsOsdIIXrC6L6PF1fwAdNWSLyWctcWqAZdIysaaumChv2hDImMD1hYx2iEbzpeYl6b7UsoJqoRHzFAJ0yJSUQtCqkdSMKgUxFHTUYF4CudbTYApV5REFc50Fq9dCtdJFot2P+Ouowrfr8s74LUxtPayACV4dhdqqT4fNJWOFqL+kLzPoCBC3lRAq63gvj16zoXz4KW94KBz5uRlzFQcU5aM5YXIfTl/Gr2myU7kR9FCdVrlQPSS+Ih5P3w+mHIGuY0cZ0WOE0ZLt0dJpaJg8/Hoh76F9ou5pvzo1Rh2n/nOXJ0CEq0dZZh9ELcPIeGDkPaQ8kbfiGuf78YTMU7/VJSKRzz9huVu+1h1q1xVY5U5CoPHkJrvfPo476rOgIKuxG5x4zknhI+4KBDFwKo5fh4b9Vb6F403mxn5mENdtg415ozoZxgJhoq0sd7RYnRXm5dBhaM1DrBS0lmwAUxDqwla3Zw0yPw9K18I7PQ5JGHpPY5vM8lLRCjBakCVoEtr0Hjt8Jk1eNLBIRtVeMeU9PfQth3Q7Y/W6Lz6xl86EUo2IcurreRyUiJlqcaAbXwZu/DGcfsWOeb1rMtRqwfCMc+BiIzk0mCcnU19/GgBHImhFJrT6UdE0mPGiBeEUBBLKGZfaO98HKLXD8bhi9CJoZof5FIMREO/u+YFtpWpyogKoargF0i1EPZNoBgJR3I2/1cHAttG9S2Pk+6F0Ig6sBNZf6CFmUnCJUihSuj+C7xKjEB2fVUnkqvYZkDUuSLW+HjQeg1tOJMarQRTQ+tEcH58gqaWhkgLSaZLb05R0qID5MJKCZlZg07bhOkrlzfcw1egsg7lfr05xg8FrOJeKmKdAUYQRYMTPCuI9OTo2Z6KIhaCehHb9lWsJY23V0Wn1GzfutT0zX63BzBFrFITyDnAvgArdmCqh6zgIbrz7DkZkJPixCHeDGZXNDvQcAXPQOJIC46lIUdED3OUkKUxPw9GGopaDg2hwaORegL+e2Ob97av9BlSeBd4+d4/LZe7hv04d5X2OczDvclfNIvOcXTSr64g6lOrPnO4fX6yiKr/eTDN/OfTkXoD9wIz11aliAs+1rx8cF3nLsH9zSN8TyFQfY1ZwKr/dSYdfxgkW632dQGyC5/CiHcw4CixUeunnz5lm7H624yE3qzGz9JB9b/Q7eWeunxqsgzSmaF+/j3hP/4ZasQa84uaali1zyjwzF1biGq3H1jCxYxYqhneyqD7BIUl4R0RY0Jhm7cYTDE5e4IuFqXMpX42+ojw2FtEnP+XwjjgMI63mFP98gjKKcVc/jXT/fxHLq1KnX5Qex/wNphIM3i8/I7AAAAABJRU5ErkJggg==') } .paytable-button.back:hover {     background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAHkElEQVR4AdWZBYzjShKGv2o7ODewjEOP8ZiZmZkZxXhixieG4zvRMTM/ZmaGectMw5PEcdcl6pLSsta7Oyc9KukfV5zS1O+/y1UdWyjY3NycmKt2dECFp9YywJtfyB9MesTAbHp6WlQVC9ruHJdKIhOqjKIkPBUm5CLMac5u7/V+YC8gPYvJImvXrgXg+PHjYl8MA+8EXmBqLgOep9Yc0LQ89wL/BhaAwMkcemQF0NnZ2Q2gnwM2eq+z259f2Xjpe+oXjGx0I2lVeCqs21HmD/v5+//RemTvfdlh52QMOAzyM+DI2NiYACpWkzo6OjrsnHzVe11fG5LWhy8bedsbvt585XDFVVBQ4SkxUUBgIfPZtT9evuWP356/vL2kdefkqPf6E2ChzzEm+jGQl9Sex9K3/rjm0y99W+OCxdxr3gVA/y8SqwiVFIYTJ3devvLIdz984pedRYZA7wR+1+foAJ2anhoHng869+HLht/2oh7J48s+z3OQBOnBiYGTQEuQF9DtwxkMWTiKz6Gf84W93B/pcehzAZ6/Zu2a8R4/TXt/cCKXAG78hdVNr/7y0CsW2h5xJN5DNwMUnIAQ4ACRyLfP5kexhc/mu8J3GXBEERxJP3efww0/ad215+7OknHbk+7csVPOPmd6HFi56B21Fzfqrjq/4H1awWUd6GSQCKSEo8gggZ03345AOvAHMILm2/kQVxVwCrs8uAw/POyqPS7n94jeKI7xmSd2SApUVBkD/PAmN+wBcvACuTdiEhVdwVcKKHRujeAKMZ4B+bqC5pYbGN7ohgFv3CoOEIuVtCZJDngNOK3p6eEUhNPDA+rDMQf6XIi5xWm9BXq7XC0lawncoDadGIq+fRYJDLSkHaiGFSTmAIpZSjE4D1ABpdxEoLMC4gf1aEerZTtnn6tVGGqAKKgvkJVBbrzlt+QlRAsw1YrLnVRgz4Mwc5uSpiBQ3hFM2X7clnG49KXC6BhoZgGYFXOXE7UayU32HHAgFExCzKEZJWuB1ACNyRV8UzrvwhMPwJF9yhveDRs2CL4LyEAkn4MYB/UQmysq6v0AqichquAS2DAVlMWBJEF550AK6McC5BnUm7A4B7deBZ02OAHV0tzlisaBCCQJUDQJNTRxibB+W1jC1GHqFWrUfLyy93HY9QhU63D0EOx4TLnk+UKnY2IYUYk4mJXfTD7HlDt1WxpZb82duOHHvtWnE7ZNgu8qe54Iyh/eD/mlgx6t2NKX3Eyu7GbyCgrlZnXXzU6FENNpgSpMnGvlIbCyBN1uRNS6QcyhnKhdjSEES7mo8dQSU1EKwDqHKqQVwbkBqdhUC7n9qWpUB3e91U2pCYMLqVTLB4QQmWJW3vBFjYOu7q4vNe8JPVTg8G5oL4NzUDQtY108X5o7JqpRQesACkhJ5modFo4rd1+u3PJX5fE7FQR8sc4IR+cgayt5bmWSYPzKc8f5UuJgj+1gyusoqYbvn7xL2XUPdNshaadtCruT3fVhWXc8OliN5lDowz6Lc1veqEa1rI92PeQWpPHlSiA5d1CZuRVmD0BagbQKeRbm/v4ZtdkfERUgh71PwIGdYeZnLdg8Dg7IdaCs1Sj5mfRRH/VRzJSg2t774cnbQLtQqQ2USFKYOwJ3/CceoQYBfPBrNWitwNZxmDxXyKL2hLfceoZ91BvighYJhA48FuZ7pW7fKZFZUoMYhFASSRJ657qN8Mo3C0kSkRGrUR/VqJ5WUSMpFmwkJYFzXyU8fpOyeASqNSOmAeKsRjn5BqXRgPFpuPCFQrMZBkHigMKsN8JnsnsKUIkVDefWbIGXvE/Yfbey78EwWapWoxu2wfNfL4iHpLBxThNo1APIjaQYyaJIAr4Letoa9bGiUWN30M2Caue/Stg0pczcBnMHQjwOmsMMiBZ+wIlaZxBTMrY4t5T00eJkikEcrINazTp9dYWXvlc4/5XQGIKxDQIa1PJ5AT6u4fIplxfzlygq2KwPtVIymazm8iwoc9aLhMmLoFKB3Nt0EsMZmhaXPgd8PLPAASpCDmjW1jze5Wu0LEXAQF2XBL8wlSKVSsBAOSnsh/tcYm4pkCHMAhuXjvgFb0QV24UnQbkUrPbML04fsXNlcXKSOMApVIETK1Y2LhBdOuoXAGfcshRQ9ewBJvfe2n505YR/M44qCsePBNLVKqDxj7WyxzV2pKxNFf9HIL3cgYcOQsWBF1yPQ2fvLe1HgUaf2/RZ05r2/qCqDwCvPvZY59Cjf1+69dJPD79u+ZjPXYo7fBBRLdupFc6dPq50X1t1KDm+sc4l9/9y4dY+F6Bp3Eh3PLlDgD29x473CfKSO7+/cPnwlnTDxBsbF7TnvOLjn/inuU+E1ZsCigDU1rpk59Urj/Q5CDKq6J0njp/YU3w+OixOvqpe16d1ab3wqyNvO+c9zVfWRlwFAZSnxux/t+d99sQ/lm+55yfzl3dbWhcnR7XwIJf+Swbs0bjao3H1Ojs2Xdm49eX1C+pjbsSlwlNhvqu0Zv38/ttaj8zuyA6LPRqXwqPx59bLBsx6pCV+fSOO54vIODCqkDxFK58Dc6rsUa/3nfb1DWY7dux4Vr4Q+x+umdCVNIcMbAAAAABJRU5ErkJggg=='); } .paytable-button.back:active {     background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAHPUlEQVR4XtWZzWtc1xXAf+feN5Im1owsRaplybZs0tROXDdp0qSfWvQPKKEueBm66Kr/TwuFLkqXXRhKd4FuSgi0aamN7SR1aieKJFvyZzQaa0bz3runIw7DgYdGPApe+MDhnvvgzv3N+bp33ghjRFUFEEBFRHkuUn+vQ0E7nY60223F5xHIeD5SDPcqx+w9HnQIKEMwbbVaDYTXRbiIckITTeqIAEptkUAPYVuVWyif7O7u5iOG8aC+zQrwM2AJ6AMJCDwP8c+eAu4BfwHWql9Zqp4MIVwCvZIS5VSLuPIml+ZOszzVphkEqZU8VdHDp6pov0PvyTqba9e40d+lDIEI8qeU0g33LGSVvFgxSO2fvMDZd37B5el55lBUlREm4nBIfVAU3FazCei5d/je+VVWP77K1fuf8WUIXDGsztqITTBhmJNhmB+/Bpk/eV5Prf6S9xEaZU6S6EASKnAy3rE6DjTZoGaTEmQTBJT8b3/gj1v/kQ3QR0Om3w6ZEkCmqkFEEnAJWGq2SG9d5r2kNMqCFCJhBIfYSACpQsoRdaUg6rYGGwVIJQDkA1LIaLz9c97762/4XX+XJWPi+gFjBqh5iteA/dNv8N1js8wP9kixQVAgVwgBYjTIGCAEfxbsC9gzAZ/bKJgGt10UHj+FnQ6hGJCOzTF/5g2+fftD/m1MXAc0ExEd5kG2vLy8CKTZ05wqS9AACSjAQAIwgskw2AhRbDTbYGLwNSI4PKYBlwg0InS6oAWUJRwwAP/SxOIBm4gUGSZRlZeAMNViOpUgiqAgBjQaTQNIBLHRQILNQ/AUEQPGHrl3AQ89EKJnUVnAAYMzEQEDdUFQgiokhehxGm3sY3AQn3vIOSr04nkrgMqouExRAhWpgpJGC4CkDobDgHmXxoTBZOZZonj+itkGGMxOBWjh8Ebp4AZqDEeDOqTZBuqFgUOmAtY/g3IAMYNANS9BxO3JJiyehdYcFAMQXEQgGaB1h1QDFLWWQQIPNSYGS9aAB2uwfh0aU/bModxb4qGGBBufwoXvw/KrUOy7VxFQA0TH3BUCFUkJc7+pi7gq5qHGJKD+XABw28ML2aQ54NaH8GgdsgkwTgfF960VelOz8WJyTSUcPwWvrkK+h/dVLzAiHo1iH7buwGDPYO5cg7lFEG/8I0hCAq0DaoCu1RNIgif//ApkGUTvo2YLDo4V2zdW4NoHUObQ/Rq6OzDzss0RSL5nTVA7e8EXGNghR2aRg5agmcGlYFoFLYDZRVg4DZu3rfh6u3B8wR2Q1PYVqQuqntiSxt+SxEMLZh/aawPegiaaZqPeUZwU1GDrV736IpQxIj7EhgN5tVfFQMZJ8qpHa1W9YjomqcVTxMIb4ckmPNsBie4xZ6p3d1X1PD0S1AEOT2r1EQXiBOzvwecfwc0P4IuPsXxNHj6zffF+z1tZ8H7p0bPxyPbkIOobavB8stGL5MHncO+WtaeQWWHFBjQyEPHblajZjzfg4VcQrfBotgwKwR1UGgepZjEl94SLQdLrwP1PYOeeAWaTtkneg7VrBmfHp49FH7bvQmlnPe0TMD1rVzrU9ywN/GiPyphcUQxEJuDZY/ji71AO7FRCDFLE0uDuP0EEVwAMuDHpx/I337J8TgMIld6d6jV8LySSn/kmBpj3LXxgYVUcyC8klZaFrZs6Bhd+AHMn7bQKgqdVqlY9SJ2Gr8l7G9gJMr0Ar/zQQt/btWteFEhq9swJm0sl9DHCseNw8hxMz0C+701eFLCwm4McFK3X8E0ZzbGcmlmC9gJs34aHd22DEMxb538EWeaNPnoxERugBQYpoN5CbEgOrqmORxVS6SeTVaHnV9G3m8+ZN2F2Ge7dhJ0tX1eo3/C1xMIrFhER/KSiApmwUSBR85pnixxY1edg46APrQU4vwqvvAunLgKAlqbeFyt9taJeRNjamsWkmkijheKQJM871JS8b6Fe/BYIWC8NmKhHAQC/RCNqNuCetTwF+6JpnEdLhD0gDZ7RVQUt0NI86hubeirYSvKedQS8gj1+ycBwRRyQGK2/lnYTUwUGXbrORDl6UyJDKdrt1hYw091mY+Ycb5cKmsPTbZiZh8xOGvI4uiD773dv8hC9RY2KyrsADok9RxP89w7s2xclAN0HbABBhK12u12oqmS2DlXlU+A7T+9yc/41fpy9xHxZkro7hGe7Bge+Ez6AuE2tW1PlRCogQJJI6Hd4dMAATBoTAJKJSMLkBvCTvMfC+kf8eeWnvC/QSAVJBJJUgJy0vmgV3H/fEwkpkW8M9857FMBDY4IDRqm+dpQgv9Kk/eklzi6/y+XJFnOqlV8lgon+f7DqNiKoBGS/w5PNf3C1e48vJciUJv094K8dD3uRq+gVTZSNJrF9hkvNl1ke2k1AdAyY1H+Pi/hDzXv0eo/Z7HzFjaFdSiBK5UXuC/FqvN6fDfA6wkXgBEqT5yFCD9hGuQWVPxtexL9vXpg/xP4HLUBXshYgdjMAAAAASUVORK5CYII='); } .paytable-button.right {     background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAFXklEQVR4Ae2ZA7Bj2RqFv52+Gc/V2LZt29O2bfMqaNu2bdu2n22bOf9bXSf36eJhkk53VZ+qL8ZXax+uTUnLr371KxeHOGniEnGxCAhEkc8li2JfzMrKcgKRln1V1mNXXZ1VJSszq3VmZlZn3XfIzs5qqNfe0/11wv+8D8miyAvBYNAJgFtFc9FdFIiwiMYpEBEREp+KywWA80n+4gTOuYcCZZzEXMHVt7n+bzZz62uMdKcbTHHfqT3efePjkDv4wFtuZpmgywcX1Wc7BwLuSecviEDh40RB4YNQKOQESvM2FyAC5D5dgXmdN/OH8BEsZzfWZTvWaavQfYctWKXBfOPGhxgF5DhHDxegLo7rRdLTTbvo4mBLoOClmizucRzLlWCnTcTO0HEDXrt1eK1WEWuxHK/Neqz5Cv7yalO2X5rhryKSDYl3gIshwcJmFhAAz0AwestjDAvv4095kuy6Ha/rNiW4EWuzFmu1Os4qSS7Da7oEr+U6rMZEfn7vm8x2jhygu2Tb6vEDAgEQSGTC9RzBULWBHOx1EsvZTqzbDqyzhrvPYWzoaWzAMazLFqzZMoku1/1SvIYLiDVegjXR8/fzOZ19O4P/aXWoCmQnLF2tn5cAnTOuDvbptoXfhvdjebvwtF7aiK9gS3+LLfw1Nu8X2JTvYz0OYC1XYI0XicVYg/l49WbjNZJwzRn86ckqrA9eQggISzZX0q8Aaf+38J///GcnCIdDlwGdbn88OCK0j78Iy9mJhfZiiyW48FfYnJ9hM3+MTfshNlUM/wrWaaMkFyBRrP48rM4svFqi7kLs0/786OYnmQzkCKVLcxx3iP9etohoJHQ5Er3vxeDYyEFiErQcDXvPQ9iS3/iic3+OzfqJLzrxe+K72NhvYVGl23QpkhSzsVoz8apNIVZjJlZ9BvZiCw5dcS19gTzniOIoC1z5X6ZbRPQKkOhLRUWXFiM6ScM/7tvYqG+Ib2IDT2EdNviiNab7VJ2MV3mCpCX82XB+d+/7LAukkQ9EJdxFPA0ECoWTI6pEx0t0tCSHfRUb8mVssNAqY40WS3KKT5VJWIWxeOXH41XU8ze68e2r72UMkIOjh2QbADeIwgMFxZEQ0eFf80X7K9V+oudRrN16P9VK47GKE7ByY/A+G4FXdhz26Uj++mg1dl2cQU+gQB5h4KlSk02k6ABJ9j6O9ZBod9FtF9ZgoRKVXNnRPp8Ow/t4qKTHYG9155c3PsOseLq9lNzTgvT0dCf4ZxIu2ueERI9gkQNYgcjdh7Vai1WZgtZTiYpPJPvBQGIfDMb7cAR27ydsAHI18CHgRsG/nzomT1Tfy9+vVM8c3fZg7bZhdeZLVmIfDcY+HIK9NwDvnb4SHord/CLzQaJQIyWiOZLsvBNrvx1rK9nGq7CKk7APBiFR7J1+eG/3w17J4xcXp7veQJ6G+nqBmTmBOAuJFopKsvVmrMUmrNkGrOosiQ7E3u2PvdVLyQ5CqbqFQCgjM/1lgQQDZ190u0S3YM0l2WStkl2PlVeyb/eRaG9iErX7yrkdQCQ9I/1tkTJRP9GNvmijdViNeWjofdG3B2CP1HQHgB4a9jfFBdFkDv2FjSnxu6cLO/z/5hA6KAWH0BSelKT+NC/1J873/cuJc/3knDgn/lLEFSZ5Hl7cpf5yuVnRy+VkFBCSnffzxBUQia10dsYrnSPYyK9ig06ksNIpUpI9yrDQv5Vk7TdiavKs9TlSkpWJ1475L9Zg0TlXOwLFF7nl/6sid2Qqitwi1fhVqsbfaOpX4/WnuG/XHldsNd7prFXjcc6byQaAf5++efTM9I0et8pK+fRNUc65CbG/AYc6jhOQDTQ6AAAAAElFTkSuQmCC') } .paytable-button.right:hover {     background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAFbklEQVR4Ae2ZA5TkTBeGkx6rPbj5bNtr27ZtGxmtbdu2bdu2NWbn/m+2s+z53b093zlb5zwnlWo9c+dWpXIj/LMWExMjaggansAX+ACdNub4PheR4aDJZBKBADwtFvMPlmBzJfRbGg2mjkajqZ3ZYq5vDTYXNJlNoUB7v/YZF+Ew4OXlJQIB7X3QFESBniAcRGr0BBFABiVAAFCbqOHyJgJBFMVvdB5iuCoU9oXXgJLR+g2tNlrPdD4Qcr3drpDLNaaZD/1U3n+Wp7fYQxXHezuCn0V7E4Dupb5TeN6RZVkEakQ/EHVPo9UtZ2P/+YNjwpIm8Ds80ibxsGSJBydKPCT1HR6UJHHjtdbLH/7hPRrv7YqviMbnauNPDQMuj66nt49XczWSBdoHLJmsCqZCLoZsKoMek9L/ISm975It+hYp/WIkjrpLacX7GHYEWHVR6ucgK4P86Ps4PR2YWQcEtN/gGvlJVu/hY9MoZVQq8bAkUoYlEg+MI+77hLj3Q/AA3COOvElKxA1S+sS8w20PhD76obz/HEh2VfNapxNaI8pfAQGoTefMCNeBqNx0kenQVERzRCLZhqcQD4HoNDAfzIonHvoIkneIo0AkRHtcJpt8U+KIexJXnWE5E/qV15CX0qEy9MxOSwc5XPbFoaMxzKfv0Jiw+HFMjIgqQ5OJF0F2fzrx7jTiHWAdxiYhur0gKl+30/0yKV3OkyLffoc7nKaUnG2DNngHiDK+Mxyy3UB29D3/53RITU0VgRAeIfvjtMPnWf1HjlUoDfCIVOKxkNyrSW7D+WawAaLrMb4Q0R18F5LXwGXibpeIO50lpeM5UrrdkLjempC7n+bxnaJGF0SLHljuROEjh+j+l6IBOO3wfaGAcROYbGNtdtHJENqniW7H+RZNdLXG8iTiCUiFCMh2vmCn4xlS2h4nW4fzErcHxQaZDhvf8+yH7++OyEaC0ugH/Yvo/kvRwKeihR1F92cgugasgOSSRIDjbEy2gbchep64/RlwmrjNMVJaHiGl3fl3uNHOsISfawUu99DWXsh2Ar9qk0xtostEV0JwKUQXJBDPA3PBWES35yVIngTHiVsfI252gJTmhyWl1el3uPwM6zXpF++xL022eugTeHahEDLAOaILwTzk60wwA0yOJe5/C1GFLCLKLUBTyDbaTUrTwxI32kfpOboYd/tbPXppa284jr/8i8g6V3QWmIoUmATRiTgOf4hJhpxtfoi4yX47DXeRUn8nKY0Pv8OVl4c++bSQ32wtur0RuV+BoNfrRSC8hPNFp2mi42OIx4CRoPctewo02gPR3cQNIFtnC9nq7JCU+vvf4V+b6Deql2ydTpRxlIDw2tbRhaJg9BNEFQyLQSo8UlcEu2y97cR1Qa3NpNTYQLa6e9/hL0oFLNB2Y9XcIjoCDIHkANAPffk2cvYocZ1tEN1CXGMjZDdLXG5h6GN/i2cfdQnTG/RhQGBmEQjgzUR0yGO7aB/kbDSIRL/NOYhuJa65mbjqWlJq7XyHPy8VuEiNqsGkzwa0PYg7REHUA+JwIGOs2THi6huIq60jW81d7/DvrY071Q25wajPB9wrGq2K3ifuici2v0RcY5Mmul3iHLL5oHqpxSzPA96Kuv5f/3YyOXN5ervgu/8S6rxNSRV3bUrcv81z9sb511c2znWds3F2/a2I6BBJt93cDf5vb+7cf7vc5F/fLmfuAoTzSzqLwRw3lnQci2RZHItkAzBZ+j9RNxaZo0jmoZUdexRoF7A405Ud0TIs5ObIoJA7xLGQO8oNhVzH0njo5/bSeEuUxjsdCLnWNuPSeIc3VhrX+Ns8bFDb649vvtce37QwGjPR4xuNTPdA7B+b6JwVKe5lEgAAAABJRU5ErkJggg=='); } .paytable-button.right:active {     background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAGCUlEQVR4Ad2ZBawbSRKGvxrb4Ty44DKIjpmZmZmZUczLKGbpSHyCZWZmZqbAg6Dhme1pqPO+6ZEmI+feeRMvpAwttejTX9U1Xf8IS4SqCiCAZ9/I7I8/RFXZXzSbTQE0A1YKqwVcZh9AxwraaDQYFkcccUQK+TqJeJc6jlVlCigAnajAbuBxVZ4C/LiBZe3ateSj1+sJoMaYDwKfCEoWKVAEBI9HiQGAOeBqYHacsDJ8D5VIvqSeDxWXYY57D2896u28ffkaNqinYC3tygxbtt7DvQtz7BEhEuE+VW4EukAE6MEElkGQxkknnSSAnnHmGR8ysfnSmnXIe7/L99Yfx3GmhzqHqAevEBUh7mFmHuTOF27j9riLE6EOXAc8BqB68IAld7pVRNYXC6XfRcvMio//lp9MH8kxvSZeAQXxHlTBO9R7ZKC4NCuUn7uZq3c9zXMoRYl4Vj1XA+V8ORwM0AjwIvIFofSBt33ZfOANn+TT3TpOChSsAwEArE1gVVFnUCIiiWD3Mzz2/K1c167QQHDAbSh3APZAgYVMnHzyycXB7w+rJ0pHfPpv5rellUx7i3pF1qyGqUmQCNptqNSg2wUhUddZNCoRxR162+/jxtkHuM9bIhF2A1cBW1RfOqwAxHEsgJ511pmrTjrp5D8d87bSG97/A/NzaxGvsHI5HHU4IGAdAMQGylWoVcFZUBZXVQ9SRBq7mNtyG1fVZpgFiiI8rMr1QDOv7uigZ5+55qQTT/7tGz5S+uDbv26+FXdQp8jGdbBh8IsDkHfgAVVotaG8N1lVQT1qDUQFxDv8rie4d+Yebuq3iRE6wA0oDwKa7w6jgv7uDR8tfejtXzPfWAQF2bwe1q8DE2rTKzgHzoPXROWFBahWII4BTdT1LlG316A+ey/X7nmKx1UpibBV4SpgJ8PLYTRQ001AN72o6PpEUVJQBe8TSOdAFXp9qJShUQf14D04g0eST22WZ2fv4up2mQqCAHei3Ar0RSQC/P/so/1+fzhoD3W6qGiSegcAqZIuhXEJcKpuqwm1CvTa4EM5OANSQGxMvPtxbtv5MHcu7gkVVS4CZgABdPTU91APcliaegcK+ACawqag6aqalEC9BvUqWAOQKYcS0qmwe/4+rqzPsB0BQf4DvDB4pA+FlYmJCcrl8n5BFWTTeti4Pgs6PP15aO+h04F6BTpN8D6oa1GESAV2P8r1Ox/gdokkVq//AKr1ej0Piww2Wbly5X5T70E2b0hSbzwAuLyiWdAAbm2AdWActOrQrELcAwW8xTsHhWVEOx7g8j2PyoOgjwPnjQb69QCqATQoCinkkDpNVxuALaTQXsH0oVGFdj20OIeqR7ynu+Va+We3qnsGGf43sCcPK6qKMWZJ0I0bQnsS0EzawwFKgFNYm6xB1QTWgA+Kd1vQ2AsmTpSNSkQDRa/f9bDePjE5cT1wR32hHgH+/wdN+mgCmtaogmYUDb9srQbI7JopB6DXhIXd4CxeIqL2bnlyy3V66cTaieuAG+uNAwAdmnodcpCyJZCqa7IHLdmvzoPpoURIvyEzz12m565dO3ElcFPj0AUNNTpS6gNQNvUuc7DGkPolDlPaRxMFw2HKQabQBtxYD1MKuh7ifOrDz2YgA1hQcNztaYSG74el3QfQJRq+dxDt2/CfAM4dreGP+AgNio7/ETr6pSSAumS19hW8lKT30eHXvJD2V/6aF0A1Sf3is94OOfGhb6rPX5yTnzV4QIjyF2cA7jooF+f4RVAfRpE8aApIkvbaQqJiPzeKREWkO3wUuRLYlR9FDmC4y4wiBhRwIc0q0GpBuZysePA6zuFuhHHZeQDox2FcrmXGZYOqhnF55xjG5WEGxKf+an67bNW+BsT0FIhAu5NA5g2IQomo3w0GxP1jMCCGWDrvH1g6H8xaOs4BAgDWZCwdiyLjtHSWMMlkYJJ94jf8ZPqoxCQD8K8Gkyykfpjt+N31x3H8WGzHMRi5bwlG7sZFI9fQrs6wZcu9r5CRm0axWHxNWOMAZJ650+Flw3GqTAIFoPuqeNmQxvz8/Kv+9U1e2Vf8hdh/AdwfeRw7Bi6KAAAAAElFTkSuQmCC'); } .paytable-title {     text-align: center;     font-size: 3em;     line-height: 1em;     color: #ffcc00; } .paytable-symbols {     width: 100%;     height: 100%;     display: -webkit-box;     display: -webkit-flex;     display: -ms-flexbox;     display: flex;     -webkit-box-orient: horizontal;     -webkit-box-direction: normal;     -webkit-flex-flow: row wrap;         -ms-flex-flow: row wrap;             flex-flow: row wrap;     -webkit-justify-content: space-around;         -ms-flex-pack: distribute;             justify-content: space-around;     -webkit-flex-wrap: nowrap;         -ms-flex-wrap: nowrap;             flex-wrap: nowrap;     -webkit-box-sizing: border-box;             box-sizing: border-box; } .paytable-symbols.multiline {     -webkit-flex-wrap: wrap;         -ms-flex-wrap: wrap;             flex-wrap: wrap; } .paytable-symbol {     display: -webkit-box;     display: -webkit-flex;     display: -ms-flexbox;     display: flex;     -webkit-box-orient: vertical;     -webkit-box-direction: normal;     -webkit-flex-direction: column;         -ms-flex-direction: column;             flex-direction: column;     -webkit-box-align: center;     -webkit-align-items: center;         -ms-flex-align: center;             align-items: center;     -webkit-flex-basis: 0;         -ms-flex-preferred-size: 0;             flex-basis: 0;     -webkit-flex-shrink: 1;         -ms-flex-negative: 1;             flex-shrink: 1;     -webkit-box-flex: 1;     -webkit-flex-grow: 1;         -ms-flex-positive: 1;             flex-grow: 1; } .paytable-symbols.multiline .paytable-symbol {     -webkit-flex-basis: auto;         -ms-flex-preferred-size: auto;             flex-basis: auto;     -webkit-box-flex: 0;     -webkit-flex-grow: 0;         -ms-flex-positive: 0;             flex-grow: 0; } .paytable-symbol.row {     -webkit-box-orient: horizontal;     -webkit-box-direction: normal;     -webkit-flex-direction: row;         -ms-flex-direction: row;             flex-direction: row; } .paytable-symbol-icon {     -webkit-flex-shrink: 0;         -ms-flex-negative: 0;             flex-shrink: 0;     max-width: 11em; } .gr__orientation_portrait .paytable-symbol-icon {     max-width: 8em; } .paytable-symbol-icon img {     max-width: 100%; } .paytable-symbol-pays {     font-size: 2em;     margin-top: 0.6em; } .gr__orientation_portrait .paytable-symbol-pays {     font-size: 1.6em; } .paytable-symbol.row > .paytable-symbol-pays {     margin-top: 0; } .paytable-symbol-title {     color: #ffcc00;     font-size: 2.6em;     margin: 0.2em 0; } .paytable-symbol-title:empty {     height: 1.2em; } .paytable-symbol-text {     font-size: 1.6em;     text-align: center;     margin: 0.8em 0.3em 0; } .paytable-symbol-pays .occurrences, .paytable-symbol-pays .of-a-kind {     color: #ffcc00;     padding: 0 0.2em;     text-align: right; } .paytable-symbol-pays .pays {     padding: 0 0.2em;     text-align: left; } .paytable-tb-fs {     font-size: 1.4em;     padding: 0 0.2em;     text-align: center; } .paytable-symbol-inner-wrapper.pays-in-row {     display: -webkit-box;     display: -webkit-flex;     display: -ms-flexbox;     display: flex;     -webkit-box-orient: horizontal;     -webkit-box-direction: normal;     -webkit-flex-direction: row;         -ms-flex-direction: row;             flex-direction: row;     -webkit-box-align: end;     -webkit-align-items: flex-end;         -ms-flex-align: end;             align-items: flex-end;     -webkit-align-self: flex-start;         -ms-flex-item-align: start;             align-self: flex-start; } .multiple-icons .paytable-symbol-inner-wrapper .paytable-symbol-icon {     display: -webkit-box;     display: -webkit-flex;     display: -ms-flexbox;     display: flex;     -webkit-box-orient: horizontal;     -webkit-box-direction: normal;     -webkit-flex-direction: row;         -ms-flex-direction: row;             flex-direction: row; } /* paylines */ .paytable-paylines {     width: 100%;     height: 100%;     display: -webkit-box;     display: -webkit-flex;     display: -ms-flexbox;     display: flex;     -webkit-flex-wrap: wrap;         -ms-flex-wrap: wrap;             flex-wrap: wrap;     -webkit-box-align: center;     -webkit-align-items: center;         -ms-flex-align: center;             align-items: center;     -webkit-box-pack: center;     -webkit-justify-content: center;         -ms-flex-pack: center;             justify-content: center;     -webkit-align-content: center;         -ms-flex-line-pack: center;             align-content: center; } .paytable-scrollable-page .paytable-paylines {     height: auto; } .payline {     -webkit-flex-basis: 13%;         -ms-flex-preferred-size: 13%;             flex-basis: 13%;     margin: 1.2em 0.5em; } .payline .lineNumber {     font-size: 2.0em;     text-align: center;     line-height: 1em; } .payline table {     margin: auto; } .payline td {     border: 0.15em solid black;     width: 1.2em;     height: 1.2em;     background-color: #443a1c;     -webkit-box-sizing: border-box;             box-sizing: border-box } .payline td.active {     background-color: #ffcc00; } .payline td.hidden {     visibility: hidden; } /* features */ .paytable-page-features > .title {     text-align: center;     font-size: 2.5em;     line-height: 1em;     color: #ffcc00; } .paytable-page-features > .description {     font-size: 1.5em;     text-align: start;     padding: 1em; } /* pays formation */ .paytable-page_pays-formation .paytable-page-content {     margin-top: 1em;     font-size: 1.5em;     text-align: center; } /* glossary */ .paytable-glossary {     font-size: 1.4em;     width: 50%;     margin: 5px auto 0;     border-collapse: unset; } .paytable-glossary td {     border: 1px solid #fff;     padding: 10px;     text-align: center; } .paytable-glossary tr:first-child {     background: rgba(129, 128, 127, 0.76863);     color: #fff; } ")
    }, {
        "browserify-postcss": 1
    }],
    99: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = exports.console = void 0;
        Object.defineProperty(exports, "graphics", {
            enumerable: true,
            get: function get() {
                return _graphics.default
            }
        });
        Object.defineProperty(exports, "i18n", {
            enumerable: true,
            get: function get() {
                return _i18n.default
            }
        });
        Object.defineProperty(exports, "utils", {
            enumerable: true,
            get: function get() {
                return _utils.default
            }
        });
        var _graphics = _interopRequireDefault(require("./helpers/graphics"));
        var _utils = _interopRequireDefault(require("./helpers/utils"));
        var _i18n = _interopRequireDefault(require("./helpers/i18n"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }
        var console = {
            __enabled: true,
            get enabled() {
                return this.__enabled
            },
            set enabled(value) {
                return this.__enabled = value
            },
            log: function log() {
                var _window$console;
                if (!this.enabled) return;
                return (_window$console = window.console).log.apply(_window$console, arguments)
            },
            debug: function debug() {
                var _window$console2;
                if (!this.enabled) return;
                return (_window$console2 = window.console).debug.apply(_window$console2, arguments)
            },
            info: function info() {
                var _window$console3;
                if (!this.enabled) return;
                return (_window$console3 = window.console).info.apply(_window$console3, arguments)
            },
            warn: function warn() {
                var _window$console4;
                if (!this.enabled) return;
                return (_window$console4 = window.console).warn.apply(_window$console4, arguments)
            },
            error: function error() {
                var _window$console5;
                if (!this.enabled) return;
                return (_window$console5 = window.console).error.apply(_window$console5, arguments)
            }
        };
        exports.console = console;
        var _default = _utils.default;
        exports.default = _default
    }, {
        "./helpers/graphics": 88,
        "./helpers/i18n": 89,
        "./helpers/utils": 91
    }],
    100: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;
        var gr = {
            analytics: function analytics() {}
        };
        var analytics = {
            _timings: {},
            set: function set(key, value) {
                gr.analytics("set", {
                    key: key,
                    value: value
                })
            },
            event: function event(name) {
                var value = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
                var label = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
                gr.analytics("event", {
                    name: name,
                    value: value,
                    label: label
                })
            },
            timing: function timing(name, value) {
                var label = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
                gr.analytics("timing", {
                    name: name,
                    value: value,
                    label: label
                })
            },
            timingStart: function timingStart(name) {
                var label = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
                this.timingEnd(name);
                this._timings[name] = {
                    time: Date.now(),
                    label: label
                }
            },
            timingEnd: function timingEnd(name) {
                var label = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
                if (!(name in this._timings)) return;
                var el = this._timings[name];
                if (label !== null) el.label = label;
                this.timing(name, Date.now() - el.time, el.label);
                delete this._timings[name]
            }
        };
        var _default = analytics;
        exports.default = _default
    }, {}],
    101: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.env = exports.default = void 0;
        var _config = _interopRequireDefault(require("src/config.json"));
        var _locales = _interopRequireDefault(require("src/locales.json"));
        var _manifest = _interopRequireDefault(require("src/manifest.json"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function toBoolean(value) {
            if (typeof value === "boolean") return value;
            return !!parseInt(value, 10)
        }
        var utils = GR.Utils;
        var Env = function() {
            function Env() {
                _classCallCheck(this, Env);
                var gameConfig = (window._PROVIDER || {}).game || {};
                this.element = gameConfig.element || document.body;
                this.options = Object.assign({
                    lang: utils.arg("lang", ""),
                    token: null,
                    mobile: utils.arg("mobile", "0"),
                    sound: utils.arg("sound", "1"),
                    incognito: utils.arg("incognito", "0"),
                    retry_time: 30,
                    fail_timeout: 5,
                    endpoint: null,
                    game_path: null,
                    game_name: null,
                    exit_url: null,
                    cashier_url: null,
                    manifest: _manifest.default,
                    config: _config.default,
                    partner_id: window.location.pathname.split("/").filter(function(i) {
                        return i.length
                    })[0] || null,
                    round_expire: null
                }, gameConfig.options || {});
                var language = this.options.lang;
                var defaultLanguage = "en";
                if (!_locales.default.includes(language)) {
                    if (language.length > 2 && _locales.default.includes(language.substr(0, 2))) {
                        language = language.substr(0, 2)
                    } else {
                        language = defaultLanguage
                    }
                }
                this.options.lang = language;
                if (this.options.game_name === null) {
                    this.options.game_name = gameConfig.name
                }
                this.options["url"] = this.options.endpoint;
                this.options.retry_time *= 1e3;
                this.options.fail_timeout *= 1e3;
                this.options.mobile = toBoolean(this.options.mobile);
                this.options.sound = toBoolean(this.options.sound);
                this.options.incognito = toBoolean(this.options.incognito)
            }
            _createClass(Env, [{
                key: "has",
                value: function has(key) {
                    return key in this.options
                }
            }, {
                key: "get",
                value: function get(key) {
                    var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
                    return key in this.options ? this.options[key] : defaultValue
                }
            }]);
            return Env
        }();
        var env = new Env;
        exports.env = env;
        var _default = env;
        exports.default = _default
    }, {
        "src/config.json": 139,
        "src/locales.json": 141,
        "src/manifest.json": 142
    }],
    102: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        Object.defineProperty(exports, "analytics", {
            enumerable: true,
            get: function get() {
                return _analytics.default
            }
        });
        Object.defineProperty(exports, "env", {
            enumerable: true,
            get: function get() {
                return _env.default
            }
        });
        Object.defineProperty(exports, "storage", {
            enumerable: true,
            get: function get() {
                return _storage.default
            }
        });
        var _analytics = _interopRequireDefault(require("./analytics"));
        var _storage = _interopRequireDefault(require("./storage"));
        var _env = _interopRequireDefault(require("./env"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }
    }, {
        "./analytics": 100,
        "./env": 101,
        "./storage": 103
    }],
    103: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;
        var warned = false;

        function warn() {
            !warned && (warned = true) && console.warn("gdk.storage is deprecated")
        }
        var storage = {
            set: function set(key, value) {
                warn();
                GR.Storage.set(key, value)
            },
            get: function get(key) {
                warn();
                return GR.Storage.get(key)
            }
        };
        var _default = storage;
        exports.default = _default
    }, {}],
    104: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.Board = void 0;
        var _app = require("core/app");
        var _Fabric = _interopRequireDefault(require("core/core/Fabric"));
        var _Sound = _interopRequireDefault(require("core/core/Sound"));
        var _Enums = require("core/core/Enums");
        var _helpers = require("core/helpers");
        var _AssetsHelper = _interopRequireDefault(require("core/helpers/AssetsHelper"));
        var _Reel = _interopRequireDefault(require("core/components/Reel"));
        var _Reels = _interopRequireDefault(require("core/components/Reels"));
        var _Board = _interopRequireDefault(require("core/components/Board"));
        var _GameSymbol = _interopRequireDefault(require("core/components/GameSymbol"));
        var _TotalWin = _interopRequireDefault(require("./components/popups/TotalWin"));
        var _GamePopupParams = _interopRequireDefault(require("core/components/popups/GamePopupParams"));
        var _Logo = _interopRequireDefault(require("./components/Logo"));
        var _Frame = _interopRequireDefault(require("./components/Frame"));
        var _Transition = _interopRequireDefault(require("./components/Transition"));
        var _RespinsFrame = _interopRequireDefault(require("./components/RespinsFrame"));
        var _JackpotsBoard = _interopRequireDefault(require("./components/JackpotsBoard"));
        var _BigWin = _interopRequireDefault(require("./components/popups/BigWin"));
        var _BonusWin = _interopRequireDefault(require("./components/popups/BonusWin"));
        var _BonusPopup = _interopRequireDefault(require("./components/popups/BonusPopup"));
        var _JackpotWin = _interopRequireDefault(require("./components/popups/JackpotWin"));
        var _BigWinParams = require("./components/popups/BigWinParams");
        var _FreespinsPopup = _interopRequireDefault(require("./components/popups/FreespinsPopup"));
        var _lodash = _interopRequireDefault(require("lodash"));
        var _BonusSkip = _interopRequireDefault(require("./components/bonus/BonusSkip"));
        var _BonusReels = _interopRequireDefault(require("./components/bonus/BonusReels"));
        var _BonusCollect = _interopRequireDefault(require("./components/bonus/BonusCollect"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _toConsumableArray(arr) {
            return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread()
        }

        function _nonIterableSpread() {
            throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }

        function _unsupportedIterableToArray(o, minLen) {
            if (!o) return;
            if (typeof o === "string") return _arrayLikeToArray(o, minLen);
            var n = Object.prototype.toString.call(o).slice(8, -1);
            if (n === "Object" && o.constructor) n = o.constructor.name;
            if (n === "Map" || n === "Set") return Array.from(o);
            if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen)
        }

        function _iterableToArray(iter) {
            if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter)
        }

        function _arrayWithoutHoles(arr) {
            if (Array.isArray(arr)) return _arrayLikeToArray(arr)
        }

        function _arrayLikeToArray(arr, len) {
            if (len == null || len > arr.length) len = arr.length;
            for (var i = 0, arr2 = new Array(len); i < len; i++) {
                arr2[i] = arr[i]
            }
            return arr2
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var Board = function(_ParentBoard) {
            _inherits(Board, _ParentBoard);
            var _super = _createSuper(Board);

            function Board() {
                _classCallCheck(this, Board);
                return _super.apply(this, arguments)
            }
            _createClass(Board, [{
                key: "onInit",
                value: function onInit() {
                    this.anticipationEffect = [];
                    this.anticipationScatters = [];
                    GR.UI.model.set("ui_info_text", _helpers.i18n.get("UI_LINES", _app.app.model.get("settings.lines")));
                    this.frame = this.addChild(new _Frame.default);
                    this.jackpotsBoard = this.addChild(new _JackpotsBoard.default);
                    this.logo = this.addChild(new _Logo.default);
                    this.addReels();
                    this.addPopups();
                    this.addListeners();
                    this.setPosition();
                    this.labelWinContainer.init();
                    this.bonusCollect = this.addChild(new _BonusCollect.default);
                    this.isInited = true
                }
            }, {
                key: "blurBack",
                value: function blurBack() {
                    var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 100;
                    var deferred = _helpers.utils.deferred();
                    if (!this.blackBack) {
                        this.blackBack = this.addChildAt(new PIXI.Graphics, this.getChildIndex(this.jackpotsBoard));
                        this.blackBack.endFill();
                        this.blackBack.alpha = 0;
                        this.blackBack.beginFill(0).drawPolygon([this.pivotX - this.x, -_app.app._stageWrapper.pivotY, _app.app.config.get("Screen.backWidth"), -_app.app._stageWrapper.pivotY, _app.app.config.get("Screen.backWidth"), _app.app.config.get("Screen.backHeight"), this.pivotX - this.x, _app.app.config.get("Screen.backHeight")]).drawPolygon([this.reels.x, this.reels.y + 1, this.reels.x + this.reels.getMeasuredWidth(), this.reels.y, this.reels.x + this.reels.getMeasuredWidth(), this.reels.y + this.reels.getMeasuredHeight(), this.reels.x, this.reels.y + this.reels.getMeasuredHeight()]).addHole()
                    }
                    createjs.Tween.removeTweens(this.blackBack);
                    this.blackBack.tween().to({
                        alpha: .6
                    }, time).call(function() {
                        return deferred.resolve()
                    });
                    this.backIsBlured = true;
                    return deferred.promise
                }
            }, {
                key: "deblurBack",
                value: function deblurBack() {
                    createjs.Tween.removeTweens(this.blackBack);
                    this.blackBack.tween().to({
                        alpha: 0
                    }, 300);
                    this.backIsBlured = false
                }
            }, {
                key: "addReels",
                value: function addReels() {
                    this.reels = this.addChild(new _Reels.default);
                    this.reels.init();
                    var width = _app.app.config.get("GameSymbol.width") * _app.app.config.get("App.cols");
                    var height = _app.app.config.get("GameSymbol.height") * _app.app.config.get("App.rows");
                    this.reels.position.set(_app.app.config.get("App.width") / 2 - width / 2, _app.app.config.get("App.height") / 2 - height / 2)
                }
            }, {
                key: "addPopups",
                value: function addPopups() {
                    this.totalWin = this.addChild(new _TotalWin.default);
                    this.jackpotWin = this.addChild(new _JackpotWin.default);
                    this.bonusWin = this.addChild(new _BonusWin.default);
                    this.bigWinParamsConstructor = _BigWinParams.BigWinParams;
                    this.bigWinConstructor = _BigWin.default;
                    this.freespinsPopup = this.addChild(new _FreespinsPopup.default);
                    this.bonusPopup = this.addChild(new _BonusPopup.default)
                }
            }, {
                key: "addListeners",
                value: function addListeners() {
                    var _this = this;
                    this.reels.reels.forEach(function(r, i) {
                        r.on(_Reel.default.EVENT.ANTICIPATION_STOPPING, function() {
                            return _this.showAnticipationFrame(i)
                        });
                        r.on(_Reel.default.EVENT.STOP_BEFORE_BACK_OUT, function() {
                            _this._showLand(r.id).then(function() {
                                return _this._showAnticipationSymbolsAnimations(r)
                            });
                            _this.hideAnticipationFrame(i)
                        })
                    });
                    _app.app.model.follow("game.restart", this.onRestart, this);
                    GR.UI.model.follow("bet_per_line", function() {
                        return _this.jackpotsBoard.updateValues()
                    });
                    _app.app.on(_Enums.GameEvent.GameResizeComplete, function() {
                        return _this.logo.changePosition()
                    })
                }
            }, {
                key: "showAnticipationFrame",
                value: function showAnticipationFrame(reelIdx) {
                    var _this2 = this;
                    var symbolWidth = _app.app.config.get("GameSymbol.width");
                    var anticipationPaddingX = symbolWidth / 2;
                    var anticipationPaddingY = 70;
                    var scatterMap = _app.app.model.getGeneratedScatterMap();
                    var bonusMap = _app.app.model.generateBonusSymbolsMap();
                    var x = this.reels.x + reelIdx * (symbolWidth + _app.app.config.get("Reels.gapH")) + anticipationPaddingX;
                    var y = this.reels.getMeasuredHeight() - this.reels.y - anticipationPaddingY;
                    var frame = this.addChild(PIXI.spine.Spine.fromLoader("anticipation"));
                    frame.state.setAnimation(0, "animation", true);
                    frame.update(0);
                    frame.position.set(x, y);
                    frame.alpha = 0;
                    this.anticipationEffect[reelIdx] = frame;
                    frame.tween().to({
                        alpha: 1
                    }, 200);
                    this.reels.reels.forEach(function(reel) {
                        if (reel.id - 1 < reelIdx) {
                            for (var i = 1; i < reel.symbols.length - 1; i++) {
                                var symbol = reel.symbols[i];
                                var oversizeSymbol = _this2.reels.oversizeSymbols[reel.id - 1][i - 1];
                                var scatterSym = symbol.id === _GameSymbol.default.SCATTER_ID;
                                var bonusSym = symbol.id === _GameSymbol.default.BONUS_ID || symbol.id === _GameSymbol.default.SUPER_ID;
                                if (scatterMap[reelIdx] && !scatterSym && !(bonusSym && bonusMap[reelIdx])) {
                                    if (_app.app.config.get("AdvancedReels.oversizeSymbols").includes(symbol.id)) {
                                        symbol.state = _GameSymbol.default.BLUR
                                    } else {
                                        symbol.setBlurState()
                                    }
                                    if (oversizeSymbol) oversizeSymbol.setBlurState()
                                } else if (bonusMap[reelIdx] && !bonusSym && !(scatterSym && scatterMap[reelIdx])) {
                                    symbol.setBlurState();
                                    if (oversizeSymbol) oversizeSymbol.setBlurState()
                                } else {
                                    symbol.setDeBlurState(300);
                                    if (oversizeSymbol) oversizeSymbol.setDeBlurState(300)
                                }
                            }
                            reel.symbols[0].setBlurState();
                            reel.symbols[reel.symbols.length - 1].setBlurState()
                        }
                    });
                    if (!this.backIsBlured) this.blurBack()
                }
            }, {
                key: "_showLand",
                value: function _showLand(reelIdx) {
                    var _this3 = this;
                    if (_app.app.config.get("Board.skipTriggerAnimation") && (GR.UI.model.get("quick_spin", false) || _app.app.model.get("turboskip.active", false)) || this.reels._skipping) return Promise.resolve();
                    var promises = [];
                    var defer = _helpers.utils.deferred();
                    var triggerMap = _app.app.model.triggerMap();
                    var callback = function callback(reelId) {
                        var reel = reelId - 1;
                        if (!triggerMap.length || triggerMap[reel].every(function(s) {
                                return !s
                            })) return;
                        if (!triggerMap[reel]) return;
                        var _loop = function _loop(i) {
                            var symbol = _this3.reels.reels[reel].symbols[i];
                            if (symbol.id === _GameSymbol.default.SCATTER_ID) {
                                symbol.setLandState();
                                if (!symbol.complete) {
                                    promises.push(new Promise(function(response) {
                                        symbol.once(_GameSymbol.default.EventAnimationComplete, function() {
                                            response()
                                        })
                                    }))
                                } else {
                                    symbol.setStaticState()
                                }
                            }
                        };
                        for (var i = 1; i < _this3.reels.reels[reel].symbols.length - 1; ++i) {
                            _loop(i)
                        }
                    };
                    callback(reelIdx);
                    return Promise.all(promises).then(function() {
                        return defer.resolve()
                    })
                }
            }, {
                key: "_showAnticipationSymbolsAnimations",
                value: function _showAnticipationSymbolsAnimations(r) {
                    var _this4 = this;
                    if (r.id === 4) {
                        this.stopScattersAnticipation()
                    }
                    var scatterMap = _app.app.model.getGeneratedScatterMap();
                    var anticipationMap = _app.app.model.anticipationMap();
                    this.reels.reels.forEach(function(reel) {
                        if (reel.id - 1 < r.id) {
                            for (var i = 1; i < reel.symbols.length - 1; ++i) {
                                var symbol = reel.symbols[i];
                                var oversizeSymbol = _this4.reels.oversizeSymbols[reel.id - 1][i - 1];
                                if (scatterMap[r.id]) {
                                    if (symbol.id === _GameSymbol.default.SCATTER_ID && !_app.app.board.reels._skipping) {
                                        symbol.setAnticipationState(_this4.firstScatterTrackTime);
                                        _this4.anticipationScatters.push(symbol)
                                    }
                                } else if (symbol.id === _GameSymbol.default.SCATTER_ID && scatterMap.filter(function(s) {
                                        return s === 1
                                    }).length && anticipationMap[r.id] && !_app.app.board.reels._skipping) {
                                    symbol.setBlurState();
                                    if (oversizeSymbol) oversizeSymbol.setBlurState()
                                }
                            }
                        }
                    })
                }
            }, {
                key: "stopScattersAnticipation",
                value: function stopScattersAnticipation() {
                    if (this.anticipationScatters.length) {
                        this.anticipationScatters.forEach(function(sym) {
                            return sym && sym.setAnticipationEndState()
                        });
                        this.anticipationScatters = []
                    }
                }
            }, {
                key: "hideAnticipationFrame",
                value: function hideAnticipationFrame(reelIdx) {
                    var _this5 = this;
                    var frame = this.anticipationEffect[reelIdx];
                    if (reelIdx === 4 && this.backIsBlured) this.deblurBack();
                    if (!frame) return;
                    if (reelIdx === 4) {
                        _Sound.default.stop("rise_bonus");
                        _app.app.emit(_Enums.GameEvent.EndGameCollect)
                    }
                    frame.tween().to({
                        alpha: 0
                    }, 200).call(function() {
                        frame.removeFromParent();
                        frame.destroy();
                        frame = null;
                        delete _this5.anticipationEffect[reelIdx]
                    })
                }
            }, {
                key: "showRoundResult",
                value: function showRoundResult() {
                    var _this6 = this;
                    this.followRoundBetChange();
                    var deferred = _helpers.utils.deferred();
                    var roundWin = _app.app.model.roundWin();
                    var isBigWin = _app.app.model.isBigWin();
                    var playSymbolsBeforeBigWin = _app.app.config.get("Board.playSymbolsBeforeBigWin") || false;
                    Promise.resolve().then(function() {
                        return _this6.deBlurWinSymbols()
                    }).then(function() {
                        if (isBigWin) {
                            return Promise.all([playSymbolsBeforeBigWin && _this6.showRoundWinSymbols(), _this6.showBigWinAnimation(roundWin)])
                        }
                    }).then(function() {
                        return _this6.showWinAnimation(isBigWin ? 0 : roundWin)
                    }).then(function() {
                        return _this6.showRoundWinScatters()
                    }).then(function() {
                        return _app.app.model.isSBTrigger() && _this6.deBlurOversizeSymbols(roundWin)
                    }).then(function() {
                        return _app.app.model.isSBTrigger() && _this6.showSuperWinSate()
                    }).then(function() {
                        return _app.app.model.isSBTrigger() && _this6.showSuperBonus()
                    }).then(function() {
                        return _this6.showRoundWinBonus()
                    }).then(deferred.resolve, deferred.resolve);
                    return this.addAnimation(function() {
                        return deferred.promise
                    }, function() {
                        return deferred.resolve()
                    })
                }
            }, {
                key: "deBlurWinSymbols",
                value: function deBlurWinSymbols() {
                    var _this7 = this;
                    var winlines = _app.app.model.winlines().concat(_app.app.model.winscatters());
                    var activeSymbols = [];
                    var bluredSymbols = [];
                    var promises = [];
                    if (_app.app.model.roundWin()) {
                        this.reels.forEachAdditionalSymbol(function(s) {
                            return s.setBlurState()
                        })
                    }
                    this.reels.forEachSymbol(function(symbol, i, j) {
                        var isActive = winlines.some(function(winline) {
                            return winline.positions.some(function(pos) {
                                return pos[0] === i && pos[1] === j
                            })
                        });
                        if (isActive) {
                            activeSymbols.push(symbol);
                            if (symbol.state === _GameSymbol.default.BLUR) {
                                bluredSymbols.push(symbol)
                            }
                        } else {
                            if (symbol.state !== _GameSymbol.default.BLUR && winlines.length) {
                                symbol.setBlurState();
                                if (_this7.reels.oversizeSymbols[i][j]) _this7.reels.oversizeSymbols[i][j].setBlurState()
                            }
                        }
                    });
                    if (bluredSymbols.length) {
                        bluredSymbols.forEach(function(s) {
                            s.setDeBlurState(200);
                            promises.push(new Promise(function(res) {
                                return s.once(_GameSymbol.default.EventAnimationComplete, res)
                            }))
                        })
                    }
                    return Promise.all(promises)
                }
            }, {
                key: "showRoundWinSymbols",
                value: function showRoundWinSymbols() {
                    var _this8 = this;
                    var winlines = _app.app.model.winlines().concat(_app.app.model.winscatters());
                    if (!winlines || winlines.length === 0) return Promise.resolve();
                    var promises = [];
                    this.reels.forEachAdditionalSymbol(function(s) {
                        return s.setBlurState()
                    });
                    this.reels.forEachSymbol(function(symbol, i, j) {
                        var isActive = winlines.some(function(winline) {
                            return winline.positions && winline.positions.some(function(pos) {
                                return pos[0] === i && pos[1] === j
                            })
                        });
                        if (isActive) {
                            symbol.setShortState();
                            if (_this8.reels.oversizeSymbols[i][j]) _this8.reels.oversizeSymbols[i][j].setShortState()
                        } else {
                            symbol.setBlurState();
                            if (_this8.reels.oversizeSymbols[i][j]) _this8.reels.oversizeSymbols[i][j].setBlurState()
                        }
                        if (!symbol.complete && symbol.id !== _GameSymbol.default.BONUS_ID) promises.push(new Promise(function(res) {
                            return symbol.once(_GameSymbol.default.EventAnimationComplete, res)
                        }))
                    });
                    return Promise.all(promises)
                }
            }, {
                key: "showWinAnimation",
                value: function showWinAnimation(roundWin) {
                    var _this9 = this;
                    if (!roundWin) {
                        return Promise.resolve()
                    }
                    var promise = _helpers.utils.Q([function() {
                        return Promise.all([_helpers.utils.wait(_app.app.config.get("Board.winAnimationMinTime")), _this9.showRoundWinSymbols(), _this9.showRoundWinCounter(roundWin)])
                    }, function() {
                        if (!_app.app.model.triggerMacroRound()) {
                            _this9.labelWinContainer.once(_Enums.GameEvent.HideCounter, _this9.reels.setSymbolsDeBlurState, _this9.reels);
                            _this9.reels.once(_Reels.default.StartEvent, function() {
                                return _this9.labelWinContainer.off(_Enums.GameEvent.HideCounter, _this9.reels.setSymbolsDeBlurState, _this9)
                            })
                        }
                        return _this9._hideRoundWinCounter()
                    }]);
                    return this.addAnimation(function() {
                        return promise
                    }, function() {
                        _this9._hideRoundWinCounter(true);
                        promise && promise.cancel && promise.cancel()
                    }, null, true)
                }
            }, {
                key: "showRoundWinScatters",
                value: function showRoundWinScatters() {
                    var _this10 = this;
                    var winScatters = _app.app.model.winscatters();
                    if (!winScatters || winScatters.length === 0) return Promise.resolve();
                    var wonFreespins = winScatters.some(function(i) {
                        return i.trigger === "freespins"
                    });
                    if (!wonFreespins) return Promise.resolve();
                    var freeSpinsCount = winScatters.reduce(function(prev, cur) {
                        return prev + (cur.freespins || 0)
                    }, 0);
                    var promises = [];
                    this.reels.forEachSymbol(function(symbol, i, j) {
                        var isActive = winScatters.some(function(winLine) {
                            return winLine.positions.some(function(pos) {
                                return pos[0] === i && pos[1] === j
                            })
                        });
                        if (isActive && symbol.id === _GameSymbol.default.SCATTER_ID) {
                            if (_AssetsHelper.default.isSpineLoaded("el_scatter")) {
                                symbol.setTriggerState()
                            } else {
                                symbol.setShortState()
                            }
                        } else {
                            symbol.setBlurState();
                            if (_this10.reels.oversizeSymbols[i][j]) _this10.reels.oversizeSymbols[i][j].setBlurState()
                        }!symbol.complete && promises.push(new Promise(function(res) {
                            return symbol.once(_GameSymbol.default.EventAnimationComplete, res)
                        }))
                    });
                    this.reels.forEachAdditionalSymbol(function(s) {
                        return s.setBlurState()
                    });
                    _app.app.emit(_Enums.GameEvent.WinScatter);
                    return Promise.all(promises).then(function() {
                        return _helpers.utils.wait(500)
                    }).then(function() {
                        return _app.app.emit(_app.app.model.isFreeSpins() ? _Enums.GameEvent.WinAdditionalFreeSpins : _Enums.GameEvent.WinFreeSpins, _app.app.model.getFreeSpinsGranted())
                    }).then(function() {
                        _this10.reels.forEachSymbol(function(s) {
                            return s.setDeBlurState()
                        });
                        _this10.reels.forEachAdditionalSymbol(function(s) {
                            return s.setDeBlurState()
                        });
                        _this10.reels.forEachOversizeSymbol(function(s) {
                            return s.setDeBlurState(250)
                        })
                    }).then(function() {
                        return _this10.showFreeSpinsIntroLabel(freeSpinsCount, _app.app.model.isFreeSpins())
                    }).then(function() {
                        return _app.app.model.isFreeSpins() && _this10.freespinsPopup.hide()
                    })
                }
            }, {
                key: "showFreeSpinsIntroLabel",
                value: function showFreeSpinsIntroLabel(freeSpinsCount, freeSpinsAdditional) {
                    if (freeSpinsAdditional) {
                        _app.app.emit(_Enums.GameEvent.FreespinAdditional);
                        return this.freespinsPopup.show(_GamePopupParams.default.ADDITIONAL_FREESPINS)
                    }
                    _app.app.emit(_Enums.GameEvent.FreespinIntro);
                    return this.freespinsPopup.show(_GamePopupParams.default.FREESPINS)
                }
            }, {
                key: "showRoundWinBonus",
                value: function showRoundWinBonus() {
                    if (!_app.app.model.isBonusTrigger()) {
                        return Promise.resolve()
                    }
                    this.labelWinContainer.off(_Enums.GameEvent.HideCounter, this.reels.setSymbolsDeBlurState, this);
                    var promises = [];
                    this.reels.forEachSymbol(function(symbol) {
                        return symbol.setBlurState()
                    });
                    this.reels.forEachAdditionalSymbol(function(s) {
                        return s.setBlurState()
                    });
                    this.reels.forEachOversizeSymbol(function(symbol) {
                        symbol.setBonusSymbolWinState();
                        !symbol.complete && promises.push(new Promise(function(res) {
                            return symbol.once(_GameSymbol.default.EventAnimationComplete, res)
                        }))
                    });
                    _app.app.emit(_Enums.GameEvent.WinBonus);
                    return Promise.all(promises)
                }
            }, {
                key: "createBonusBoard",
                value: function createBonusBoard() {
                    var _this11 = this;
                    this.createBonusReels();
                    this.frame.useTexture("bonus");
                    this.jackpotsBoard.useTexture("bonus");
                    this.logo.changePosition();
                    _app.app.model.setSBtriggered();
                    this.bonusCollect.setDefaultProps();
                    this.reels.forEachSymbol(function(s) {
                        return s.setState(_GameSymbol.default.MOVE)
                    });
                    this.reels.forEachOversizeSymbol(function(s, i, j) {
                        s.removeFromParent();
                        s.destroy();
                        s = null;
                        delete _this11.reels.oversizeSymbols[i][j]
                    })
                }
            }, {
                key: "removeBonusBoard",
                value: function removeBonusBoard() {
                    var _this12 = this;
                    this.bonusInited = false;
                    this.reels.fillFromModel();
                    this.reels.reels.forEach(function(r) {
                        var ids = _app.app.config.get("AdvancedReels.oversizeSymbols");
                        ids.forEach(function(id) {
                            for (var i = 1; i < r.symbols.length - 1; i++) {
                                var s = r.symbols[i];
                                if (s.id === id && !_this12.reels.oversizeSymbols[r.id - 1][i - 1]) {
                                    var symbol = _this12.reels.addChild(new _GameSymbol.default(id));
                                    if (symbol.id === _GameSymbol.default.BONUS_ID || symbol.id === _GameSymbol.default.SUPER_ID) {
                                        symbol.setBonusSymbolValue(s.currentBonusSymbolValue);
                                        symbol.setBonusSymbolViewValue(s.currentBonusSymbolValue)
                                    }
                                    symbol.setOversizeState();
                                    var _s$toParentCoords = s.toParentCoords(_this12.reels),
                                        x = _s$toParentCoords.x,
                                        y = _s$toParentCoords.y;
                                    symbol.x = x;
                                    symbol.y = y;
                                    _this12.reels.oversizeSymbols[r.id - 1][i - 1] = symbol;
                                    s.visible = false
                                }
                            }
                        })
                    });
                    this.reels.alpha = 1;
                    this.bonusPositions = [];
                    this.jackpotsBoard.useTexture("default");
                    _app.app.model.bonusOriginState() === "spins" ? this.showSpinsFrame() : this.showFreespinsFrame();
                    if (this.respinsFrame) {
                        this.respinsFrame.clear();
                        this.respinsFrame = null
                    }
                    if (this.bonusReels) {
                        this.bonusReels.clear();
                        this.bonusReels.removeFromParent();
                        this.bonusReels.destroy({
                            children: true
                        });
                        this.bonusReels = null
                    }
                    if (this.bonusSkip) {
                        this.bonusSkip.removeFromParent();
                        this.bonusSkip.destroy({
                            children: true
                        });
                        this.bonusSkip = null
                    }
                    this.removeTransitionAnimation()
                }
            }, {
                key: "createBonusReels",
                value: function createBonusReels() {
                    var index = this.getChildIndex(this.reels);
                    _app.app.bg.changeBackground(true);
                    this.bonusReels = this.addChildAt(new _BonusReels.default, index);
                    this.bonusReels.init();
                    this.bonusReels.position = this.reels.position;
                    this.bonusReels.interactive = false;
                    this.bonusReels.interactiveChildren = false;
                    this.bonusSkip = this.addChildAt(new _BonusSkip.default, index);
                    this.bonusInited = true;
                    this.respinsFrame = this.addChild(new _RespinsFrame.default(640, 610));
                    this.setChildIndex(this.respinsFrame, this.getChildIndex(this.totalWin) - 1);
                    this.reels.alpha = 0
                }
            }, {
                key: "addTransitionAnimation",
                value: function addTransitionAnimation() {
                    this.transition = this.addChild(new _Transition.default);
                    this.transition.addBack(this.pivotX - this.x);
                    this.transition.addAnimation()
                }
            }, {
                key: "removeTransitionAnimation",
                value: function removeTransitionAnimation() {
                    if (this.transition) {
                        this.transition.clear();
                        this.transition = null
                    }
                }
            }, {
                key: "showMysterySymbols",
                value: function showMysterySymbols() {
                    var _this13 = this;
                    if (!_app.app.model.lastRespin() || !_app.app.model.mysterySymbols().length) return;
                    var mysterySymbols = _app.app.model.mysterySymbols().map(function(pos) {
                            var _this13$bonusReels;
                            return (_this13$bonusReels = _this13.bonusReels).getSymbol.apply(_this13$bonusReels, _toConsumableArray(pos))
                        }).filter(function(s) {
                            return s !== undefined
                        }).filter(function(s) {
                            return s.id === _GameSymbol.default.MYSTERY_ID
                        }),
                        mysteryValues = _app.app.model.mysterySymbols().map(function(pos) {
                            return _app.app.model.finalBonusSymbolsBoard()[pos[0]][pos[1]]
                        }),
                        index = _app.app.model.mysterySymbols().map(function(pos) {
                            return pos[0] * 3 + pos[1]
                        }).filter(function(el, i) {
                            var _this13$bonusReels2;
                            return (_this13$bonusReels2 = _this13.bonusReels).getSymbol.apply(_this13$bonusReels2, _toConsumableArray(_app.app.model.mysterySymbols()[i])).id === _GameSymbol.default.MYSTERY_ID
                        }),
                        promises = [];
                    var open = function open(s, i) {
                        if (_this13.bonusReels.dragons[index[i]]) return;
                        _app.app.emit(_Enums.GameEvent.MysteryOpen);
                        _app.app.model.isSuperBonus() && s.setSuperBonusState();
                        if (!_app.app.model.isSBTrigger()) s.setBonusSymbolValue(mysteryValues[i]);
                        if (!_app.app.model.isSBTrigger()) s.setBonusSymbolViewValue(mysteryValues[i]);
                        _this13.bonusReels.oversizeContainer.addDragon(index[i], s.currentBonusSymbolValue);
                        _this13.bonusReels.dragons[index[i]].visible = false;
                        _helpers.utils.wait(500).then(function() {
                            _this13.bonusReels.dragons[index[i]].visible = true
                        });
                        return s.openMysterySymbol()
                    };
                    var skipMysterySymbols = function skipMysterySymbols() {
                        mysterySymbols.forEach(function(s, i) {
                            open(s, i)
                        })
                    };
                    mysterySymbols.forEach(function(s, i) {
                        var promise = function promise() {
                            return Promise.resolve().then(function() {
                                return open(s, i)
                            }).then(function() {
                                return _app.app.model.isSBTrigger() && _this13.showSuperWinSate(s)
                            }).then(function() {
                                return _app.app.model.isSBTrigger() && _this13.showSuperBonus(_app.app.model.mysterySymbols()[i])
                            }).then(function() {
                                return _helpers.utils.wait(100)
                            })
                        };
                        promises.push(promise)
                    });
                    this.bonusSkip.add(skipMysterySymbols, this);
                    promises.push(function() {
                        return _helpers.utils.wait(400)
                    });
                    return _helpers.utils.Q(promises)
                }
            }, {
                key: "showSpinsFrame",
                value: function showSpinsFrame() {
                    this.frame.useTexture("spins")
                }
            }, {
                key: "showFreespinsFrame",
                value: function showFreespinsFrame() {
                    this.frame.useTexture("freespins")
                }
            }, {
                key: "setPosition",
                value: function setPosition() {
                    this.pivotX = Math.round(_app.app.config.get("App.width") / 2);
                    this.x = _app.app.config.get("Screen.backWidth") / 2;
                    this.y = _app.app._stageWrapper.pivotY
                }
            }, {
                key: "checkBonusAssets",
                value: function checkBonusAssets(assets) {
                    for (var i = 0; i < assets.length; i++) {
                        if (!_AssetsHelper.default.isSpineLoaded(assets[i])) {
                            return false
                        }
                    }
                    return true
                }
            }, {
                key: "checkBonusAssetsReady",
                value: function checkBonusAssetsReady() {
                    var assets = ["respins_frame", "respins_frame_level", "anticipation_bonus", "bonus_transition", "bonus_collect_fly"];
                    if (!this.checkBonusAssets(assets)) {
                        return _AssetsHelper.default.loadDemandList(assets, true)
                    }
                    return Promise.resolve()
                }
            }, {
                key: "showSuperBonus",
                value: function showSuperBonus() {
                    var _this14 = this;
                    var mystery = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
                    this.bonusPositions = _lodash.default.cloneDeep(_app.app.model.geBonusPos());
                    var promises = _helpers.utils.Q(this.bonusPositions.map(function(s) {
                        return function() {
                            return _this14.turnToSuperBonus(s)
                        }
                    }));
                    return this.addAnimation(function() {
                        return promises
                    }, function() {
                        promises && promises.cancel && promises.cancel()
                    }, null, true).then(function() {
                        _app.app.model.setSBtriggered();
                        var promises = _this14.bonusPositions.map(function(s) {
                            return !s.collected && _this14.turnToSuperBonus(s)
                        });
                        return Promise.all(promises)
                    })
                }
            }, {
                key: "deBlurOversizeSymbols",
                value: function deBlurOversizeSymbols(roundWin) {
                    if (!roundWin) return;
                    var bluredSymbols = [];
                    var promises = [];
                    this.reels.forEachOversizeSymbol(function(symbol) {
                        if (symbol.state === _GameSymbol.default.BLUR) {
                            bluredSymbols.push(symbol)
                        }
                    });
                    if (bluredSymbols.length) {
                        bluredSymbols.forEach(function(s) {
                            s.setDeBlurState(200);
                            promises.push(new Promise(function(res) {
                                return s.once(_GameSymbol.default.EventAnimationComplete, res)
                            }))
                        })
                    }
                    return Promise.all(promises)
                }
            }, {
                key: "showSuperWinSate",
                value: function showSuperWinSate() {
                    var _this15 = this;
                    var symbol = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
                    var promises = [];
                    _app.app.emit(_Enums.GameEvent.WinSuperBonus);
                    if (symbol) {
                        symbol.setSuperWinSate();
                        !symbol.complete && promises.push(new Promise(function(res) {
                            return symbol.once(_GameSymbol.default.EventAnimationComplete, res)
                        }))
                    } else if (!_app.app.model.isBonusGame()) {
                        this.reels.forEachSymbol(function(symbol, i, j) {
                            if (symbol.id === _GameSymbol.default.SUPER_ID) {
                                var _symbol = _this15.reels.oversizeSymbols[i][j];
                                _symbol.setSuperWinSate();
                                !_symbol.complete && _symbol.id === _GameSymbol.default.SUPER_ID && promises.push(new Promise(function(res) {
                                    return _symbol.once(_GameSymbol.default.EventAnimationComplete, res)
                                }))
                            } else if (symbol.id !== _GameSymbol.default.BONUS_ID) {
                                symbol.setBlurState()
                            }
                        })
                    } else {
                        this.reels.forEachSymbol(function(s, i, j) {
                            var symbol = _this15.bonusReels.oversizeContainer.symbols[i * 3 + j];
                            if (symbol && symbol.id === _GameSymbol.default.SUPER_ID) {
                                symbol.setSuperWinSate();
                                !symbol.complete && promises.push(new Promise(function(res) {
                                    return symbol.once(_GameSymbol.default.EventAnimationComplete, res)
                                }))
                            }
                        })
                    }
                    return Promise.all(promises)
                }
            }, {
                key: "turnToSuperBonus",
                value: function turnToSuperBonus(pos) {
                    var deferred = _helpers.utils.deferred();
                    var s = this.getSymbol(pos[0] + 1, pos[1] + 1);
                    s.setSuperBonusState();
                    var sym = _app.app.model.isBonusGame() ? this.bonusReels.getSymbol(pos[0], pos[1]) : this.reels.oversizeSymbols[pos[0]][pos[1]];
                    var _sym$toParentCoords = sym.toParentCoords(this),
                        x = _sym$toParentCoords.x,
                        y = _sym$toParentCoords.y;
                    if (sym.state === _GameSymbol.default.SUPER) return;
                    pos.collected = true;
                    pos.collectInProgress = true;
                    var newValues = _app.app.model.finalBonusSymbolsBoard()[pos[0]][pos[1]];
                    sym.setBonusSymbolValue(newValues);
                    sym.setBonusSymbolViewValue(newValues);
                    sym.setSuperBonusState();
                    _app.app.emit(_Enums.GameEvent.TurnToSuperBonus);
                    var explosion = this.addChild(PIXI.spine.Spine.fromLoader("el_super_bonus_explosion"));
                    explosion.position.set(x, y);
                    explosion.autoUpdate = true;
                    explosion.state.setAnimation(0, "animation", false);
                    explosion.update(0);
                    explosion.state.once(PIXI.spine.core.AnimationState.COMPLETE, function() {
                        deferred.resolve();
                        _helpers.utils.wait(0).then(function() {
                            pos.collectInProgress = false;
                            explosion.removeFromParent();
                            explosion.destroy();
                            explosion = null
                        })
                    });
                    return deferred.promise
                }
            }, {
                key: "checkJackpotWin",
                value: function checkJackpotWin() {
                    var _this16 = this;
                    var jackpotPromise = Promise.resolve();
                    if (_app.app.model.bonusCount() === _BonusCollect.default.TOTAL_BONUS_SYMBOLS_COUNT) {
                        var result = this.bonusCollect.calculateJackpot("royal");
                        return jackpotPromise.then(function() {
                            return _app.app.emit(_Enums.GameEvent.JackpotGrand)
                        }).then(function() {
                            return GR.UI.model.set("controls.available", false)
                        }).then(function() {
                            return _this16.jackpotWin.show("", result)
                        }).then(function() {
                            return _helpers.utils.wait(1e3)
                        }).then(function() {
                            return Promise.all([_this16.jackpotWin.hide(), _this16.bonusCollect.collectJackpot(result)])
                        })
                    }
                    return jackpotPromise
                }
            }, {
                key: "onRestart",
                value: function onRestart() {
                    this.reels.forEachSymbol(function(s) {
                        return s.visible = true
                    });
                    if (this.respinsFrame) {
                        this.respinsFrame.clear();
                        this.respinsFrame = null
                    }
                    if (this.bonusReels) {
                        this.bonusReels.clear();
                        this.bonusReels.removeFromParent();
                        this.bonusReels.destroy({
                            children: true
                        });
                        this.bonusReels = null
                    }
                    this.removeTransitionAnimation();
                    _app.app.bg.changeBackground(true);
                    _app.app.bg.onReset();
                    this.reels.forEachOversizeSymbol(function(s) {
                        return s.state = null
                    });
                    GR.UI.model.set("controls.available", true)
                }
            }, {
                key: "firstScatterTrackTime",
                get: function get() {
                    var _this$anticipationSca;
                    return (_this$anticipationSca = this.anticipationScatters[0]) === null || _this$anticipationSca === void 0 ? void 0 : _this$anticipationSca.getTrackTime()
                }
            }]);
            return Board
        }(_Board.default);
        exports.Board = Board;
        _Fabric.default.set(_Enums.Fabrics.BOARD, Board)
    }, {
        "./components/Frame": 109,
        "./components/JackpotsBoard": 110,
        "./components/Logo": 111,
        "./components/RespinsFrame": 115,
        "./components/Transition": 117,
        "./components/bonus/BonusCollect": 118,
        "./components/bonus/BonusReels": 119,
        "./components/bonus/BonusSkip": 120,
        "./components/popups/BigWin": 131,
        "./components/popups/BigWinParams": 132,
        "./components/popups/BonusPopup": 133,
        "./components/popups/BonusWin": 134,
        "./components/popups/FreespinsPopup": 136,
        "./components/popups/JackpotWin": 137,
        "./components/popups/TotalWin": 138,
        "core/app": 33,
        "core/components/Board": 37,
        "core/components/GameSymbol": 39,
        "core/components/Reel": 42,
        "core/components/Reels": 43,
        "core/components/popups/GamePopupParams": 50,
        "core/core/Enums": 73,
        "core/core/Fabric": 74,
        "core/core/Sound": 80,
        "core/helpers": 90,
        "core/helpers/AssetsHelper": 86,
        lodash: 19
    }],
    105: [function(require, module, exports) {
        "use strict";
        var _Enums = _interopRequireDefault(require("core/core/Enums"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }
        _Enums.default.BonusNumberFly = "BonusNumberFly";
        _Enums.default.MysteryOpen = "MysteryOpen";
        _Enums.default.StartGameCollect = "StartGameCollect";
        _Enums.default.EndGameCollect = "EndGameCollect";
        _Enums.default.JackpotAnticipation = "JackpotAnticipation";
        _Enums.default.JackpotAnticipationStop = "JackpotAnticipationStop";
        _Enums.default.JackpotAnticipationStopLose = "JackpotAnticipationStopLose";
        _Enums.default.JackpotAnticipationStopFinal = "JackpotAnticipationStopFinal";
        _Enums.default.TurnToSuperBonus = "TurnToSuperBonus";
        _Enums.default.JackpotGrandHide = "JackpotGrandHide";
        _Enums.default.WinSuperBonus = "WinSuperBonus"
    }, {
        "core/core/Enums": 73
    }],
    106: [function(require, module, exports) {
        "use strict";
        var _GameModel = _interopRequireDefault(require("core/core/GameModel"));
        var _GameSymbol = _interopRequireDefault(require("./components/gameSymbol/GameSymbol"));
        var _app = _interopRequireDefault(require("core/app"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }
        _GameModel.default.prototype.anticipationMap = function() {
            var scatterMap = this.getGeneratedScatterMap();
            var bonusSymbolsMap = this.generateBonusSymbolsMap();
            return scatterMap.map(function(e, i) {
                return e || bonusSymbolsMap[i]
            })
        };
        _GameModel.default.prototype.getGeneratedScatterMap = function() {
            return this.generateAnticipationMap({
                id: _GameSymbol.default.SCATTER_ID,
                count: 3,
                countForAnticipation: 2,
                reels: [0, 1, 1, 1, 0]
            })
        };
        _GameModel.default.prototype.generateBonusSymbolsMap = function() {
            var bonusSymbolsCount = 0;
            var board = this.board();
            var map = [0, 0, 0, 0, 0];
            board.forEach(function(reel, i) {
                if (bonusSymbolsCount >= 3) {
                    map[i] = 1
                }
                reel.forEach(function(id) {
                    return bonusSymbolsCount = id === _GameSymbol.default.BONUS_ID || id === _GameSymbol.default.SUPER_ID ? bonusSymbolsCount + 1 : bonusSymbolsCount
                })
            });
            return map
        };
        _GameModel.default.prototype.triggerMap = function() {
            return this.generateTriggerMap([{
                count: 3,
                id: _GameSymbol.default.SCATTER_ID,
                reels: [0, 1, 1, 1, 0]
            }])
        };
        _GameModel.default.prototype.mysterySymbols = function() {
            return this.get("game.bonus.mystery_pos", [])
        };
        _GameModel.default.prototype.bonusSymbolsBoard = function() {
            if (this.current("old_bs_v", []).length) return this.current("old_bs_v", []);
            return this.current("bs_v", [])
        };
        _GameModel.default.prototype.finalBonusSymbolsBoard = function() {
            return this.current("bs_v", [])
        };
        _GameModel.default.prototype.bonusCount = function() {
            return this.current("bs_count", 0)
        };
        _GameModel.default.prototype.jackpot = function(name) {
            return this.get("settings.jackpots.".concat(name), null)
        };
        _GameModel.default.prototype.respinsLeft = function() {
            return this.current("rounds_left", 0)
        };
        _GameModel.default.prototype.canBonusStop = function() {
            return _app.default.model.canAction("bonus_spins_stop") || _app.default.model.canAction("bonus_freespins_stop")
        };
        _GameModel.default.prototype.bonusOriginState = function() {
            return this.get("game.bonus.back_to", "spins")
        };
        _GameModel.default.prototype.lastRespin = function() {
            return this.get("game.bonus.last_respin", "false")
        };
        _GameModel.default.prototype.isBonusTrigger = function() {
            var bonusSymbolsCount = 0;
            this.board().forEach(function(r) {
                return r.forEach(function(s) {
                    if (s === _GameSymbol.default.BONUS_ID || s === _GameSymbol.default.SUPER_ID) bonusSymbolsCount++
                })
            });
            return bonusSymbolsCount > 5
        };
        _GameModel.default.prototype.isSBMysterySymbol = function() {
            var _this = this;
            var isMystery = false;
            this.mysterySymbols().forEach(function(e) {
                if (_this.board()[e[0]][
                        [e[1]]
                    ] === _GameSymbol.default.SUPER_ID) isMystery = true
            });
            return isMystery
        };
        _GameModel.default.prototype.bonusWin = function() {
            return this.get("game.bonus.total_win", 0)
        };
        _GameModel.default.prototype.getLastBonusReel = function() {
            var index;
            this.board().forEach(function(r, i) {
                return r.forEach(function(s) {
                    if (s === _GameSymbol.default.BONUS_ID) index = i
                })
            });
            return index
        };
        _GameModel.default.prototype.triggerMacroRound = function() {
            return this.bonusInit() || _app.default.model.winscatters().length && _app.default.model.winscatters()[0].trigger === "freespins"
        };
        _GameModel.default.prototype.bonusInit = function() {
            return _app.default.model.canAction("bonus_init", false)
        };
        _GameModel.default.prototype.isAutoGame = function() {
            return GR.UI.model.get("autogame.active")
        };
        _GameModel.default.prototype.isBonusGame = function() {
            return this.get("game.current") === "bonus"
        };
        _GameModel.default.prototype.getSymbols = function() {
            return this.get("settings.symbols", []).sort(function(a, b) {
                return a.id - b.id
            })
        };
        _GameModel.default.prototype.isSuperBonus = function() {
            return this.current("is_super_state", false)
        };
        _GameModel.default.prototype.isSBTrigger = function() {
            return this.current("is_sb_trigger", false)
        };
        _GameModel.default.prototype.geBonusPos = function() {
            var b_pos = [];
            this.board().forEach(function(r, i) {
                return r.forEach(function(s, j) {
                    if (s === _GameSymbol.default.BONUS_ID || s === _GameSymbol.default.SUPER_ID || s === _GameSymbol.default.MYSTERY_ID) b_pos.push([i, j])
                })
            });
            return b_pos
        };
        _GameModel.default.prototype.setSBtriggered = function() {
            var current = this.get("game.current", null);
            this.set("game.".concat(current, ".is_sb_trigger"), false)
        };
        _GameModel.default.prototype.setNeedSB_State = function() {
            var current = this.get("game.current", null);
            this.set("game.".concat(current, ".isneed_sb_state"), this.isSuperBonus())
        };
        _GameModel.default.prototype.getNeedSB_State = function() {
            return this.current("isneed_sb_state", false)
        };
        _GameModel.default.prototype.bonusSymbolsMultipliers = function() {
            var multipliers = this.get("settings.bonus_symbols", []);
            if (this.isBonusGame() && this.isSuperBonus() && !this.isSBTrigger()) {
                multipliers = [5, 10, 15, "mini", "minor", "major", "grand"]
            }
            return multipliers
        };
        _GameModel.default.prototype.setDefaults = function() {
            var current = this.get("game.current", null);
            if (current === "spins") {
                this.set("game.".concat(current, ".round_win"), 0);
                this.set("game.".concat(current, ".rounds_left"), 0);
                this.set("game.".concat(current, ".total_win"), 0);
                this.set("game.".concat(current, ".winlines"), []);
                this.set("game.".concat(current, ".winscatters"), []);
                this.set("game.".concat(current, ".is_sb_trigger"), false);
                this.set("game.".concat(current, ".old_bs_v"), [])
            } else if (current === "freespins") {
                this.set("is_super_state", false);
                this.setNeedSB_State();
                this.set("game.".concat(current, ".mystery_pos"), []);
                this.set("game.".concat(current, ".round_win"), 0);
                this.set("game.".concat(current, ".winlines"), []);
                this.set("game.".concat(current, ".winscatters"), []);
                this.set("game.".concat(current, ".new_wilds"), []);
                this.set("game.".concat(current, ".old_bs_v"), [])
            } else {
                this.set("game.".concat(current, ".mystery_pos"), []);
                this.set("game.".concat(current, ".round_win"), 0);
                this.set("game.".concat(current, ".winlines"), []);
                this.set("game.".concat(current, ".winscatters"), []);
                this.set("game.".concat(current, ".new_wilds"), []);
                this.set("game.".concat(current, ".old_bs_v"), [])
            }
        }
    }, {
        "./components/gameSymbol/GameSymbol": 130,
        "core/app": 33,
        "core/core/GameModel": 75
    }],
    107: [function(require, module, exports) {
        "use strict";
        var _app = _interopRequireDefault(require("core/app"));
        var _Enums = require("core/core/Enums");
        var _States = require("core/core/States");
        var _AssetsHelper = _interopRequireDefault(require("core/helpers/AssetsHelper"));
        var _states = require("core/states");
        var _BonusState = require("./components/bonus/BonusState");
        require("./Board");
        require("./GameModel");
        require("./GameEvent");
        require("./components/Reel");
        require("./components/Reels");
        require("./components/Background");
        require("./components/Paytable");
        require("./components/StartScreenComponent");
        require("./components/gameSymbol/GameSymbol");
        require("./components/gameSymbol/GSSpineNames");
        require("./components/gameSymbol/GSViewConfig");
        require("./components/gameSymbol/GSView");
        require("./components/gameSymbol/GSBonusView");
        require("./components/gameSymbol/GSSpriteView");
        require("./states/States");
        var _SoundController = _interopRequireDefault(require("./controllers/SoundController"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }
        _app.default.stateMachine.add([
            [_States.NoneState, _states.LoadState, _Enums.GameEvent.Start, _app.default],
            [_states.LoadState, _states.InitState],
            [_states.InitState, _states.RouterState],
            [_states.RouterState, _states.LoadSpinsState, _Enums.GameEvent.action("spin"), _app.default],
            [_states.LoadSpinsState, _states.IdleSpinsState],
            [_states.IdleSpinsState, _states.SpinningSpinsState, _Enums.GameEvent.RoundStart, _app.default],
            [_states.SpinningSpinsState, _states.ResultSpinsState],
            [_states.ResultSpinsState, _states.RouterState],
            [_states.ResultSpinsState, _states.SpinningSpinsState, _Enums.GameEvent.RoundStart, _app.default],
            [_states.RouterState, _states.LoadFreeSpinsState, _Enums.GameEvent.action("freespin_init"), _app.default],
            [_states.LoadFreeSpinsState, _states.RouterState],
            [_states.RouterState, _states.SpinningFreeSpinsState, _Enums.GameEvent.action("freespin"), _app.default],
            [_states.SpinningFreeSpinsState, _states.ResultFreeSpinsState],
            [_states.ResultFreeSpinsState, _states.RouterState],
            [_states.RouterState, _states.UnloadFreeSpinsState, _Enums.GameEvent.action("freespin_stop"), _app.default],
            [_states.UnloadFreeSpinsState, _states.RouterState],
            [_states.RouterState, _BonusState.BonusState, _Enums.GameEvent.action("bonus_spins_stop"), _app.default],
            [_states.RouterState, _BonusState.BonusState, _Enums.GameEvent.action("bonus_freespins_stop"), _app.default],
            [_states.RouterState, _BonusState.BonusState, _Enums.GameEvent.action("bonus_init"), _app.default],
            [_states.RouterState, _BonusState.BonusState, _Enums.GameEvent.action("respin"), _app.default],
            [_BonusState.BonusState, _BonusState.BonusRespinState, _Enums.GameEvent.BonusRoundStart, _app.default],
            [_BonusState.BonusRespinState, _states.RouterState],
            [_BonusState.BonusState, _states.RouterState, _Enums.GameEvent.BonusStop, _app.default]
        ]);
        _app.default.once(_Enums.GameEvent.Start, function() {
            GR.UI.Events.autogame.on(function(e) {
                if (e.data && e.data.active) {
                    if (_app.default.model.canAction("respin")) {
                        _app.default.emit(_Enums.GameEvent.BonusRoundStart)
                    }
                }
            });
            _app.default.flow.setActionHandler("respin", function(args) {
                if (!_app.default.model.canAction("respin")) {
                    return Promise.reject(new Error("action not allowed"))
                }
                _app.default.emit(_Enums.GameEvent.BonusRoundStart);
                return _app.default.flow._act("respin", args)
            });
            _app.default.resize()
        });
        _app.default.once(_Enums.GameEvent.LoaderDone, function() {
            _app.default.loader.masterSpineAssetName = "bigwin";
            _app.default.loader.slaveSpineAssetName = "game_popups";
            _AssetsHelper.default.loadDemand("bigwin-0");
            _AssetsHelper.default.loadDemand("bigwin");
            _AssetsHelper.default.loadDemand("game_popups");
            _AssetsHelper.default.loadDemand("respins_frame");
            _AssetsHelper.default.loadDemand("respins_frame_level");
            _AssetsHelper.default.loadDemand("anticipation_bonus");
            _AssetsHelper.default.loadDemand("bonus_transition");
            _AssetsHelper.default.loadDemand("bonus_collect_fly")
        });
        (function() {
            var os = GR.Detector.os.name;
            var appleOs = os === "macosx" || os === "ios";
            _app.default.config.set("App.antialias", !appleOs)
        })();
        _app.default.addController("sound", _SoundController.default);
        _app.default.run()
    }, {
        "./Board": 104,
        "./GameEvent": 105,
        "./GameModel": 106,
        "./components/Background": 108,
        "./components/Paytable": 112,
        "./components/Reel": 113,
        "./components/Reels": 114,
        "./components/StartScreenComponent": 116,
        "./components/bonus/BonusState": 121,
        "./components/gameSymbol/GSBonusView": 123,
        "./components/gameSymbol/GSSpineNames": 126,
        "./components/gameSymbol/GSSpriteView": 127,
        "./components/gameSymbol/GSView": 128,
        "./components/gameSymbol/GSViewConfig": 129,
        "./components/gameSymbol/GameSymbol": 130,
        "./controllers/SoundController": 140,
        "./states/States": 144,
        "core/app": 33,
        "core/core/Enums": 73,
        "core/core/States": 81,
        "core/helpers/AssetsHelper": 86,
        "core/states": 95
    }],
    108: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.Background = void 0;
        var _app = require("core/app");
        var _Enums = require("core/core/Enums");
        var _SpriteBackground2 = _interopRequireDefault(require("core/components/SpriteBackground"));
        var _FreeSpinsStates = require("core/states/FreeSpinsStates");
        var _BonusState = require("./bonus/BonusState");

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _get() {
            if (typeof Reflect !== "undefined" && Reflect.get) {
                _get = Reflect.get
            } else {
                _get = function _get(target, property, receiver) {
                    var base = _superPropBase(target, property);
                    if (!base) return;
                    var desc = Object.getOwnPropertyDescriptor(base, property);
                    if (desc.get) {
                        return desc.get.call(arguments.length < 3 ? target : receiver)
                    }
                    return desc.value
                }
            }
            return _get.apply(this, arguments)
        }

        function _superPropBase(object, property) {
            while (!Object.prototype.hasOwnProperty.call(object, property)) {
                object = _getPrototypeOf(object);
                if (object === null) break
            }
            return object
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var Background = function(_SpriteBackground) {
            _inherits(Background, _SpriteBackground);
            var _super = _createSuper(Background);

            function Background() {
                _classCallCheck(this, Background);
                return _super.apply(this, arguments)
            }
            _createClass(Background, [{
                key: "_preInit",
                value: function _preInit() {
                    var _this = this;
                    _get(_getPrototypeOf(Background.prototype), "_preInit", this).call(this);
                    Object.assign(this.config, {
                        spins: "background",
                        freespins: "back_freespins",
                        bonus: "back_bonus_game"
                    });
                    _BonusState.BonusRespinState.on(_Enums.GameEvent.EnterState, function() {
                        return _this.use(_app.app.model.get("game.current"))
                    });
                    _FreeSpinsStates.SpinningFreeSpinsState.on(_Enums.GameEvent.EnterState, function() {
                        return _this.use(_app.app.model.get("game.current"))
                    });
                    _FreeSpinsStates.UnloadFreeSpinsState.on(_Enums.GameEvent.EnterState, function() {
                        return _this.use(_app.app.model.get("game.current"))
                    })
                }
            }, {
                key: "changeBackground",
                value: function changeBackground(force) {
                    return this.use(_app.app.model.get("game.current"), force)
                }
            }, {
                key: "use",
                value: function use(mode, force) {
                    var _this2 = this;
                    var time = force ? 1 : 500;
                    if (this.mode !== mode) {
                        this.mode = mode;
                        if (this.mode in this.config) {
                            this.oldBack = this.back;
                            this.back = this.addChild(PIXI.Sprite.fromFrame("".concat(this.config[mode])));
                            this.back.alpha = 0;
                            return Promise.all([this.back.tween(true).to({
                                alpha: 1
                            }, time).promise, this.oldBack.tween(true).to({
                                alpha: 0
                            }, time).call(function() {
                                return _this2.oldBack.removeFromParent()
                            }).promise])
                        }
                    }
                    return Promise.resolve()
                }
            }]);
            return Background
        }(_SpriteBackground2.default);
        exports.Background = Background;
        _app.Fabric.set(_Enums.Fabrics.BACKGROUND, Background)
    }, {
        "./bonus/BonusState": 121,
        "core/app": 33,
        "core/components/SpriteBackground": 44,
        "core/core/Enums": 73,
        "core/states/FreeSpinsStates": 93
    }],
    109: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;
        var _app = require("core/app");

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var TEXTURENAMES = {
            spins: "reel_frame",
            freespins: "fs_reel_frame",
            bonus: "bonus_reel_frame"
        };
        var Frame = function(_PIXI$Sprite) {
            _inherits(Frame, _PIXI$Sprite);
            var _super = _createSuper(Frame);

            function Frame() {
                var _this;
                _classCallCheck(this, Frame);
                _this = _super.call(this, new PIXI.Texture.fromFrame(TEXTURENAMES[_app.app.model.current()]));
                _this.anchor.set(.5);
                _this.position.set(_app.app.config.get("App.width") / 2, _app.app.config.get("App.height") / 2);
                return _this
            }
            _createClass(Frame, [{
                key: "useTexture",
                value: function useTexture() {
                    var mode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _app.app.model.current();
                    this.texture = PIXI.Texture.fromFrame(TEXTURENAMES[mode])
                }
            }]);
            return Frame
        }(PIXI.Sprite);
        exports.default = Frame
    }, {
        "core/app": 33
    }],
    110: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;
        var _helpers = require("core/helpers");
        var _GSViewConfig = _interopRequireDefault(require("core/components/symbolView/GSViewConfig"));
        var _Styles = require("../styles/Styles");

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var config = {
            positionCoords: {
                default: {
                    x: 170,
                    y: -11
                },
                bonus: {
                    x: 170,
                    y: -11
                }
            },
            valuesCoords: {
                default: {
                    x: [91, 265, 470, 676, 849],
                    y: [84, 84, 80, 84, 84]
                },
                bonus: {
                    x: [91, 265, 470, 676, 849],
                    y: [84, 84, 80, 84, 84]
                }
            },
            valuesSize: {
                default: {
                    width: [145, 145, 210, 145, 145],
                    height: [33, 33, 39, 33, 33]
                },
                bonus: {
                    width: [145, 145, 210, 145, 145],
                    height: [33, 33, 39, 33, 33]
                }
            }
        };
        var TEXTURENAMES = {
            default: "grand_panel_mobile",
            bonus: "grand_panel_mobile"
        };
        var JackpotsBoard = function(_PIXI$Sprite) {
            _inherits(JackpotsBoard, _PIXI$Sprite);
            var _super = _createSuper(JackpotsBoard);

            function JackpotsBoard() {
                var _this;
                _classCallCheck(this, JackpotsBoard);
                _this = _super.call(this, new PIXI.Texture.fromFrame("grand_panel_mobile"));
                _this.state = "default";
                _this.addValues();
                _this.updateValues();
                _this._resize();
                return _this
            }
            _createClass(JackpotsBoard, [{
                key: "addValues",
                value: function addValues() {
                    var _this2 = this;
                    this.values = [];
                    _GSViewConfig.default.jackpotNames.forEach(function() {
                        var value = _this2.addChild(new PIXI.Text("", _Styles.JACKPOT_STYLE));
                        value.anchor.set(.5);
                        _this2.values.push(value)
                    })
                }
            }, {
                key: "updateValues",
                value: function updateValues() {
                    var size = this.state === "bonus" ? config.valuesSize.bonus : config.valuesSize.default;
                    var bet = GR.UI.model.get("bet_per_line");
                    this.values.forEach(function(v, i) {
                        var multiplier = app.model.jackpot(_GSViewConfig.default.jackpotNames[i]);
                        var betFactor = app.model.get("settings.bet_factor")[0];
                        v.text = _helpers.i18n.coins(bet * betFactor * multiplier, true);
                        _helpers.utils.labelScale(v, size.width[i], size.height[i])
                    })
                }
            }, {
                key: "_resize",
                value: function _resize() {
                    var _this3 = this;
                    this.x = config.positionCoords[this.state].x;
                    this.y = config.positionCoords[this.state].y;
                    this.values.forEach(function(v, i) {
                        v.x = config.valuesCoords[_this3.state].x[i];
                        v.y = config.valuesCoords[_this3.state].y[i]
                    })
                }
            }, {
                key: "hide",
                value: function hide() {
                    this.visible = false
                }
            }, {
                key: "show",
                value: function show() {
                    this.visible = true
                }
            }, {
                key: "useTexture",
                value: function useTexture(state) {
                    this.state = state;
                    this.texture = PIXI.Texture.fromFrame(TEXTURENAMES[state]);
                    this.updateValues();
                    this._resize()
                }
            }]);
            return JackpotsBoard
        }(PIXI.Sprite);
        exports.default = JackpotsBoard
    }, {
        "../styles/Styles": 145,
        "core/components/symbolView/GSViewConfig": 61,
        "core/helpers": 90
    }],
    111: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;

        function _toConsumableArray(arr) {
            return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread()
        }

        function _nonIterableSpread() {
            throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }

        function _unsupportedIterableToArray(o, minLen) {
            if (!o) return;
            if (typeof o === "string") return _arrayLikeToArray(o, minLen);
            var n = Object.prototype.toString.call(o).slice(8, -1);
            if (n === "Object" && o.constructor) n = o.constructor.name;
            if (n === "Map" || n === "Set") return Array.from(o);
            if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen)
        }

        function _iterableToArray(iter) {
            if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter)
        }

        function _arrayWithoutHoles(arr) {
            if (Array.isArray(arr)) return _arrayLikeToArray(arr)
        }

        function _arrayLikeToArray(arr, len) {
            if (len == null || len > arr.length) len = arr.length;
            for (var i = 0, arr2 = new Array(len); i < len; i++) {
                arr2[i] = arr[i]
            }
            return arr2
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var Logo = function(_PIXI$Sprite) {
            _inherits(Logo, _PIXI$Sprite);
            var _super = _createSuper(Logo);

            function Logo() {
                var _this;
                _classCallCheck(this, Logo);
                _this = _super.call(this, new PIXI.Texture.fromFrame("logo"));
                _this.anchor.set(.5, 1);
                _this.changePosition(true);
                return _this
            }
            _createClass(Logo, [{
                key: "calculateLogoScale",
                value: function calculateLogoScale() {
                    var scalesSetting = {
                        .53: .9,
                        .57: .7,
                        .6: .55,
                        .63: .54,
                        .66: .53,
                        .7: .3
                    };
                    var ratioArr = [.57, .6, .63, .66, .7];
                    var ratio = window.innerWidth / window.innerHeight;
                    var filtredRatioArr = ratioArr.filter(function(r) {
                        return r >= ratio
                    });
                    var minRatio = Math.min.apply(Math, _toConsumableArray(filtredRatioArr));
                    var lagestRatio = ratioArr[ratioArr.length - 1];
                    var scale = ratio > lagestRatio ? scalesSetting[lagestRatio] : scalesSetting[minRatio];
                    return scale
                }
            }, {
                key: "changePosition",
                value: function changePosition() {
                    var isSpinsMode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
                    if (GR.UI.model.get("orientation") === "portrait") {
                        this.texture = new PIXI.Texture.fromFrame("logo");
                        if (app.hasPortraitOffset) {
                            this.y = -5;
                            this.scale.set(this.calculateLogoScale())
                        } else {
                            this.y = -10;
                            this.scale.set(this.calculateLogoScale())
                        }
                        this.x = 640;
                        this.visible = !app.quadDisplay
                    } else {
                        this.scale.set(.52);
                        this.x = 83;
                        this.y = 200
                    }
                }
            }]);
            return Logo
        }(PIXI.Sprite);
        exports.default = Logo
    }, {}],
    112: [function(require, module, exports) {
        "use strict";
        var _mustache = _interopRequireDefault(require("mustache"));
        var _app = require("core/app");
        var _i18n = _interopRequireDefault(require("core/helpers/i18n"));
        var _GRPaytable = require("core/components/GRPaytable");
        var _GameSymbol = _interopRequireDefault(require("./gameSymbol/GameSymbol"));
        require("../styles/paytable.pcss");

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }
        var imageCache = {};

        function getImage(frame) {
            return imageCache[frame] = imageCache[frame] || _app.app.renderer.extract.base64(PIXI.Sprite.fromFrame(frame))
        }
        var pageModifierClass = "paytable-page--" + _app.env.get("lang");
        _GRPaytable.Paytable.prototype.getPages = function() {
            return [{
                title: _i18n.default.get("PT_PAYTABLE_TITLE"),
                class: "symbols-page-first",
                content: this.createSymbolsPage([10, 9, 8, 7, 6, 5])
            }, {
                title: _i18n.default.get("PT_PAYTABLE_TITLE"),
                class: "symbols-page-second",
                content: this.createSymbolsPage([4, 3, 2, 1])
            }, {
                title: _i18n.default.get("PT_SYMBOLS_TITLE"),
                class: pageModifierClass,
                content: this.createSpecialSymbolsPage()
            }, {
                title: _i18n.default.get("PT_FREE_SPINS_TITLE"),
                class: pageModifierClass,
                content: this.createFreespinsPage()
            }, {
                title: _i18n.default.get("PT_BONUS_TITLE"),
                class: pageModifierClass,
                content: this.createBonusGamePage()
            }, {
                title: _i18n.default.get("PT_SUPER_BONUS_TITLE"),
                class: pageModifierClass,
                content: this.createSuperBonusGamePage()
            }, {
                title: _i18n.default.get("PT_JACKPOTS_TITLE"),
                class: pageModifierClass,
                content: this.createJackpotPage()
            }, {
                title: _i18n.default.get("PT_MYSTERY_SYMBOL_TITLE"),
                class: pageModifierClass,
                content: this.createMysteryPage()
            }, {
                title: _i18n.default.html("PAYTABLE_WINLINES"),
                content: this.getPaylines()
            }]
        };
        _GRPaytable.Paytable.prototype.createSymbolsPage = function(symbols) {
            var pageClass = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "";
            var symbolsLayout = '\n            <div class="symbols-page">\n                {{#symbols}}\n                    {{{.}}}\n                {{/symbols}}\n                \n            </div>\n        ';
            var defaultSymbols = symbols;
            return _mustache.default.render(symbolsLayout, {
                symbols: _GRPaytable.Paytable.createSymbolsPage(defaultSymbols, "multiline", "column pays-in-column ".concat(pageClass), {})
            })
        };
        _GRPaytable.Paytable.prototype.createSpecialSymbolsPage = function() {
            var specialSymbolsPageTemplate = '\n        <div class="sp-symbols-page-wrapper">\n            <div class="sp-symbols-page-block sp-symbols-wild">\n                <div class = "sp-symbols-image sp-symbols-wild-image">\n                    <img src="{{spSymbolsWildImage}}">\n                </div>    \n                <div class="sp-symbols-texts-block sp-symbols-wild-texts-block">\n                    <div class="sp-symbols-texts sp-symbols-wild-texts">\n                    {{#spSymbolsWildTexts}}\n                       <div>{{{.}}}</div>\n                    {{/spSymbolsWildTexts}}\n                    </div>\n                </div>\n            </div>\n            <div class="sp-symbols-page-block sp-symbols-scatter">\n            <div class = "sp-symbols-image sp-symbols-scatter-image">\n                <img src="{{spSymbolsScatterImage}}">\n            </div>    \n            <div class="sp-symbols-texts-block sp-symbols-scatter-texts-block">\n                <div class="sp-symbols-texts sp-symbols-scatter-texts">\n                {{#spSymbolsSacatterTexts}}\n                   <div>{{{.}}}</div>\n                {{/spSymbolsSacatterTexts}}\n                </div>\n            </div>\n        </div>\n            <div class="sp-symbols-page-block sp-symbols-bonus">\n                <div class = "sp-symbols-image sp-symbols-bonus-image">\n                       {{#spSymbolsBonusImages}}\n                        <img src="{{.}}">\n                    {{/spSymbolsBonusImages}}\n                </div>\n                <div class="sp-symbols-texts-block sp-symbols-bonus-texts-block">\n\n                     <div class="sp-symbols-texts sp-symbols-bonus-texts">\n                        {{#spSymbolsBonusTexts}}\n                         <div>{{{.}}}</div>\n                         {{/spSymbolsBonusTexts}}\n                     </div>\n                </div>\n            </div>\n        </div>\n    ';
            return _mustache.default.render(specialSymbolsPageTemplate, {
                spSymbolsWildImage: _GRPaytable.Paytable.createSymbolImage(_GameSymbol.default.WILD_ID),
                spSymbolsScatterImage: _GRPaytable.Paytable.createSymbolImage(_GameSymbol.default.SCATTER_ID),
                spSymbolsBonusImages: _GRPaytable.Paytable.createSymbolImage(_GameSymbol.default.BONUS_ID),
                spSymbolsWildTexts: [_i18n.default.html("PT_SYMBOL_WILD_0")],
                spSymbolsSacatterTexts: [_i18n.default.html("PT_SYMBOL_SCATTER_0")],
                spSymbolsBonusTexts: [_i18n.default.html("PT_SYMBOL_BONUS_0")]
            })
        };
        _GRPaytable.Paytable.prototype.createFreespinsPage = function() {
            var freespinsPageTemplate = '\n        <div class="common-page-wrapper">\n            <div class="common-page">\n                <div class="common-image-block">\n                    <img src="{{fsImageLeft}}">\n                </div>   \n                <div class="common-page-text">\n                    {{#textLeft}}\n                    <div>{{{.}}}</div>\n                    {{/textLeft}}\n                </div>\n            </div>\n            <div class="common-page">\n                <div class="common-image-block">\n                    <img src="{{fsImageRight}}">\n                </div>  \n                <div class="common-page-text">\n                    {{#textRight}}\n                    <div>{{{.}}}</div>\n                    {{/textRight}}\n                </div>\n            </div>\n\n            <div class="common-fs-page-bottom ">\n                <div class="common-page-text">\n                    {{bottomText}}\n                </div>\n                    <img src="{{fsImageBottom}}">\n            </div>\n        </div>\n    ';
            return _mustache.default.render(freespinsPageTemplate, {
                fsImageLeft: getImage("scatter_paytable"),
                fsImageRight: getImage("fs_screen_paytable"),
                fsImageBottom: getImage("symbols"),
                textLeft: [_i18n.default.html("PT_FS_PAGE_TEXT_1")],
                textRight: [_i18n.default.html("PT_FS_PAGE_TEXT_2")],
                bottomText: [_i18n.default.html("PT_FS_PAGE_TEXT_3")]
            })
        };
        _GRPaytable.Paytable.prototype.createBonusGamePage = function() {
            var bonusPageTemplate = '\n       <div class="common-page-wrapper">\n            <div class="common-page">\n                <div class="common-image-block">\n                    <img src="{{bonusImageLeft}}">\n                </div>\n                <div class="common-page-text">\n                    {{#textLeft}}\n                    <div>{{{.}}}</div>\n                    {{/textLeft}}\n                </div>\n            </div>\n            <div class="common-page">\n                <div class="common-image-block">\n                    <img src="{{bonusImageRight}}">\n                </div>\n                <div class="common-page-text">\n                    {{#textRight}}\n                    <div>{{{.}}}</div>\n                    {{/textRight}}\n                </div>\n            </div>\n        \n            <div class="common-page-bottom">\n                <div class="common-page-text">\n                    {{#bonusTexts}}\n                    <div>{{.}}</div>\n                    {{/bonusTexts}}\n                </div>    \n            </div>\n         </div>\n      \n\n    ';
            return _mustache.default.render(bonusPageTemplate, {
                bonusImageLeft: getImage("pearl_paytable"),
                bonusImageRight: getImage("bonus_2_screen_paytable"),
                textLeft: [_i18n.default.html("PT_BONUS_PAGE_TEXT_1")],
                textRight: [_i18n.default.html("PT_BONUS_PAGE_TEXT_2")],
                bonusTexts: [_i18n.default.get("PT_BONUS_PAGE_TEXT_3"), _i18n.default.get("PT_BONUS_PAGE_TEXT_4"), _i18n.default.get("PT_BONUS_PAGE_TEXT_5"), _i18n.default.get("PT_BONUS_PAGE_TEXT_6")]
            })
        };
        _GRPaytable.Paytable.prototype.createSuperBonusGamePage = function() {
            var superBonusPageTemplate = '\n       <div class="common-page-wrapper">\n            <div class="common-page">\n                <div class="common-image-block">\n                    <img src="{{superBonusImageLeft}}">\n                </div>\n                <div class="common-page-text">\n                    {{#textLeft}}\n                    <div>{{{.}}}</div>\n                    {{/textLeft}}\n                </div>\n            </div>\n            <div class="common-page">\n                <div class="common-image-block">\n                    <img src="{{superBonusImageRight}}">\n                </div>\n                <div class="common-page-text">\n                    {{#textRight}}\n                    <div>{{{.}}}</div>\n                    {{/textRight}}\n                </div>\n            </div>\n        \n            <div class="common-page-bottom">\n                <div class="common-page-text">\n                    {{#superBonusTexts}}\n                    <div>{{.}}</div>\n                    {{/superBonusTexts}}\n                </div>    \n            </div>\n         </div>\n      \n\n    ';
            return _mustache.default.render(superBonusPageTemplate, {
                superBonusImageLeft: getImage("super_bonus_paytable"),
                superBonusImageRight: getImage("super_bonus_screen_paytable"),
                textLeft: [_i18n.default.html("PT_SUPER_BONUS_PAGE_TEXT_1")],
                textRight: [_i18n.default.html("PT_SUPER_BONUS_PAGE_TEXT_2")],
                superBonusTexts: [_i18n.default.get("PT_SUPER_BONUS_PAGE_TEXT_3"), _i18n.default.get("PT_SUPER_BONUS_PAGE_TEXT_4")]
            })
        };
        _GRPaytable.Paytable.prototype.createJackpotPage = function() {
            var jackpotPageTemplate = '\n       <div class="common-page-wrapper">\n            <div class="common-page">\n                <div class="common-image-block">\n                    <img src="{{jackpotImageLeft}}">\n                </div>\n                <div class="common-page-text">\n                    {{#textLeft}}\n                    <div>{{{.}}}</div>\n                    {{/textLeft}}\n                </div>\n            </div>\n            <div class="common-page">\n                <div class="common-image-block">\n                    <img src="{{jackpotImageRight}}">\n                </div>\n                <div class="common-page-text">\n                    {{#textRight}}\n                    <div>{{{.}}}</div>\n                    {{/textRight}}\n                </div>\n            </div>\n       </div>\n    ';
            return _mustache.default.render(jackpotPageTemplate, {
                jackpotImageLeft: getImage("jackpot_screen_paytable"),
                jackpotImageRight: getImage("jackpot_screen_paytable_2"),
                textLeft: [_i18n.default.html("PT_JACKPOT_TEXT_1")],
                textRight: [_i18n.default.html("PT_JACKPOT_TEXT_2")]
            })
        };
        _GRPaytable.Paytable.prototype.createMysteryPage = function() {
            var mysteryPageTemplate = '\n    <div class="common-page-wrapper">\n        <div class="common-page">\n            <div class="common-image-block">\n                <img src="{{mysteryImageLeft}}">\n            </div>\n            <div class="common-page-text">\n                {{#textLeft}}\n                <div>{{{.}}}</div>\n                {{/textLeft}}\n            </div>\n        </div>\n        <div class="common-page">\n            <div class="common-image-block">\n                <img src="{{mysteryImageRight}}">\n            </div>\n            <div class="common-page-text">\n                {{#textRight}}\n                <div>{{{.}}}</div>\n                {{/textRight}}\n            </div>\n        </div>\n        <div class="common-page-bottom">\n            <div class="common-page-text">\n                {{#mysteryTexts}}\n                <div>{{.}}</div>\n                {{/mysteryTexts}}\n            </div>    \n        </div>\n    </div>\n\n    \n    ';
            return _mustache.default.render(mysteryPageTemplate, {
                mysteryImageLeft: getImage("mystery_symbol_2"),
                mysteryImageRight: getImage("mystery_symbol"),
                textLeft: [_i18n.default.html("PT_MYSTERY_PAGE_TEXT_1")],
                textRight: [_i18n.default.html("PT_MYSTERY_PAGE_TEXT_2")],
                mysteryTexts: [_i18n.default.get("PT_MYSTERY_PAGE_TEXT_3"), _i18n.default.get("PT_MYSTERY_PAGE_TEXT_4")]
            })
        };
        _GRPaytable.Paytable.prototype.getPaylines = function() {
            var paylines = '\n    <div class="paytable-paylines">\n        {{#paylines}}\n            <div class="payline"><div class="lineNumber">{{index}}</div>{{{content}}}</div>\n        {{/paylines}}\n    </div>';
            return _mustache.default.render(paylines, {
                paylines: _GRPaytable.Paytable.generatePaylines(_app.app.config.get("App.cols"), _app.app.config.get("App.rows"), _app.app.model.get("settings.paylines"))
            })
        };
        _GRPaytable.Paytable.prototype.getPaysParams = function() {
            var params = _app.app.model.get("settings.lines");
            params.time = GR.Options.options.round_expire || 90;
            return params
        };
        _GRPaytable.Paytable.prototype.getBonusSymbolsMultiplier = function() {
            var multipliers = [];
            var data = _app.app.model.bonusSymbolsMultipliers();
            data.forEach(function(v) {
                if (!["major", "minor", "mini"].includes(v)) {
                    multipliers.push(v)
                }
            });
            return multipliers
        };
        _GRPaytable.Paytable.prototype.generateCommonTextsParams = function() {
            var glossary = this.getGlossary("GLOSSARY_NAME");
            var rtp = this.getCommonRulesRTP();
            return {
                rtp: rtp,
                lines: _app.app.model.get("settings.lines", null),
                ball_values: this.getBonusSymbolsMultiplier(),
                time: GR.Options.options.round_expire || 90,
                glossary: glossary ? glossary.content : "",
                royal_value: _app.app.model.get("settings.jackpots.royal"),
                grand_value: _app.app.model.get("settings.jackpots.grand"),
                major_value: _app.app.model.get("settings.jackpots.major"),
                minor_value: _app.app.model.get("settings.jackpots.minor"),
                mini_value: _app.app.model.get("settings.jackpots.mini")
            }
        };
        _GRPaytable.Paytable.prototype.getPays = function() {}
    }, {
        "../styles/paytable.pcss": 146,
        "./gameSymbol/GameSymbol": 130,
        "core/app": 33,
        "core/components/GRPaytable": 38,
        "core/helpers/i18n": 89,
        mustache: 20
    }],
    113: [function(require, module, exports) {
        "use strict";
        var _app = require("core/app");
        var _Reel = _interopRequireDefault(require("core/components/Reel"));
        var _GSView = _interopRequireDefault(require("core/components/symbolView/GSView"));
        var _GameSymbol = _interopRequireDefault(require("./gameSymbol/GameSymbol"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _toConsumableArray(arr) {
            return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread()
        }

        function _nonIterableSpread() {
            throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }

        function _unsupportedIterableToArray(o, minLen) {
            if (!o) return;
            if (typeof o === "string") return _arrayLikeToArray(o, minLen);
            var n = Object.prototype.toString.call(o).slice(8, -1);
            if (n === "Object" && o.constructor) n = o.constructor.name;
            if (n === "Map" || n === "Set") return Array.from(o);
            if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen)
        }

        function _iterableToArray(iter) {
            if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter)
        }

        function _arrayWithoutHoles(arr) {
            if (Array.isArray(arr)) return _arrayLikeToArray(arr)
        }

        function _arrayLikeToArray(arr, len) {
            if (len == null || len > arr.length) len = arr.length;
            for (var i = 0, arr2 = new Array(len); i < len; i++) {
                arr2[i] = arr[i]
            }
            return arr2
        }
        Object.assign(_Reel.default.prototype, {
            push: function push() {
                var symbolId = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
                var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
                var bonusData = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
                var height = _app.app.config.get("GameSymbol.height");
                var gapV = _app.app.config.get("Reels.gapV");
                var yShift = height + gapV;
                var len = this.symbols.length;
                var lastSymbol = this.symbols[len - 1];
                for (var i = len - 2; i >= 0; i--) {
                    this.symbols[i].y += yShift;
                    this.symbols[i + 1] = this.symbols[i]
                }
                this.symbols[0] = lastSymbol;
                lastSymbol.y = -height / 2 - gapV;
                if (symbolId === null) {
                    var data = this.symbols.slice(1).map(function(s) {
                        return s.id
                    });
                    symbolId = this.getNextPossibleSymbol(data);
                    state = state || _GameSymbol.default.MOVE
                } else {
                    state = state || _GameSymbol.default.STATIC
                }
                if (_app.app.model.getNeedSB_State() && symbolId === _GameSymbol.default.BONUS_ID) {
                    lastSymbol.state = null
                }
                lastSymbol.setId(symbolId);
                lastSymbol.setState(state);
                if (symbolId === _GameSymbol.default.BONUS_ID) {
                    var value = bonusData > 0 || typeof bonusData === "string" ? bonusData : _GSView.default.generateRandomBonusSymbolValue();
                    lastSymbol.setBonusSymbolValue(value);
                    lastSymbol.setBonusSymbolViewValue(value)
                }
                if (_app.app.config.get("Reel.sortZIndex")) {
                    this.reel.setChildIndex(lastSymbol, 0)
                }
                this.sortByZIndex();
                this.emit(_Reel.default.EVENT.PUSH)
            },
            _stop: function _stop() {
                var _this = this;
                var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
                    tween = _ref.tween,
                    _ref$needAdvance = _ref.needAdvance,
                    needAdvance = _ref$needAdvance === void 0 ? true : _ref$needAdvance;
                needAdvance = needAdvance && this.timeLeftForStop && tween;
                tween = tween || this.reel.tween(true);
                var startTime = tween.duration;
                var quickSpin = this.quickSpin;
                var useQuickAnticipation = quickSpin && _app.app.config.get("Reel.useQuickAnticipation");
                var leaveTime;
                var cycleTime;
                var cycleFinalTime;
                if (this.state === _Reel.default.STATE.SKIPPING && _app.app.config.get("Reel.turboSkip")) {
                    leaveTime = _app.app.config.get("Reel.skipLeaveTime");
                    cycleTime = _app.app.config.get("Reel.skipCycleTime")
                } else {
                    leaveTime = quickSpin ? _app.app.config.get("Reel.quickLeaveTime") : _app.app.config.get("Reel.leaveTime");
                    cycleTime = quickSpin ? _app.app.config.get("Reel.quickCycleTime") : _app.app.config.get("Reel.cycleTime")
                }
                cycleFinalTime = cycleTime;
                var withAnticipation = false;
                var additionalBaseTimes = null;
                var additionalFinalTimes = null;
                var additionalTimes = null;
                var backOutAmount = null;
                if (this.state === _Reel.default.STATE.STOPPING_ANTICIPATION) {
                    if (_app.app.config.get("AdvancedReels.useAdvancedReels") && _app.app.config.get("AdvancedReels.useAdvancedAnticipationMultipliers")) {
                        additionalBaseTimes = useQuickAnticipation ? _app.app.config.get("AdvancedReels.quikAnticipationMultipliers.".concat(this.id, ".additionalTimes")) : _app.app.config.get("AdvancedReels.anticipationMultipliers.".concat(this.id, ".additionalTimes"));
                        backOutAmount = useQuickAnticipation ? _app.app.config.get("AdvancedReels.quikAnticipationMultipliers.".concat(this.id, ".backOutAmount")) : _app.app.config.get("AdvancedReels.anticipationMultipliers.".concat(this.id, ".backOutAmount"))
                    } else {
                        additionalBaseTimes = useQuickAnticipation ? _app.app.config.get("Reel.quickAnticipationTimingMultiplier") : _app.app.config.get("Reel.anticipationTimingMultiplier");
                        backOutAmount = useQuickAnticipation ? _app.app.config.get("Reel.backOutAmountQuickAnticipation") : _app.app.config.get("Reel.backOutAmountAnticipation")
                    }
                    withAnticipation = additionalBaseTimes && additionalBaseTimes.length
                }
                tween.call(function() {
                    _this.emit(_Reel.default.EVENT.BEFORE_START_STOP)
                });
                var deltaY = _app.app.config.get("GameSymbol.height") + _app.app.config.get("Reels.gapV");
                this.additionalSymbols = [];
                var reelData = this.getFinishReelData();
                var bonusSymbolsData = [0].concat(_toConsumableArray(_app.app.model.bonusSymbolsBoard()[this.id - 1]), [0]);
                var animatedSymbols = 1;
                var anticipationArray = [];
                var anticipationCurrCombo = this.symbols.slice().map(function(s) {
                    return s.id
                });
                if (withAnticipation) {
                    var finalBoardCount = _app.app.config.get("App.rows") + 1;
                    additionalFinalTimes = additionalBaseTimes.slice(-finalBoardCount).reverse();
                    additionalTimes = additionalBaseTimes.slice(0, additionalBaseTimes.length - additionalFinalTimes.length);
                    var delta = additionalTimes.length - this.maxAdjacencyDistance;
                    var anticipationArraySteps = delta < 1 ? additionalTimes.length : delta;
                    for (var i = 0; i < anticipationArraySteps; i++) {
                        var newSymbol = this.getNextPossibleSymbol(anticipationCurrCombo);
                        anticipationArray.push(newSymbol);
                        anticipationCurrCombo.pop();
                        anticipationCurrCombo.unshift(newSymbol)
                    }
                    anticipationArray = anticipationArray.concat(this.getPossibleSymbolsArray(anticipationCurrCombo).reverse());
                    for (var _i = 0; _i < additionalTimes.length; _i++) {
                        tween.to({
                            y: deltaY
                        }, cycleTime / additionalTimes[_i]);
                        tween.to({
                            y: 0
                        });
                        tween.call(this.push, [anticipationArray.shift(), _GameSymbol.default.ANTICIPATION, null], this)
                    }
                    var lastMultiplier = additionalTimes[additionalTimes.length - 1];
                    leaveTime = _app.app.config.get("Reel.leaveTimeAnticipation") / lastMultiplier;
                    cycleTime = cycleTime / lastMultiplier
                }
                var randomReelData = withAnticipation ? [] : this.getPossibleSymbolsArray();
                var randomDataCycleTime = this.state === _Reel.default.STATE.SKIPPING ? 1 : cycleTime;
                if (randomReelData.length > 0) {
                    for (var _i2 = randomReelData.length - 1; _i2 >= 0; --_i2) {
                        tween.to({
                            y: _app.app.config.get("GameSymbol.height") + _app.app.config.get("Reels.gapV")
                        }, randomDataCycleTime);
                        tween.to({
                            y: 0
                        });
                        tween.call(this.push, [randomReelData[_i2], _GameSymbol.default.MOVE], this)
                    }
                }
                for (var _i3 = reelData.length - 1; _i3 > 0; --_i3) {
                    var time = cycleTime;
                    if (additionalFinalTimes && additionalFinalTimes.length > 0) {
                        time = cycleFinalTime / additionalFinalTimes[_i3 - 1]
                    }
                    tween.to({
                        y: deltaY
                    }, time);
                    tween.to({
                        y: 0
                    });
                    tween.call(this.push, [reelData[_i3], null, bonusSymbolsData[_i3]], this);
                    if (_i3 === animatedSymbols) {
                        tween.call(function() {
                            return _this.state = _Reel.default.STATE.STOPPING_FINAL
                        })
                    }
                }
                if (additionalFinalTimes && additionalFinalTimes.length > 0) {
                    leaveTime = _app.app.config.get("Reel.leaveTimeAnticipation") / additionalFinalTimes[0]
                }
                backOutAmount = backOutAmount || _app.app.config.get("Reel.backOutAmount");
                var currentTime = tween.duration;
                var stopMaxTime = currentTime + leaveTime * (3 + backOutAmount) / (3 * backOutAmount + 3);
                var stopBeforeBackOutTime = currentTime + leaveTime * (1 / (backOutAmount + 1));
                tween.call(this.push, [reelData[0]], this);
                tween.call(function() {
                    return _this.emit(_Reel.default.EVENT.PUSH_LAST)
                });
                tween._actionTail.t = currentTime;
                tween.to({
                    y: -deltaY
                });
                tween.to({
                    y: 0
                }, leaveTime, createjs.Ease.getBackOut(backOutAmount));
                tween.call(function() {
                    return _this.emit(_Reel.default.EVENT.STOP_BEFORE_BACK_OUT)
                });
                tween._actionTail.t = stopBeforeBackOutTime;
                tween.call(function() {
                    return _this.emit(_Reel.default.EVENT.STOP_MAXIMUM)
                });
                tween._actionTail.t = stopMaxTime;
                tween.call(function() {
                    _this.state = _Reel.default.STATE.NORMAL;
                    _this.emit(_Reel.default.EVENT.STOP)
                });
                this.timeTween = leaveTime / 2;
                this.timeScaleTween = 1;
                var endTime = tween.duration;
                var duration = endTime - startTime;
                this.reelStackData = this.clearStackData();
                if (needAdvance) {
                    var magicNum = 10;
                    var durationLeft = Math.max(0, this.timeLeftForStop - this.timeLeftTween.position);
                    tween.timeScale = Math.max(.1, Math.min(10, duration / (durationLeft + magicNum)));
                    this.timeTween = leaveTime / 2;
                    this.stopMaxTimeTween = stopMaxTime;
                    this.backOutAmountTween = backOutAmount;
                    this.timeScaleTween = tween.timeScale
                }
            },
            fillFromModel: function fillFromModel() {
                var data = this.getFinishReelData();
                var bonusBoardArr = _app.app.model.finalBonusSymbolsBoard();
                var bonusBoard = bonusBoardArr[this.id - 1];
                var len = Math.min(data.length, this.symbols.length);
                for (var i = 0; i < len; ++i) {
                    var symbol = this.symbols[i];
                    symbol.setId(data[i]);
                    symbol.setStaticState();
                    if (symbol.id === _GameSymbol.default.BONUS_ID || symbol.id === _GameSymbol.default.SUPER_ID) {
                        var value = bonusBoard[i - 1];
                        value = value > 0 || typeof value === "string" ? value : symbol.id === _GameSymbol.default.SUPER_ID ? 0 : _GSView.default.generateRandomBonusSymbolValue();
                        symbol.setBonusSymbolValue(value);
                        symbol.setBonusSymbolViewValue(value)
                    }
                }
                this.sortByZIndex()
            },
            sortByZIndex: function sortByZIndex() {
                if (!_app.app.config.get("AdvancedReels.useCustomZIndex")) return;
                var sortY = function sortY(a, b) {
                    a.y = a.y || 0;
                    b.y = b.y || 0;
                    return a.y - b.y
                };
                var sortZIndex = function sortZIndex(a, b) {
                    a.zIndex = a.zIndex || 0;
                    b.zIndex = b.zIndex || 0;
                    return a.zIndex - b.zIndex
                };
                this.reel.children.sort(sortY);
                this.reel.children.sort(sortZIndex)
            },
            getReelData: function getReelData() {
                if (_app.app.model.current() === "freespins" || _app.app.model.current() === "bonus" && _app.app.model.get("game.bonus.back_to", "") === "freespins") {
                    return _app.app.model.get("game.freespins.board", [])[this.id - 1]
                }
                return _app.app.model.get("game.spins.board", [])[this.id - 1]
            },
            getDefaultMaskCoords: function getDefaultMaskCoords() {
                var width = _app.app.config.get("GameSymbol.width");
                var height = _app.app.config.get("GameSymbol.height");
                var gapV = _app.app.config.get("Reels.gapV");
                return [-width / 2, this.skipTopRows * (height + gapV) - _app.app.config.get("Reel.maskVerticalPadding"), width * 2, (height + gapV) * (this.rows - this.skipBottomRows - this.skipTopRows) - gapV + _app.app.config.get("Reel.maskVerticalPadding") * 2]
            }
        })
    }, {
        "./gameSymbol/GameSymbol": 130,
        "core/app": 33,
        "core/components/Reel": 42,
        "core/components/symbolView/GSView": 60
    }],
    114: [function(require, module, exports) {
        "use strict";
        var _app = _interopRequireDefault(require("core/app"));
        var _helpers = require("core/helpers");
        var _Reel = _interopRequireDefault(require("core/components/Reel"));
        var _Reels = _interopRequireDefault(require("core/components/Reels"));
        var _GameSymbol = _interopRequireDefault(require("core/components/GameSymbol"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _toConsumableArray(arr) {
            return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread()
        }

        function _nonIterableSpread() {
            throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }

        function _unsupportedIterableToArray(o, minLen) {
            if (!o) return;
            if (typeof o === "string") return _arrayLikeToArray(o, minLen);
            var n = Object.prototype.toString.call(o).slice(8, -1);
            if (n === "Object" && o.constructor) n = o.constructor.name;
            if (n === "Map" || n === "Set") return Array.from(o);
            if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen)
        }

        function _iterableToArray(iter) {
            if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter)
        }

        function _arrayWithoutHoles(arr) {
            if (Array.isArray(arr)) return _arrayLikeToArray(arr)
        }

        function _arrayLikeToArray(arr, len) {
            if (len == null || len > arr.length) len = arr.length;
            for (var i = 0, arr2 = new Array(len); i < len; i++) {
                arr2[i] = arr[i]
            }
            return arr2
        }
        Object.assign(_Reels.default.prototype, {
            setSymbolsStaticState: function setSymbolsStaticState() {
                var _this = this;
                this.forEachSymbol(function(symbol, i, j) {
                    symbol.setStaticState();
                    if (_this.oversizeSymbols[i][j]) {
                        _this.oversizeSymbols[i][j].setDeBlurState(250);
                        _this.oversizeSymbols[i][j].state = _GameSymbol.default.OVERSIZE
                    }
                });
                this.forEachAdditionalSymbol(function(symbol) {
                    return symbol.setStaticState()
                })
            },
            forEachAdditionalSymbol: function forEachAdditionalSymbol(callback) {
                var cols = Math.min(_app.default.model.cols(), this.reels.length);
                for (var i = 0; i < cols; ++i) {
                    callback.call(this, this.reels[i].symbols[0], i + this.reelOffset, 0);
                    callback.call(this, this.reels[i].symbols[4], i + this.reelOffset, 4)
                }
            },
            forEachOversizeSymbol: function forEachOversizeSymbol(callback) {
                var cols = Math.min(_app.default.model.cols(), this.reels.length);
                for (var i = 0; i < cols; ++i) {
                    var rows = _app.default.model.rows(this.reels[i].id);
                    for (var j = 0; j < rows; ++j) {
                        if (this.oversizeSymbols[i][j]) callback.call(this, this.oversizeSymbols[i][j], i + this.reelOffset, j)
                    }
                }
            },
            setSymbolsDeBlurState: function setSymbolsDeBlurState() {
                this.forEachSymbol(function(symbol) {
                    return symbol.setDeBlurState()
                });
                this.forEachOversizeSymbol(function(s) {
                    return s.setDeBlurState()
                });
                this.forEachAdditionalSymbol(function(symbol) {
                    return symbol.setDeBlurState()
                })
            },
            _stop: function _stop(_ref) {
                var _this2 = this;
                var unholdReels = _ref.unholdReels,
                    anticipationMap = _ref.anticipationMap,
                    normalState = _ref.normalState,
                    intervalNormal = _ref.intervalNormal,
                    intervalAnticipation = _ref.intervalAnticipation,
                    _ref$extraDelay = _ref.extraDelay,
                    extraDelay = _ref$extraDelay === void 0 ? 0 : _ref$extraDelay;
                var quickSpin = this.quickSpin;
                var turboStop = quickSpin && _app.default.config.get("Reel.turboStop");
                var stopDefers = unholdReels.map(function() {
                    return _helpers.utils.deferred()
                });
                var stopDeltas = unholdReels.map(function(_ref2) {
                    var index = _ref2.index;
                    var isAnticipation = anticipationMap[index];
                    return isAnticipation ? intervalAnticipation : intervalNormal
                });
                var delayBeforeFirstStop = intervalNormal;
                var measuredDurations = unholdReels.map(function(_ref3) {
                    var reel = _ref3.reel,
                        index = _ref3.index;
                    var isAnticipation = anticipationMap[index];
                    var stopType = isAnticipation ? _Reel.default.STATE.STOPPING_ANTICIPATION : normalState;
                    return reel.getMeasuredStopDuration(quickSpin, stopType)
                });
                if (quickSpin && _app.default.config.get("Reel.turboStop")) {
                    var cacheStopTimeCheck = this.reels.map(function(r) {
                        return r.cacheStopTime["Reel.STATE.STOPPING_true"]
                    }).filter(function(r) {
                        return r
                    });
                    if (new Set(cacheStopTimeCheck).size > 1) {
                        var maxStopTimeValue = Math.max.apply(Math, _toConsumableArray(cacheStopTimeCheck));
                        for (var i = 0; i < measuredDurations.length; i++) {
                            if (!anticipationMap[i]) {
                                measuredDurations[i] = maxStopTimeValue
                            }
                        }
                        this.reels.forEach(function(r) {
                            return r.cacheStopTime = {}
                        })
                    }
                }
                var measuredDurationsNormal = unholdReels.map(function(_ref4) {
                    var reel = _ref4.reel;
                    return reel.getMeasuredStopDuration(quickSpin, normalState)
                });
                var now = Date.now();
                var delays = unholdReels.reduce(function(delays, _ref5, unholdIndex) {
                    var reel = _ref5.reel,
                        index = _ref5.index;
                    if (unholdIndex === 0) {
                        delays[0] = 0
                    } else if (turboStop) {
                        delays[unholdIndex] = delays[unholdIndex - 1] + measuredDurations[unholdIndex - 1] - measuredDurationsNormal[unholdIndex]
                    } else {
                        delays[unholdIndex] = delays[unholdIndex - 1] + stopDeltas[unholdIndex] + measuredDurations[unholdIndex - 1] - measuredDurationsNormal[unholdIndex]
                    }
                    return delays
                }, []);
                var minStopDelay = Math.min.apply(Math, _toConsumableArray(delays));
                if (minStopDelay < 0) {
                    delays = delays.map(function(d) {
                        return d - minStopDelay
                    })
                }
                delays = delays.map(function(d) {
                    return d + delayBeforeFirstStop + extraDelay
                });
                var firstReelIndex = (unholdReels[0] || {}).index;
                var measuredStop = measuredDurations.map(function(d, i) {
                    return d + delays[i]
                });
                var stopTS = measuredStop.map(function(time) {
                    return now + time
                });
                unholdReels.forEach(function(_ref6, unholdIndex) {
                    var reel = _ref6.reel,
                        index = _ref6.index;
                    reel.once(_Reel.default.EVENT.STOP, function() {
                        return stopDefers[unholdIndex].resolve()
                    });
                    var isAnticipation = anticipationMap[index];
                    var ifFirstToStop = index === firstReelIndex;
                    var stopType = isAnticipation ? _Reel.default.STATE.STOPPING_ANTICIPATION : normalState;
                    var tween = _this2.tween().wait(delays[unholdIndex]).call(function() {
                        if (ifFirstToStop && isAnticipation) {
                            reel.emit(_Reel.default.EVENT.ANTICIPATION_STOPPING)
                        }
                        reel.stop(stopType, measuredStop[unholdIndex] - tween.position)
                    }).wait(1e5);
                    tween.advance(0);
                    var nextUnholdReelInfo = unholdReels[unholdIndex + 1];
                    if (nextUnholdReelInfo) {
                        var nextReel = nextUnholdReelInfo.reel,
                            nextIndex = nextUnholdReelInfo.index;
                        var nextAnticipation = anticipationMap[nextIndex];
                        if (nextAnticipation && nextReel) {
                            var emitAnticipationStopping = function emitAnticipationStopping() {
                                if (_this2._skipping) return;
                                nextReel.emit(_Reel.default.EVENT.ANTICIPATION_STOPPING)
                            };
                            reel.once(_Reel.default.EVENT.STOP_BEFORE_BACK_OUT, emitAnticipationStopping);
                            nextReel.once(_Reel.default.EVENT.STOP, function() {
                                reel.off(_Reel.default.EVENT.STOP_BEFORE_BACK_OUT, emitAnticipationStopping)
                            })
                        }
                    }
                });
                return {
                    promise: Promise.all(_toConsumableArray(stopDefers.map(function(d) {
                        return d.promise
                    }))),
                    stopTS: stopTS
                }
            },
            fillFromModelOversize: function fillFromModelOversize() {
                var _this3 = this;
                if (!_app.default.config.get("AdvancedReels.useOversizeSymbols")) return;
                if (!this.oversizeContainer) this.oversizeContainer = this.addChild(new PIXI.Container);
                this.reels.forEach(function(r) {
                    var ids = _app.default.config.get("AdvancedReels.oversizeSymbols");
                    var _loop = function _loop(i) {
                        var s = r.symbols[i];
                        var symbol = _this3.oversizeSymbols[r.id - 1][i - 1];
                        if (ids.some(function(id) {
                                return id === s.id
                            })) {
                            if (!symbol) {
                                symbol = new _GameSymbol.default(s.id);
                                _this3.oversizeSymbols[r.id - 1][i - 1] = symbol
                            }
                            _this3.oversizeContainer.addChild(symbol);
                            symbol.setId(s.id);
                            if (symbol.id === _GameSymbol.default.BONUS_ID || symbol.id === _GameSymbol.default.SUPER_ID) {
                                symbol.setBonusSymbolValue(s.currentBonusSymbolValue);
                                symbol.setBonusSymbolViewValue(s.currentBonusSymbolValue)
                            }
                            symbol.setOversizeState(1);
                            var _s$toParentCoords = s.toParentCoords(_this3),
                                x = _s$toParentCoords.x,
                                y = _s$toParentCoords.y;
                            symbol.x = x;
                            symbol.y = y;
                            s.visible = false
                        } else {
                            if (symbol) {
                                symbol.removeFromParent();
                                symbol.view.clear();
                                symbol = null;
                                _this3.oversizeSymbols[r.id - 1][i - 1] = null
                            }
                            s.visible = true
                        }
                    };
                    for (var i = 1; i < r.symbols.length - 1; i++) {
                        _loop(i)
                    }
                })
            }
        })
    }, {
        "core/app": 33,
        "core/components/GameSymbol": 39,
        "core/components/Reel": 42,
        "core/components/Reels": 43,
        "core/helpers": 90
    }],
    115: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;
        var _app = require("core/app");
        var _helpers = require("core/helpers");
        var _Styles = require("../styles/Styles");

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var TEXTURENAMES = {
            default: "respins_frame_level",
            collect: "respins_frame"
        };
        var RespinsFrame = function(_PIXI$Container) {
            _inherits(RespinsFrame, _PIXI$Container);
            var _super = _createSuper(RespinsFrame);

            function RespinsFrame(x, y) {
                var _this;
                _classCallCheck(this, RespinsFrame);
                _this = _super.call(this);
                _this.countAnimated = false;
                _this.countTxt = null;
                _this._count = _app.app.model.respinsLeft();
                _this.status = "default";
                _this._addAnimation();
                _this._frame.state.setAnimation(0, "idle_".concat(_this._count), true);
                _this.position.set(x, y);
                _this.visible = true;
                _this.skipped = false;
                return _this
            }
            _createClass(RespinsFrame, [{
                key: "animate",
                value: function animate() {
                    var animation = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "idle_".concat(this._count);
                    var isIdle = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
                    this._frame.state.setAnimation(0, animation, isIdle);
                    this._frame.update(0)
                }
            }, {
                key: "updateFrame",
                value: function updateFrame() {
                    var _this2 = this;
                    var respin = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
                    this._oldCount = this._count;
                    this._count = respin ? respin : _app.app.model.respinsLeft();
                    if (this._count === 3 && this._count !== this._oldCount) {
                        var name = this.getAnimationName();
                        this._frame.tween(true).call(function() {
                            _this2.animate(name, false);
                            _this2.inProggres = true;
                            _this2._frame.state.once(PIXI.spine.core.AnimationState.COMPLETE, function() {
                                _this2.animate();
                                _this2.inProggres = false
                            })
                        }).call(function() {
                            _this2.countAnimated = true;
                            GR.UI.model.set("respin.count", _this2._count)
                        })
                    }
                }
            }, {
                key: "updateCountText",
                value: function updateCountText() {
                    var _this3 = this;
                    var respinCount = _app.app.model.respinsLeft();
                    this.countAnimated = false;
                    this._oldCount = this._count;
                    this._count = respinCount - 1;
                    if (this._count !== this._oldCount) {
                        var name = this.getAnimationName();
                        this._frame.tween(true).call(function() {
                            _this3.animate(name, false);
                            _this3._frame.state.once(PIXI.spine.core.AnimationState.COMPLETE, function() {
                                _this3.animate()
                            })
                        }).call(function() {
                            _this3.countAnimated = true;
                            GR.UI.model.set("respin.count", _this3._count)
                        })
                    }
                }
            }, {
                key: "rewriteCountTxt",
                value: function rewriteCountTxt() {
                    var _this4 = this;
                    if (this.status === "collect") return;
                    var deferred = _helpers.utils.deferred();
                    this._frame.tween(true).wait(100).to({
                        alpha: 0
                    }, 250).call(function() {
                        if (_this4._frame) {
                            _this4._frame.removeFromParent();
                            _this4._frame.destroy();
                            _this4._frame = null
                        }
                        _this4.status = "collect";
                        _this4._addAnimation();
                        _this4.visible = false;
                        _this4._frame.update(0);
                        _this4.countTxt = new PIXI.extras.BitmapText(_helpers.i18n.coins("", false).toString(), (0, _Styles.BONUS_SYMBOL_TEXT)(42));
                        _this4.countTxt.anchor.set(.5);
                        _this4.countTxt.alpha = 0;
                        _helpers.utils.labelScale(_this4.countTxt, 300, 42);
                        PIXI.spine.Spine.replaceSpineSprite(_this4._frame, "placeholder", _this4.countTxt, "frame_in")
                    }).call(function() {
                        return deferred.resolve()
                    });
                    return deferred.promise
                }
            }, {
                key: "show",
                value: function show() {
                    var isJackpot = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
                    var deferred = _helpers.utils.deferred();
                    this._frame.state.setAnimation(0, "frame_in", false);
                    this._frame.update(0);
                    if (isJackpot) {
                        this.countTxt.tween(true).wait(500).to({
                            alpha: 1
                        }, 250).wait(200).call(function() {
                            return deferred.resolve()
                        })
                    } else {
                        _helpers.utils.wait(500).then(function() {
                            return deferred.resolve()
                        })
                    }
                    this.visible = true;
                    return deferred.promise
                }
            }, {
                key: "hide",
                value: function hide() {
                    this._frame.state.setAnimation(0, "frame_out", false);
                    this._frame.update(0);
                    this.countTxt.tween(true).wait(100).to({
                        alpha: 0
                    }, 250)
                }
            }, {
                key: "clear",
                value: function clear() {
                    if (this.countTxt) {
                        this.countTxt.removeFromParent();
                        this.countTxt.destroy();
                        this.countTxt = null
                    }
                    if (this._frame) {
                        this._frame.removeFromParent();
                        this._frame.destroy();
                        this._frame = null
                    }
                    this.removeFromParent();
                    this.destroy()
                }
            }, {
                key: "_addAnimation",
                value: function _addAnimation() {
                    this._frame = this.addChild(PIXI.spine.Spine.fromLoader(TEXTURENAMES[this.status]))
                }
            }, {
                key: "getAnimationName",
                value: function getAnimationName() {
                    return "".concat(this._oldCount, "_").concat(this._count)
                }
            }]);
            return RespinsFrame
        }(PIXI.Container);
        exports.default = RespinsFrame
    }, {
        "../styles/Styles": 145,
        "core/app": 33,
        "core/helpers": 90
    }],
    116: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.StartScreenComponent = void 0;
        var _app = require("core/app");
        var _Enums = _interopRequireWildcard(require("core/core/Enums"));
        var _Fabric = _interopRequireDefault(require("core/core/Fabric"));
        var _BaseStartScreen2 = _interopRequireDefault(require("core/components/BaseStartScreen"));
        var _utils = _interopRequireDefault(require("core/helpers/utils"));
        var _i18n = _interopRequireDefault(require("core/helpers/i18n"));
        var _Styles = require("../styles/Styles");

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _getRequireWildcardCache(nodeInterop) {
            if (typeof WeakMap !== "function") return null;
            var cacheBabelInterop = new WeakMap;
            var cacheNodeInterop = new WeakMap;
            return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {
                return nodeInterop ? cacheNodeInterop : cacheBabelInterop
            })(nodeInterop)
        }

        function _interopRequireWildcard(obj, nodeInterop) {
            if (!nodeInterop && obj && obj.__esModule) {
                return obj
            }
            if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") {
                return {
                    default: obj
                }
            }
            var cache = _getRequireWildcardCache(nodeInterop);
            if (cache && cache.has(obj)) {
                return cache.get(obj)
            }
            var newObj = {};
            var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
            for (var key in obj) {
                if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
                    var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
                    if (desc && (desc.get || desc.set)) {
                        Object.defineProperty(newObj, key, desc)
                    } else {
                        newObj[key] = obj[key]
                    }
                }
            }
            newObj.default = obj;
            if (cache) {
                cache.set(obj, newObj)
            }
            return newObj
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        _BaseStartScreen2.default.COLOR_STYLE = {
            dropShadow: true,
            dropShadowAngle: 1.6,
            dropShadowBlur: 4,
            dropShadowColor: "#011802",
            dropShadowDistance: 3,
            fill: ["white", "#f7dcb0", "#fff0b3"],
            fillGradientStops: [.3, .6, 1],
            fontFamily: "Roboto-Bold, Calibri",
            fontSize: 70,
            lineJoin: "round",
            miterLimit: 6,
            strokeThickness: 3
        };
        var TEXTURENAMES = {
            portrait: "start_screen_m",
            landscape: "start_screen_d"
        };
        var TAPTEXTPOSITION = {
            portrait: 1450,
            landscape: 1223
        };
        var TITLELEFTPOSITION = {
            portrait: {
                x: 545,
                y: 990
            },
            landscape: {
                x: 370,
                y: 1005
            }
        };
        var TITLRIGHTPOSITION = {
            portrait: {
                x: 1005,
                y: 990
            },
            landscape: {
                x: 1193,
                y: 1005
            }
        };
        var TITLCENTREPOSITION = {
            portrait: {
                x: 782,
                y: 1340
            },
            landscape: {
                x: 780,
                y: 1005
            }
        };
        var LOGOPOSITION = {
            portrait: {
                y: 525
            },
            landscape: {
                y: 513
            }
        };
        var TEXTSWIDTH = {
            portrait: 440,
            landscape: 390
        };
        var StartScreenComponent = function(_BaseStartScreen) {
            _inherits(StartScreenComponent, _BaseStartScreen);
            var _super = _createSuper(StartScreenComponent);

            function StartScreenComponent() {
                _classCallCheck(this, StartScreenComponent);
                return _super.apply(this, arguments)
            }
            _createClass(StartScreenComponent, [{
                key: "initView",
                value: function initView() {
                    var _this = this;
                    var TIME_TO_SKIP = 6e4;
                    GR.UI.model.set("game_mode", null);
                    this.updateLocaleStorage();
                    this.texts = [];
                    this.back = this.addChild(PIXI.Sprite.fromFrame("".concat(TEXTURENAMES[this.orientation])));
                    this.logo = this.addChild(PIXI.Sprite.fromFrame("start_screen_logo"));
                    this.logo.anchor.set(.5, 0);
                    this.logo.x = _app.app.config.get("Screen.backWidth") / 2;
                    this.logo.y = _app.app.quadDisplay ? 500 : LOGOPOSITION[this.orientation].y;
                    this.logo.scale.set(_app.app.quadDisplay ? .7 : 1);
                    var addText = function addText(key) {
                        var text = _this.addChild(new PIXI.Text(_i18n.default.get(key).toUpperCase(), _Styles.SPLASH_SCREEN_BASE_STYLE));
                        text.anchor.set(.5, 0);
                        return text
                    };
                    this.titleLeft = addText("SPLASH_SCREEN_BONUS");
                    this.titleCentere = addText("SPLASH_SCREEN_MYSTERY_SYMBOL");
                    this.titleRight = addText("SPLASH_SCREEN_FREESPINS");
                    var scale = Math.min(TEXTSWIDTH[this.orientation] / this.titleLeft.width, TEXTSWIDTH[this.orientation] / this.titleRight.width, TEXTSWIDTH[this.orientation] / this.titleCentere.width);
                    var big = ["no", "pt", "sv", "th", "vi"];
                    if (this.orientation === "portrait" && big.includes(_app.env.get("lang"))) {
                        var width = TEXTSWIDTH[this.orientation] - 50;
                        scale = Math.min(width / this.titleLeft.width, width / this.titleRight.width, width / this.titleCentere.width)
                    }
                    this.titleLeft.scale.set(scale);
                    this.titleRight.scale.set(scale);
                    this.titleCentere.scale.set(scale);
                    this.titleLeft.position.set(TITLELEFTPOSITION[this.orientation].x, TITLELEFTPOSITION[this.orientation].y);
                    this.titleRight.position.set(TITLRIGHTPOSITION[this.orientation].x, TITLRIGHTPOSITION[this.orientation].y);
                    this.titleCentere.position.set(TITLCENTREPOSITION[this.orientation].x, TITLCENTREPOSITION[this.orientation].y);
                    this.texts.push(this.titleLeft);
                    this.texts.push(this.titleRight);
                    this.texts.push(this.titleCentere);
                    this.tapText = this.addChild(new PIXI.Text(_i18n.default.get("SPLASH_SCREEN_TAP"), _BaseStartScreen2.default.COLOR_STYLE));
                    this.tapText.anchor.set(.5, 1);
                    this.tapText.x = _app.app.config.get("Screen.backWidth") / 2;
                    this.tapText.y = TAPTEXTPOSITION[this.orientation] + (_app.env.get("lang") === "th" ? 3 : 0);
                    _utils.default.labelScale(this.tapText, 700, 40);
                    this.tapText.tween({
                        override: true,
                        loop: true
                    }).to({
                        alpha: 0
                    }, 300).wait(500).to({
                        alpha: 1
                    }, 300).wait(1e3);
                    this.skipContainer = this.addChild(new PIXI.Container);
                    this.skipContainer.interactive = true;
                    this.skipContainer.hitArea = new PIXI.Rectangle(0, 0, _app.app.config.get("Screen.backWidth"), _app.app.config.get("Screen.backHeight"));
                    this.initListeners();
                    _utils.default.wait(TIME_TO_SKIP).then(function() {
                        return !_this.skipped && _this.skip()
                    });
                    _app.app.emit(_Enums.default.SplashScreenShow);
                    GR.startscreen = true;
                    this._fixTextArtifacts();
                    GR.UI.model.follow("orientation", function(o) {
                        return _this.onResize(o)
                    });
                    _app.app.on(_Enums.default.GameResizeComplete, function() {
                        return _this.onResize(GR.UI.model.get("orientation"))
                    })
                }
            }, {
                key: "_fixTextArtifacts",
                value: function _fixTextArtifacts() {
                    this.texts.forEach(function(t) {
                        t.style = _Styles.SPLASH_SCREEN_BASE_STYLE
                    });
                    _utils.default.labelScale(this.tapText, 700, 40)
                }
            }, {
                key: "onResize",
                value: function onResize(o) {
                    if (o === this.orientation && _app.app.quadDisplay === this.isQuadDisplay) return;
                    this.back.texture = PIXI.Texture.fromFrame("".concat(TEXTURENAMES[o]));
                    this.tapText.y = TAPTEXTPOSITION[o] + (_app.env.get("lang") === "th" ? 3 : 0);
                    this.titleLeft.scale.x = this.titleRight.scale.x = this.titleCentere.scale.x = 1;
                    this.titleLeft.scale.y = this.titleRight.scale.y = this.titleCentere.scale.y = 1;
                    var scale = Math.min(TEXTSWIDTH[o] / this.titleLeft.width, TEXTSWIDTH[o] / this.titleRight.width);
                    var big = ["no", "pt", "sv", "th", "vi"];
                    if (this.orientation === "portrait" && big.includes(_app.env.get("lang"))) {
                        var width = TEXTSWIDTH[this.orientation] - 50;
                        scale = Math.min(width / this.titleLeft.width, width / this.titleRight.width, width / this.titleCentere.width)
                    }
                    this.titleLeft.scale.set(scale);
                    this.titleRight.scale.set(scale);
                    this.titleCentere.scale.set(scale);
                    this.titleLeft.position.set(TITLELEFTPOSITION[o].x, TITLELEFTPOSITION[o].y);
                    this.titleRight.position.set(TITLRIGHTPOSITION[o].x, TITLRIGHTPOSITION[o].y);
                    this.titleCentere.position.set(TITLCENTREPOSITION[o].x, TITLCENTREPOSITION[o].y);
                    this.logo.y = _app.app.quadDisplay ? 500 : LOGOPOSITION[o].y;
                    this.logo.scale.set(_app.app.quadDisplay ? .7 : 1);
                    this.updateLocaleStorage()
                }
            }, {
                key: "updateLocaleStorage",
                value: function updateLocaleStorage() {
                    this.orientation = GR.UI.model.get("orientation");
                    this.isQuadDisplay = _app.app.quadDisplay
                }
            }]);
            return StartScreenComponent
        }(_BaseStartScreen2.default);
        exports.StartScreenComponent = StartScreenComponent;
        _Fabric.default.set(_Enums.Fabrics.START_SCREEN, StartScreenComponent)
    }, {
        "../styles/Styles": 145,
        "core/app": 33,
        "core/components/BaseStartScreen": 35,
        "core/core/Enums": 73,
        "core/core/Fabric": 74,
        "core/helpers/i18n": 89,
        "core/helpers/utils": 91
    }],
    117: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;
        var _Enums = require("core/core/Enums");
        var _helpers = require("core/helpers");

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var Transition = function(_PIXI$Container) {
            _inherits(Transition, _PIXI$Container);
            var _super = _createSuper(Transition);

            function Transition() {
                _classCallCheck(this, Transition);
                return _super.call(this)
            }
            _createClass(Transition, [{
                key: "addBack",
                value: function addBack() {
                    var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
                    this._back = this.addChild(new PIXI.Graphics);
                    this._back.beginFill(0, 1);
                    this._back.drawRect(x, -app._stageWrapper.pivotY, app.config.get("Screen.backWidth"), app.config.get("Screen.backHeight"));
                    this._back.endFill();
                    this._back.alpha = 0
                }
            }, {
                key: "addAnimation",
                value: function addAnimation() {
                    var _this = this;
                    this._animation = this.addChild(PIXI.spine.Spine.fromLoader("bonus_transition"));
                    this._animation.position.set(app.config.get("App.width") / 2, app.config.get("App.height") / 2);
                    this._animation.alpha = 0;
                    this._animation.state.on(PIXI.spine.core.AnimationState.COMPLETE, function() {
                        _this._animation.visible = false;
                        _this._animation.autoUpdate = false
                    })
                }
            }, {
                key: "showBonusStartAnimation",
                value: function showBonusStartAnimation() {
                    var deferred = _helpers.utils.deferred();
                    GR.UI.model.set("controls.available", false);
                    app.emit(_Enums.GameEvent.showBonusTransition);
                    this._back.tween(true).to({
                        alpha: 1
                    }, 500).wait(700).call(function() {
                        return deferred.resolve()
                    }).to({
                        alpha: 0
                    }, 500);
                    this.animate(true);
                    return deferred.promise
                }
            }, {
                key: "showBonusEndAnimation",
                value: function showBonusEndAnimation() {
                    var deferred = _helpers.utils.deferred();
                    this.animate();
                    this._animation.state.once(PIXI.spine.core.AnimationState.COMPLETE, deferred.resolve);
                    app.emit(_Enums.GameEvent.BonusAmbientFade);
                    app.emit("PlaySFX", "bn_collect_popup");
                    return deferred.promise
                }
            }, {
                key: "animate",
                value: function animate() {
                    var tweenAlpha = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
                    this._animation.autoUpdate = true;
                    this._animation.visible = true;
                    this._animation.state.setAnimation(0, "animation", false);
                    this._animation.update(0);
                    tweenAlpha && this._animation.tween(true).to({
                        alpha: 1
                    }, 400)
                }
            }, {
                key: "clear",
                value: function clear() {
                    if (this._back) {
                        this._back.removeFromParent();
                        this._back.destroy();
                        this._back = null
                    }
                    if (this._animation) {
                        this._animation.removeFromParent();
                        this._animation.destroy();
                        this._animation = null
                    }
                    this.removeFromParent();
                    this.destroy()
                }
            }]);
            return Transition
        }(PIXI.Container);
        exports.default = Transition
    }, {
        "core/core/Enums": 73,
        "core/helpers": 90
    }],
    118: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;
        var _helpers = require("core/helpers");
        var _Enums = require("core/core/Enums");
        var _SkipController = _interopRequireDefault(require("core/controllers/SkipController"));
        var _GSViewConfig = _interopRequireDefault(require("core/components/symbolView/GSViewConfig"));
        var _GameSymbol = _interopRequireDefault(require("../gameSymbol/GameSymbol"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }

        function _defineProperty(obj, key, value) {
            if (key in obj) {
                Object.defineProperty(obj, key, {
                    value: value,
                    enumerable: true,
                    configurable: true,
                    writable: true
                })
            } else {
                obj[key] = value
            }
            return obj
        }
        var BonusCollect = function(_PIXI$Container) {
            _inherits(BonusCollect, _PIXI$Container);
            var _super = _createSuper(BonusCollect);

            function BonusCollect() {
                var _this;
                _classCallCheck(this, BonusCollect);
                _this = _super.call(this);
                _this.board = app.board;
                _this.jackpotWin = app.board.jackpotWin;
                _this.bonusWin = app.board.bonusWin;
                return _this
            }
            _createClass(BonusCollect, [{
                key: "isCanCollect",
                get: function get() {
                    return app.model.canBonusStop()
                }
            }, {
                key: "allCollectedSymbols",
                get: function get() {
                    var _this$symbolsData;
                    return this === null || this === void 0 ? void 0 : (_this$symbolsData = this.symbolsData) === null || _this$symbolsData === void 0 ? void 0 : _this$symbolsData.every(function(_ref) {
                        var symbol = _ref.symbol;
                        return symbol._isCollected
                    })
                }
            }, {
                key: "checkAssetsLoaded",
                get: function get() {
                    return !!this.animCollectFly
                }
            }, {
                key: "setDefaultProps",
                value: function setDefaultProps() {
                    this.respinsCountTxt = null;
                    this.animCollectFly = null;
                    this.promiseAllCollects = null;
                    this.bonusWinCoins = 0;
                    this._finalResultShown = false;
                    this._skipped = false
                }
            }, {
                key: "onPlay",
                value: function onPlay() {
                    var _this2 = this;
                    if (!this.isCanCollect) return Promise.resolve();
                    this.reels = app.board.reels;
                    this.bonusReels = app.board.bonusReels;
                    this.symbolsData = this.generateSymbolsData();
                    this.createAnimCollectFly();
                    return _helpers.utils.Q([function() {
                        return _this2.showBonusEndAnimation()
                    }, function() {
                        return _this2.bonusWinCoins === 0 && app.board.respinsFrame.show()
                    }, function() {
                        return _this2.collectSymbols()
                    }, function() {
                        return _this2._skipped && _helpers.utils.wait(600)
                    }, function() {
                        return _this2.board.respinsFrame.hide()
                    }, function() {
                        return _this2.showPopup()
                    }, function() {
                        return _this2.clearView()
                    }, function() {
                        return _this2.waitCompletedSymbols()
                    }])
                }
            }, {
                key: "onSkip",
                value: function onSkip() {
                    var _this$promiseAllColle, _this$animCollectFly, _this3 = this;
                    if (this._finalResultShown) return Promise.resolve();
                    this._skipped = true;
                    this === null || this === void 0 ? void 0 : (_this$promiseAllColle = this.promiseAllCollects) === null || _this$promiseAllColle === void 0 ? void 0 : _this$promiseAllColle.cancel();
                    this === null || this === void 0 ? void 0 : (_this$animCollectFly = this.animCollectFly) === null || _this$animCollectFly === void 0 ? void 0 : _this$animCollectFly.state.off(PIXI.spine.core.AnimationState.EVENT, this.customEventAction, this);
                    if (this.animCollectFly) this.animCollectFly.visible = false;
                    if (this.allCollectedSymbols) return this.setFinalUiValue();
                    this.bonusWinCoins = this.calculateFinalResult();
                    return this.skipSymbolCollect().then(function() {
                        return _this3.updateRespinCountText()
                    })
                }
            }, {
                key: "addSkip",
                value: function addSkip(promiseAllCollects, onSkip) {
                    var _this4 = this;
                    var deferred = _helpers.utils.deferred();
                    promiseAllCollects.then(function() {
                        _SkipController.default.off(skip, _this4);
                        GR.Events.flow.round_start.off(skip, _this4);
                        !_this4._skipped && deferred.resolve()
                    });
                    var skip = function skip() {
                        onSkip.call(_this4).then(deferred.resolve)
                    };
                    _SkipController.default.on(skip, this);
                    GR.Events.flow.round_start.on(skip, this);
                    return deferred.promise
                }
            }, {
                key: "skipSymbolCollect",
                value: function skipSymbolCollect() {
                    var _this5 = this;
                    app.emit(_Enums.GameEvent.BonusMoneyFly);
                    this.symbolsData = this.symbolsData.filter(function(_ref2) {
                        var symbol = _ref2.symbol;
                        return !symbol._isCollected
                    });
                    this.symbolsData.forEach(function(symboldData) {
                        return _this5.setAnimCollectSymbol(symboldData)
                    });
                    return _helpers.utils.wait(300)
                }
            }, {
                key: "showBonusEndAnimation",
                value: function showBonusEndAnimation() {
                    return this.board.transition.showBonusEndAnimation()
                }
            }, {
                key: "customEventAction",
                value: function customEventAction(_entry, event) {
                    var name = event.data.name;
                    if (name === "target") this.updateRespinCountText()
                }
            }, {
                key: "collectSymbols",
                value: function collectSymbols() {
                    var _this6 = this;
                    if (!this.checkAssetsLoaded) return this.onSkip();
                    GR.UI.model.set("controls.available", true);
                    app.emit(_Enums.GameEvent.BonusWinCollect);
                    var animations = this.symbolsData.map(function(data) {
                        return function() {
                            return _this6.playAnimCollectFly(data)
                        }
                    });
                    this.promiseAllCollects = _helpers.utils.Q(animations);
                    this.animCollectFly.state.on(PIXI.spine.core.AnimationState.EVENT, this.customEventAction, this);
                    return this.addSkip(this.promiseAllCollects, this.onSkip)
                }
            }, {
                key: "showPopup",
                value: function showPopup() {
                    return this.showBonusWinPopup()
                }
            }, {
                key: "createAnimCollectFly",
                value: function createAnimCollectFly() {
                    try {
                        this.animCollectFly = this.addChild(PIXI.spine.Spine.fromLoader("bonus_collect_fly"));
                        this.animCollectFly.position.set(611, 340);
                        this.animCollectFly.update(0)
                    } catch (_unused) {
                        this.animCollectFly = null
                    }
                }
            }, {
                key: "setAnimCollectSymbol",
                value: function setAnimCollectSymbol(_ref3) {
                    var symbol = _ref3.symbol,
                        i = _ref3.i,
                        j = _ref3.j;
                    symbol.setBonusSymbolWinState();
                    symbol._isCollected = true;
                    symbol.desaturateState();
                    symbol.setBonusCollectedState();
                    this.hideDragon(i, j)
                }
            }, {
                key: "updateRespinCountText",
                value: function updateRespinCountText() {
                    var deferred = _helpers.utils.deferred();
                    this.board.respinsFrame.animate("explosion", false);
                    this._finalResultShown = this.bonusWinCoins === this.calculateFinalResult();
                    this.updateUIValues();
                    var time = this._finalResultShown ? 500 : 50;
                    this.respinsCountTxt.alpha = 1;
                    this.respinsCountTxt.text = _helpers.i18n.coins(this.bonusWinCoins, false);
                    _helpers.utils.labelScale(this.respinsCountTxt, 300, 42);
                    this.respinsCountTxt.tween(true).call(function() {
                        return app.emit(_Enums.GameEvent.BonusCollect)
                    }).wait(50).call(deferred.resolve);
                    return deferred.promise
                }
            }, {
                key: "setFinalUiValue",
                value: function setFinalUiValue() {
                    if (!this.bonusWinCoins != this.calculateFinalResult()) {
                        this.bonusWinCoins = this.calculateFinalResult();
                        return this.updateRespinCountText()
                    } else {
                        return Promise.resolve()
                    }
                }
            }, {
                key: "playAnimCollectFly",
                value: function playAnimCollectFly(symbolData) {
                    app.emit(_Enums.GameEvent.BonusMoneyFly);
                    var deferred = _helpers.utils.deferred();
                    var coins = symbolData.coins,
                        i = symbolData.i,
                        j = symbolData.j;
                    this.bonusWinCoins += coins;
                    this.animCollectFly.state.setAnimation(0, "".concat(i, "_").concat(j), false);
                    this.animCollectFly.state.once(PIXI.spine.core.AnimationState.COMPLETE, deferred.resolve);
                    this.setChildIndex(this.animCollectFly, this.children.length - 1);
                    this.setAnimCollectSymbol(symbolData);
                    return deferred.promise
                }
            }, {
                key: "removeAnimCollectFly",
                value: function removeAnimCollectFly() {
                    if (this.animCollectFly) {
                        this.animCollectFly.removeFromParent();
                        this.animCollectFly.destroy();
                        this.animCollectFly = null
                    }
                }
            }, {
                key: "createRespinCountText",
                value: function createRespinCountText() {
                    var _this7 = this;
                    if (!app.model.lastRespin()) return Promise.resolve();
                    var board = this.board;
                    return Promise.resolve().then(function() {
                        return board.respinsFrame.rewriteCountTxt()
                    }).then(function() {
                        return _this7.respinsCountTxt = board.respinsFrame.countTxt
                    })
                }
            }, {
                key: "showBonusWinPopup",
                value: function showBonusWinPopup() {
                    var _this8 = this;
                    var deferred = _helpers.utils.deferred();
                    var animationDelay = 500;
                    _helpers.utils.wait(animationDelay).then(function() {
                        return _this8.bonusWin.show("", app.model.current("round_win", 0))
                    }).then(function() {
                        if (!app.model.canAction("bonus_init")) {
                            GR.UI.model.set("game_mode", app.model.current());
                            GR.UI.model.set("round_win_mode", app.model.current() === "spins" ? "last_win" : "total_win")
                        }
                    }).then(function() {
                        return deferred.resolve()
                    });
                    app.emit(_Enums.GameEvent.BonusWinCollectEnd);
                    return deferred.promise
                }
            }, {
                key: "hideDragon",
                value: function hideDragon(i, j) {
                    var immediately = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
                    var dragon = this.bonusReels.getDragon(i, j);
                    if (immediately) {
                        dragon.visible = false;
                        dragon.removeFromParent()
                    } else {
                        dragon.tween(true).to({
                            alpha: 0
                        }, 300).call(function() {
                            dragon.visible = false;
                            dragon.removeFromParent()
                        })
                    }
                }
            }, {
                key: "updateUIValues",
                value: function updateUIValues() {
                    GR.UI.model.set("last_win", this.bonusWinCoins + app.model.current("total_win", 0) - app.model.current("round_win", 0));
                    GR.UI.model.set("total_win", this.bonusWinCoins + app.model.current("total_win", 0) - app.model.current("round_win", 0));
                    GR.UI.model.set("balance", app.model.get("user.balance") + this.bonusWinCoins - app.model.current("round_win", 0));
                    GR.UI.model.set("freebet.total_win", app.model.get("freebet.total_win", 0) - app.model.current("round_win", 0) + this.bonusWinCoins)
                }
            }, {
                key: "calculateJackpot",
                value: function calculateJackpot(value) {
                    var multiplier = app.model.jackpot(value);
                    var betFactor = app.model.get("settings.bet_factor")[0];
                    var bet = app.model.current("bet_per_line");
                    return bet * betFactor * multiplier
                }
            }, {
                key: "collectJackpot",
                value: function collectJackpot(result) {
                    this.board.respinsFrame.show(true);
                    this.bonusWinCoins = this.bonusWinCoins ? this.bonusWinCoins : 0;
                    this.bonusWinCoins += result;
                    this.respinsCountTxt.text = _helpers.i18n.coins(this.bonusWinCoins, false);
                    _helpers.utils.labelScale(this.respinsCountTxt, 300, 42);
                    this.updateUIValues();
                    return Promise.resolve()
                }
            }, {
                key: "isBonusSymbol",
                value: function isBonusSymbol(symbol) {
                    return _typeof(symbol) === "object" && symbol !== null && _GameSymbol.default.BONUS_SYMBOLS.includes(symbol.id)
                }
            }, {
                key: "getSymbol",
                value: function getSymbol(i, j) {
                    var symbol = this.bonusReels.oversizeContainer.symbols[i * 3 + j];
                    return symbol
                }
            }, {
                key: "generateSymbolsData",
                value: function generateSymbolsData() {
                    var _this9 = this;
                    var data = [];
                    var bonusSymbolsData = app.model.finalBonusSymbolsBoard();
                    this.reels.forEachSymbol(function(_s, i, j) {
                        var symbol = _this9.getSymbol(i, j);
                        if (_this9.isBonusSymbol(symbol)) {
                            var value = bonusSymbolsData[i][j];
                            var isJackpotValue = _GSViewConfig.default.jackpotNames.includes(value);
                            var coins = isJackpotValue ? _this9.calculateJackpot(value) : value;
                            symbol._isCollected = false;
                            data.push({
                                symbol: symbol,
                                i: i,
                                j: j,
                                coins: coins
                            })
                        }
                    });
                    return data
                }
            }, {
                key: "clearView",
                value: function clearView() {
                    this.removeAnimCollectFly();
                    this.promiseAllCollects = null;
                    this.symbolsData = null;
                    return Promise.resolve()
                }
            }, {
                key: "calculateFinalResult",
                value: function calculateFinalResult() {
                    return app.model.current("round_win", 0)
                }
            }, {
                key: "waitCompletedSymbols",
                value: function waitCompletedSymbols() {
                    var promises = [];
                    this.reels.forEachOversizeSymbol(function(symbol) {
                        !symbol.complete && promises.push(new Promise(function(res) {
                            return symbol.once(_GameSymbol.default.EventAnimationComplete, res)
                        }))
                    });
                    return Promise.all(promises)
                }
            }]);
            return BonusCollect
        }(PIXI.Container);
        exports.default = BonusCollect;
        _defineProperty(BonusCollect, "TOTAL_BONUS_SYMBOLS_COUNT", 15)
    }, {
        "../gameSymbol/GameSymbol": 130,
        "core/components/symbolView/GSViewConfig": 61,
        "core/controllers/SkipController": 68,
        "core/core/Enums": 73,
        "core/helpers": 90
    }],
    119: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;
        var _app = _interopRequireDefault(require("core/app"));
        var _helpers = require("core/helpers");
        var _Enums = require("core/core/Enums");
        var _GSView = _interopRequireDefault(require("core/components/symbolView/GSView"));
        var _OversizeContainer = _interopRequireDefault(require("./OversizeContainer"));
        var _GameSymbol = _interopRequireDefault(require("../gameSymbol/GameSymbol"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var BonusReels = function(_PIXI$Container) {
            _inherits(BonusReels, _PIXI$Container);
            var _super = _createSuper(BonusReels);

            function BonusReels() {
                var _this;
                _classCallCheck(this, BonusReels);
                _this = _super.call(this);
                _this.dividers = [];
                _this.symbolsCount = 0;
                _this.lastDroppedSymbolSound = null;
                _this.dragonsAngle = 0;
                _this.bonusAnticipationArr = Array(15).fill(null);
                _this.anticipationStartCount = _this.bonusAnticipationArr.length - _app.default.config.get("BonusGame.anticipationContainers");
                _this.currentBonusSymbolCount = 0;
                _this.totalBonusSymbolLoop = _app.default.config.get("BonusGame.totalBonusSymbolLoop");
                _this.anticipationStopEnabled = false;
                _this.showAnticipation = false;
                _this.anticipationCounter = 0;
                _this.totalAnticipationCount = _app.default.config.get("BonusGame.totalAnticipationCount");
                _this.anticipationSkipped = false;
                return _this
            }
            _createClass(BonusReels, [{
                key: "init",
                value: function init() {
                    this._powerSymbols = [];
                    var WIDTH = _app.default.config.get("GameSymbol.width");
                    var HEIGHT = _app.default.config.get("GameSymbol.height");
                    for (var i = 0; i < _app.default.board.reels.reels.length; i++) {
                        var reel = _app.default.board.reels.reels[i];
                        for (var j = 1; j < reel.symbols.length - 1; j++) {
                            var index = i * 3 + (j - 1);
                            var el = reel.symbols[j],
                                _el$toParentCoords = el.toParentCoords(_app.default.board.reels),
                                x = _el$toParentCoords.x,
                                y = _el$toParentCoords.y,
                                root = this.addChild(new PIXI.Container);
                            root.position.set(x, y);
                            root.mask = root.addChild(new PIXI.Graphics);
                            root.mask.beginFill(0);
                            root.mask.drawRect(0, 0, WIDTH, HEIGHT);
                            root.mask.endFill();
                            root.mask.pivot.set(WIDTH / 2, HEIGHT / 2);
                            this._powerSymbols[index] = root;
                            var wrap = root.addChild(new PIXI.Container);
                            wrap.y = -HEIGHT;
                            root._wrap = wrap;
                            root._symbols = [];
                            var bonusBoard = _app.default.model.get("game.bonus.board", []);
                            if (bonusBoard.length === 0) return;
                            var id = bonusBoard[i][j - 1];
                            var currentSymbolsValueArr = _app.default.model.bonusSymbolsBoard();
                            if (currentSymbolsValueArr.length === 0) return;
                            var currentSymbolsValue = currentSymbolsValueArr[i][j - 1];
                            for (var m = 0; m < 3; ++m) {
                                var sym = wrap.addChild(new _GameSymbol.default);
                                sym.position.set(0, HEIGHT * m);
                                sym.setId(_GameSymbol.default.EMPTY_ID);
                                sym.setStaticState();
                                if (m === 1 && _GameSymbol.default.BONUS_SYMBOLS.includes(id)) {
                                    sym.visible = false;
                                    sym.setBonusSymbolValue(currentSymbolsValue);
                                    sym.setId(id);
                                    this.symbolsIncrement();
                                    this.currentBonusSymbolCount++
                                }
                                root._symbols.push(sym)
                            }
                        }
                    }
                    this.addDividers();
                    this.addOversizeContainer();
                    this.spinDragons()
                }
            }, {
                key: "addDividers",
                value: function addDividers() {
                    var xDivider = [182, 364, 546, 728];
                    for (var i = 0; i < 4; i++) {
                        var divider = this.addChild(PIXI.Sprite.fromFrame("reel_divider_vertical"));
                        divider.anchor.set(.5);
                        divider.x = xDivider[i];
                        divider.y = 262;
                        this.dividers.push(divider)
                    }
                    this.topBonusHorizontalDivider = this.addChild(PIXI.Sprite.fromFrame("reel_divider_horizontal"));
                    this.topBonusHorizontalDivider.anchor.set(.5);
                    this.topBonusHorizontalDivider.position.set(455, 174);
                    this.bottomBonusHorizontalDivider = this.addChild(PIXI.Sprite.fromFrame("reel_divider_horizontal"));
                    this.bottomBonusHorizontalDivider.anchor.set(.5);
                    this.bottomBonusHorizontalDivider.position.set(455, 348);
                    this.dividers.push(this.topBonusHorizontalDivider, this.bottomBonusHorizontalDivider)
                }
            }, {
                key: "addOversizeContainer",
                value: function addOversizeContainer() {
                    this.oversizeContainer = this.addChild(new _OversizeContainer.default);
                    this.oversizeContainer.fillSymbols();
                    this.dragons = this.oversizeContainer.dragons
                }
            }, {
                key: "isBonusSymbol",
                value: function isBonusSymbol(node) {
                    return _GameSymbol.default.BONUS_SYMBOLS.includes(node._id)
                }
            }, {
                key: "spin",
                value: function spin() {
                    var _this2 = this;
                    var HEIGHT = _app.default.config.get("GameSymbol.height");
                    this.lastDroppedSymbolSound = null;
                    var promises = [];
                    var _loop = function _loop(i) {
                        var node = _this2._powerSymbols[i];
                        node._value = null;
                        node._id = null;
                        node._stopped = false;
                        if (node._tween) {
                            node._tween = null
                        }
                        var sort = function sort(a, b) {
                            a.zIndex = a.zIndex || 0;
                            b.zIndex = b.zIndex || 0;
                            return a.zIndex - b.zIndex
                        };
                        if (_GameSymbol.default.BONUS_SYMBOLS.includes(node._symbols[1].id)) {
                            node._stopped = true;
                            return "continue"
                        }
                        node.defer = _helpers.utils.deferred();
                        var zaloop = function zaloop() {
                            for (var j = node._symbols.length - 1; j > 0; --j) {
                                var sym = node._symbols[j];
                                var prevSym = node._symbols[j - 1];
                                sym.swap(prevSym)
                            }
                            node._wrap.y = -HEIGHT;
                            _this2.showAntisipation(i, node);
                            var anticipationLongStop = _this2.currentBonusSymbolCount >= _this2.anticipationStartCount;
                            var startSymbolAnticipationStop = _app.default.board.bonusSkip.isSkipped() || !anticipationLongStop || _this2.checkAllStoppedBeforeAnticipation(i);
                            if (node._value !== null && startSymbolAnticipationStop) {
                                if (_this2.anticipationCounter === _this2.totalBonusSymbolLoop) {
                                    _this2.anticipationStopEnabled = true
                                }
                                _this2.anticipationCounter++;
                                var continueSymbolAnticipationStop = anticipationLongStop ? _this2.anticipationCounter >= _this2.totalAnticipationCount && _this2.anticipationStopEnabled : true;
                                if (continueSymbolAnticipationStop || _app.default.board.bonusSkip.isSkipped()) {
                                    node._symbols[0].setId(_this2.isBonusSymbol(node) ? node._id : _GameSymbol.default.EMPTY_ID);
                                    if (node._id !== _GameSymbol.default.SUPER_ID) node._symbols[0].setBonusSymbolValue(node._value);
                                    node._id === _GameSymbol.default.MYSTERY_ID ? node._symbols[0].setMoveState() : node._symbols[0].setStaticState();
                                    if (node._id !== _GameSymbol.default.SUPER_ID) node._symbols[0].setBonusSymbolViewValue(node._value);
                                    node._tween.timeScale = .75;
                                    node._tween._stepTail.ease = createjs.Ease.getBackOut(1.7);
                                    if (_GameSymbol.default.BONUS_SYMBOLS.includes(node._id)) {
                                        _this2.currentBonusSymbolCount++;
                                        _this2.symbolsIncrement();
                                        if (node._symbols[0].id === _GameSymbol.default.BONUS_ID) {
                                            _this2.lastDroppedSymbolSound = "bonus_win_stop"
                                        }
                                        if (node._symbols[0].id === _GameSymbol.default.MYSTERY_ID) {
                                            _this2.lastDroppedSymbolSound = "mystery_stop"
                                        }
                                        if (node._symbols[0].id === _GameSymbol.default.SUPER_ID) {
                                            _this2.lastDroppedSymbolSound = "super_bonus_stop"
                                        }
                                        _helpers.utils.wait(50).then(function() {
                                            if (_app.default.board.bonusSkip.isSkipped() && _this2.lastDroppedSymbolSound) {
                                                _app.default.emit("PlaySFX", _this2.lastDroppedSymbolSound);
                                                _this2.lastDroppedSymbolSound = null
                                            }
                                        });
                                        _helpers.utils.wait(150).then(function() {
                                            _this2.addOversizeSymbol(node._id, node._symbols[0].currentBonusSymbolValue, i);
                                            _this2.oversizeContainer.sortOversizeSymbols();
                                            if (node._symbols[0].id !== _GameSymbol.default.SUPER_ID) _this2.oversizeContainer.explosions[i].show()
                                        });
                                        if (_this2.symbolsCount === _this2._powerSymbols.length) {
                                            _app.default.emit("PlaySFX", "rise_grand_jackpot_win");
                                            _helpers.effects.shakeGameVertical();
                                            GR.UI.model.set("respin.count", 0);
                                            _app.default.board.respinsFrame.rewriteCountTxt()
                                        } else {
                                            var respin = _app.default.model.bonusCount() === _this2._powerSymbols.length ? 3 : null;
                                            _app.default.board.respinsFrame.updateFrame(respin)
                                        }
                                    }
                                    if (_this2.lastDroppedSymbolSound && _this2.currentBonusSymbolCount >= _this2.anticipationStartCount - 1) {
                                        _app.default.emit("PlaySFX", _this2.lastDroppedSymbolSound);
                                        _this2.lastDroppedSymbolSound = null
                                    } else if (_this2.lastDroppedSymbolSound) _this2._playLastSymbolonReel(i);
                                    node._wrap.tween({
                                        override: true,
                                        loop: false
                                    }).to({
                                        y: -HEIGHT
                                    }).to({
                                        y: 0
                                    }, 350, createjs.Ease.getBackOut(1.7)).call(function() {
                                        for (var _i = node._symbols.length - 1; _i > 0; --_i) {
                                            node._symbols[_i].swap(node._symbols[_i - 1])
                                        }
                                        node._symbols[0].setId(_GameSymbol.default.EMPTY_ID);
                                        node._symbols[0].setStaticState();
                                        if (_this2.isBonusSymbol(node)) node._symbols[1].view.visible = false;
                                        node._symbols[2].view.tween({
                                            override: true
                                        }).to({
                                            alpha: 0
                                        }, 160).call(function() {
                                            return node._symbols[2].view.visible = false
                                        });
                                        node.defer.resolve();
                                        node._wrap.y = -HEIGHT;
                                        createjs.Tween.removeTweens(node._wrap);
                                        node._tween = null;
                                        node._stopped = true;
                                        _this2.anticipationStopEnabled = false;
                                        _this2.showAnticipation = false;
                                        _this2.anticipationCounter = 0;
                                        _this2.hideAnticipation(i)
                                    })
                                } else {
                                    genereteRandomSymbols()
                                }
                            } else {
                                genereteRandomSymbols()
                            }
                        };
                        var loop = function loop() {
                            var tween = node._wrap.tween({
                                override: true,
                                loop: true
                            }).to({
                                y: -HEIGHT
                            }).to({
                                y: 0
                            }, 135).call(function() {
                                return zaloop()
                            });
                            node._tween = tween
                        };
                        var genereteRandomSymbols = function genereteRandomSymbols() {
                            var sym = node._symbols[0];
                            sym.setId(_this2._getNextBonusSymbolId(node._symbols));
                            sym.setMoveState();
                            if (sym.id === _GameSymbol.default.BONUS_ID) {
                                var value = _GSView.default.generateRandomBonusSymbolValue();
                                sym.setBonusSymbolValue(value);
                                sym.setBonusSymbolViewValue(value)
                            }
                            node._wrap.children.sort(sort)
                        };
                        var startTween = node._wrap.tween(true).to({
                            y: -HEIGHT
                        }).to({
                            y: 0
                        }, 350, createjs.Ease.getBackIn(_app.default.config.get("Reel.backInAmount"))).call(function() {
                            zaloop();
                            loop()
                        }).promise();
                        promises.push(startTween)
                    };
                    for (var i = 0; i < this._powerSymbols.length; ++i) {
                        var _ret = _loop(i);
                        if (_ret === "continue") continue
                    }
                    return Promise.all(promises)
                }
            }, {
                key: "showAntisipation",
                value: function showAntisipation(i, node) {
                    if (this.currentBonusSymbolCount < this.anticipationStartCount) return;
                    var symbolBeforeAnticipationStopped = i === 0 || this._powerSymbols[i - 1]._stopped;
                    if (!_app.default.board.bonusSkip.isSkipped() && this.checkAllStoppedBeforeAnticipation(i)) {
                        if (symbolBeforeAnticipationStopped && !this.showAnticipation && this.currentBonusSymbolCount >= this.anticipationStartCount && this.bonusAnticipationArr[i] === null) {
                            this.showAnticipation = true;
                            _app.default.emit(_Enums.GameEvent.JackpotAnticipation);
                            var bonusAnticipation = this.addChild(PIXI.spine.Spine.fromLoader("anticipation_bonus"));
                            bonusAnticipation.alpha = 0;
                            bonusAnticipation.position.set(node.x, node.y);
                            bonusAnticipation.state.setAnimation(0, "animation", true);
                            bonusAnticipation.update(0);
                            bonusAnticipation.tween(true).to({
                                alpha: 1
                            }, 100);
                            this.bonusAnticipationArr[i] = bonusAnticipation
                        }
                    }
                }
            }, {
                key: "hideAnticipation",
                value: function hideAnticipation(index) {
                    var _this3 = this;
                    var bonusAnticipation = this.bonusAnticipationArr[index];
                    if (bonusAnticipation) {
                        !this.oversizeContainer.symbols[index] ? _app.default.emit(_Enums.GameEvent.JackpotAnticipationStopLose) : _app.default.emit(_Enums.GameEvent.JackpotAnticipationStop);
                        bonusAnticipation.tween(true).to({
                            alpha: 0
                        }, 100).call(function() {
                            bonusAnticipation.removeFromParent();
                            _helpers.utils.wait(20).then(function() {
                                _this3.bonusAnticipationArr[index].destroy();
                                _this3.bonusAnticipation = null;
                                _this3.bonusAnticipationArr[index] = null
                            })
                        })
                    }
                    if (this.bonusAnticipationArr.filter(function(a) {
                            return a !== null
                        }).length === 1) {
                        _app.default.emit(_Enums.GameEvent.JackpotAnticipationStopFinal)
                    }
                }
            }, {
                key: "getLastSymbolPosWithTween",
                value: function getLastSymbolPosWithTween(i, j) {
                    var arr = [];
                    for (var reelIndex = 0; reelIndex < 5; ++reelIndex) {
                        for (var symIndex = 0; symIndex < 3; ++symIndex) {
                            var s = this._powerSymbols[reelIndex * 3 + symIndex];
                            if (s._tween) {
                                arr.push([reelIndex, symIndex])
                            }
                        }
                    }
                    var lastTweenPos = arr[arr.length - 1];
                    return lastTweenPos[0] === i && lastTweenPos[1] === j
                }
            }, {
                key: "stop",
                value: function stop() {
                    var _this4 = this;
                    var board = _app.default.model.bonusSymbolsBoard(),
                        boardIds = _app.default.model.board();
                    var chain = Promise.resolve();
                    var _loop2 = function _loop2(i) {
                        chain = chain.then(function() {
                            var promises = [];
                            var needStopSound = false;
                            var _loop3 = function _loop3(j) {
                                var s = _this4._powerSymbols[i * 3 + j];
                                s.isStatic = false;
                                if (!s._tween) {
                                    s.isStatic = true;
                                    if (j === 2) {
                                        for (var k = 0; k < 3; k++) {
                                            if (_this4._powerSymbols[i * 3 + j - k]._value >= 0 && !_this4._powerSymbols[i * 3 + j - k].isStatic) {
                                                needStopSound = true
                                            }
                                        }
                                        if (needStopSound && !_app.default.board.bonusSkip.isSkipped()) {
                                            _app.default.emit("PlaySFX", "reel_stop")
                                        }
                                    }
                                    return "continue"
                                }
                                if (_app.default.board.bonusSkip.isSkipped() && !_this4.getLastSymbolPosWithTween(i, j)) {
                                    s.defer.resolve();
                                    _this4.skipAnticipation()
                                } else {
                                    promises.push(s.defer.promise)
                                }
                                var isMystery = _app.default.model.mysterySymbols().some(function(el) {
                                    return el[0] === i && el[1] === j
                                });
                                var v = isMystery ? 0 : board[i][j];
                                var id = isMystery ? _GameSymbol.default.MYSTERY_ID : boardIds[i][j];
                                var isBonusSymbol = _GameSymbol.default.BONUS_SYMBOLS.includes(id);
                                if (isBonusSymbol) {
                                    s._id = id;
                                    s._value = v
                                } else {
                                    s._value = 0
                                }
                                if (j === 2) {
                                    for (var _k = 0; _k < 3; _k++) {
                                        if (_this4._powerSymbols[i * 3 + j - _k]._value >= 0 && !_this4._powerSymbols[i * 3 + j - _k].isStatic) {
                                            needStopSound = true
                                        }
                                    }
                                    if (needStopSound && !_app.default.board.bonusSkip.isSkipped()) {
                                        _app.default.emit("PlaySFX", "reel_stop")
                                    }
                                }
                            };
                            for (var j = 0; j < 3; ++j) {
                                var _ret2 = _loop3(j);
                                if (_ret2 === "continue") continue
                            }
                            return Promise.all(promises).then(function() {
                                return _helpers.utils.wait(needStopSound && !_app.default.board.bonusSkip.isSkipped() ? 300 : 0)
                            })
                        })
                    };
                    for (var i = 0; i < 5; ++i) {
                        _loop2(i)
                    }
                    if (_app.default.board.bonusSkip.isSkipped()) {
                        _app.default.emit("PlaySFX", "reel_stop_all")
                    }
                    return chain
                }
            }, {
                key: "skipAnticipation",
                value: function skipAnticipation() {
                    var _this5 = this;
                    this.bonusAnticipationArr.map(function(e, i) {
                        return _this5.hideAnticipation(i)
                    })
                }
            }, {
                key: "checkAllStoppedBeforeAnticipation",
                value: function checkAllStoppedBeforeAnticipation(index) {
                    for (var i = 0; i < index; i++) {
                        if (this._powerSymbols[i]._stopped === false) {
                            return false
                        }
                    }
                    return true
                }
            }, {
                key: "_getNextBonusSymbolId",
                value: function _getNextBonusSymbolId(symbols) {
                    var symbolId = this._getRandomBonusId();
                    var randomNum = Math.random();
                    while (!this._checkProbability(symbolId, randomNum)) {
                        symbolId = this._getRandomBonusId();
                        randomNum = Math.random()
                    }
                    if (symbolId === 0) symbolId = _GameSymbol.default.EMPTY_ID;
                    if (symbols[1].id === _GameSymbol.default.MYSTERY_ID || symbolId === _GameSymbol.default.MYSTERY_ID && symbols[1].id === _GameSymbol.default.MYSTERY_ID) {
                        symbolId = _GameSymbol.default.EMPTY_ID
                    }
                    return symbolId
                }
            }, {
                key: "_getRandomBonusId",
                value: function _getRandomBonusId() {
                    var EMPTY_ID = 0;
                    var bonusReelSample = _app.default.model.isSuperBonus() && !_app.default.model.isSBTrigger() ? [_GameSymbol.default.BONUS_ID, _GameSymbol.default.MYSTERY_ID] : _GameSymbol.default.BONUS_SYMBOLS;
                    bonusReelSample = bonusReelSample.concat(EMPTY_ID);
                    return _helpers.utils.random(bonusReelSample)
                }
            }, {
                key: "addOversizeSymbol",
                value: function addOversizeSymbol(id, value) {
                    var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
                    var oversizeSymbol = this.oversizeContainer.addOversizeSymbol(id, value, i);
                    if (id === _GameSymbol.default.BONUS_ID || id === _GameSymbol.default.SUPER_ID) this.oversizeContainer.addDragon(i, id);
                    if (id !== _GameSymbol.default.SUPER_ID) this.oversizeContainer.addExplosion(i, id);
                    return oversizeSymbol
                }
            }, {
                key: "_checkProbability",
                value: function _checkProbability(id, randomNum) {
                    var targetProbability = _app.default.config.get("BonusReels.symbolsProbabilityConfig.".concat(id), 1);
                    return targetProbability > randomNum
                }
            }, {
                key: "getSymbol",
                value: function getSymbol(i, j) {
                    return this.oversizeContainer.symbols[i * 3 + j]
                }
            }, {
                key: "getExplosion",
                value: function getExplosion(i, j) {
                    return this.oversizeContainer.explosions[i * 3 + j]
                }
            }, {
                key: "getDragon",
                value: function getDragon(i, j) {
                    return this.oversizeContainer.dragons[i * 3 + j]
                }
            }, {
                key: "clear",
                value: function clear() {
                    this._stopDragons();
                    this._powerSymbols.forEach(function(n) {
                        n._symbols.forEach(function(s) {
                            s.view.clear();
                            s.removeFromParent();
                            s.destroy({
                                children: true
                            });
                            s = null
                        });
                        n._wrap.removeFromParent();
                        n._wrap.destroy({
                            children: true
                        });
                        n._wrap = null;
                        n.removeFromParent();
                        n.destroy({
                            children: true
                        });
                        n = null
                    });
                    this._powerSymbols = [];
                    this.dividers.forEach(function(d) {
                        d.removeFromParent();
                        d = null
                    });
                    this.dividers = [];
                    this.oversizeContainer.clear();
                    this.oversizeContainer = null
                }
            }, {
                key: "symbolsIncrement",
                value: function symbolsIncrement() {
                    this.symbolsCount++
                }
            }, {
                key: "_playLastSymbolonReel",
                value: function _playLastSymbolonReel(index) {
                    var rows = _app.default.config.get("App.rows");
                    var playSymbolSound = true;
                    var count = index + 1;
                    while (count % rows !== 0) {
                        if (!this.oversizeContainer.symbols[count]) {
                            playSymbolSound = false
                        }
                        count++
                    }
                    if (playSymbolSound || (index + 1) % rows === 0) {
                        _app.default.emit("PlaySFX", this.lastDroppedSymbolSound);
                        this.lastDroppedSymbolSound = null
                    }
                }
            }, {
                key: "spinDragons",
                value: function spinDragons() {
                    var _this6 = this;
                    this.spinDragonsCB = function(deltaTime) {
                        _this6.dragonsAngle += .09 * deltaTime;
                        _this6.dragons.forEach(function(d) {
                            d.rotation = _this6.dragonsAngle
                        })
                    };
                    _app.default.ticker.add(this.spinDragonsCB)
                }
            }, {
                key: "_stopDragons",
                value: function _stopDragons() {
                    _app.default.ticker.remove(this.spinDragonsCB)
                }
            }]);
            return BonusReels
        }(PIXI.Container);
        exports.default = BonusReels
    }, {
        "../gameSymbol/GameSymbol": 130,
        "./OversizeContainer": 122,
        "core/app": 33,
        "core/components/symbolView/GSView": 60,
        "core/core/Enums": 73,
        "core/helpers": 90
    }],
    120: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;
        var _app = _interopRequireDefault(require("core/app"));
        var _SkipController = _interopRequireDefault(require("core/controllers/SkipController"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var BonusSkip = function(_PIXI$Container) {
            _inherits(BonusSkip, _PIXI$Container);
            var _super = _createSuper(BonusSkip);

            function BonusSkip() {
                var _this;
                _classCallCheck(this, BonusSkip);
                _this = _super.call(this);
                _this.interactiveChildren = true;
                _this.interactive = true;
                _this.skipped = false;
                return _this
            }
            _createClass(BonusSkip, [{
                key: "isSkipped",
                value: function isSkipped() {
                    return this.skipped
                }
            }, {
                key: "add",
                value: function add(callback, scope) {
                    var args = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
                    this.skipped = false;
                    if (callback) {
                        this.callback = callback.bind(scope);
                        this.arguments = args
                    }
                    this.container = this.addChild(new PIXI.Container);
                    this.container.interactive = true;
                    var screenAvailable = _app.default.config.get("Screen.available");
                    this.container.hitArea = new PIXI.Rectangle(screenAvailable ? Math.round(_app.default.config.get("App.width") / 2) - _app.default.config.get("Screen.backWidth") / 2 : 0, screenAvailable ? -_app.default._stageWrapper.pivotY : 0, screenAvailable ? _app.default.config.get("Screen.backWidth") : _app.default.config.get("App.width"), screenAvailable ? _app.default.config.get("Screen.backHeight") : _app.default.config.get("App.height"));
                    _SkipController.default.on(this.skip, this);
                    GR.Events.flow.round_start.on(this.skip, this)
                }
            }, {
                key: "skip",
                value: function skip() {
                    if (_app.default.controllers.flow.isStream() || this.skipped) return;
                    if (this.callback) this.callback(this.arguments);
                    this.skipped = true;
                    this.remove()
                }
            }, {
                key: "remove",
                value: function remove() {
                    if (!this.container) return;
                    _SkipController.default.off(this.skip, this);
                    GR.Events.flow.round_start.off(this.skip, this);
                    this.container.removeFromParent();
                    this.container = null;
                    this.callback = null;
                    this.arguments = null
                }
            }]);
            return BonusSkip
        }(PIXI.Container);
        exports.default = BonusSkip
    }, {
        "core/app": 33,
        "core/controllers/SkipController": 68
    }],
    121: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.BonusState = exports.BonusRespinState = void 0;
        var _States = _interopRequireDefault(require("core/core/States"));
        var _app = _interopRequireDefault(require("core/app"));
        var _Enums = require("core/core/Enums");
        var _helpers = require("core/helpers");

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var BonusState = function(_State) {
            _inherits(BonusState, _State);
            var _super = _createSuper(BonusState);

            function BonusState() {
                _classCallCheck(this, BonusState);
                return _super.apply(this, arguments)
            }
            _createClass(BonusState, [{
                key: "onEnter",
                value: function onEnter() {
                    var _this = this;
                    _app.default.model.setDefaults();
                    _app.default.lock();
                    GR.UI.model.set("round_win_mode", "total_win");
                    GR.UI.model.set("respin.count", _app.default.model.respinsLeft());
                    GR.UI.model.set("ui_info_text", "");
                    return Promise.resolve().then(function() {
                        if (_app.default.model.canAction("bonus_init")) {
                            GR.UI.model.set("controls.available", false);
                            return _app.default.flow.act("bonus_init").then(function() {
                                _app.default.emit(_Enums.GameEvent.stateReady("bonus_init"));
                                GR.Events.game.respin_start();
                                GR.UI.model.set("game_mode", "bonus");
                                GR.UI.model.set("respin.count", _app.default.model.respinsLeft());
                                _app.default.unlock();
                                _this.leave()
                            })
                        }
                    }).then(function() {
                        if (_app.default.model.canBonusStop()) {
                            return _app.default.flow.act("bonus_".concat(_app.default.model.bonusOriginState(), "_stop")).then(function() {
                                return GR.UI.model.set("freespins.count", _app.default.model.respinsLeft())
                            }).then(function() {
                                return GR.UI.model.set("game_mode", _app.default.model.current())
                            }).then(function() {
                                return GR.UI.model.set("ui_info_text", _helpers.i18n.get("UI_LINES", _app.default.model.get("settings.lines")))
                            }).then(function() {
                                return _this.clear()
                            }).then(function() {
                                return _this.leave()
                            })
                        } else {
                            var promise = Promise.resolve();
                            if (!_app.default.board.bonusInited) {
                                promise = promise.then(function() {
                                    return _app.default.board.checkBonusAssetsReady()
                                }).then(function() {
                                    return _app.default.board.addTransitionAnimation()
                                }).then(function() {
                                    return _app.default.board.transition.showBonusStartAnimation()
                                }).then(function() {
                                    return _app.default.emit(_Enums.GameEvent.BonusStartAmbient)
                                }).then(function() {
                                    return Promise.all([_app.default.board.createBonusBoard(), _app.default.emit(_Enums.GameEvent.BonusIntro), _app.default.board.bonusPopup.show()])
                                }).then(function() {
                                    return GR.UI.model.set("respin.count", _app.default.model.respinsLeft())
                                }).then(function() {
                                    return _app.default.board.bonusPopup.hide()
                                })
                            }
                            return promise.then(function() {
                                _app.default.unlock();
                                GR.UI.view.spin.click.once(function() {
                                    return _app.default.emit(_Enums.GameEvent.BonusRoundStart)
                                });
                                GR.UI.Events.spin.once(function() {
                                    return _app.default.emit(_Enums.GameEvent.BonusRoundStart)
                                });
                                _app.default.flow.ready("respin");
                                _app.default.emit(_Enums.GameEvent.stateReady("respin"));
                                GR.UI.model.set("round_win_mode", "total_win");
                                if (GR.UI.model.get("autogame.active")) {
                                    _app.default.emit(_Enums.GameEvent.BonusRoundStart)
                                }
                                _this.leave()
                            })
                        }
                    })
                }
            }, {
                key: "clear",
                value: function clear() {
                    return Promise.resolve().then(function() {
                        return _app.default.board.bonusWin.setBackAlpha()
                    }).then(function() {
                        return _app.default.bg.changeBackground(true)
                    }).then(function() {
                        return _app.default.board.removeBonusBoard()
                    }).then(function() {
                        return _app.default.emit(_Enums.GameEvent.BonusStop)
                    }).then(function() {
                        return _helpers.utils.wait(500).then(function() {
                            return _app.default.board.bonusWin.hide()
                        })
                    })
                }
            }, {
                key: "onLeave",
                value: function onLeave() {
                    if (_app.default.model.get("game.restart", false)) return this.clear()
                }
            }]);
            return BonusState
        }(_States.default);
        exports.BonusState = BonusState;
        var BonusRespinState = function(_State2) {
            _inherits(BonusRespinState, _State2);
            var _super2 = _createSuper(BonusRespinState);

            function BonusRespinState() {
                _classCallCheck(this, BonusRespinState);
                return _super2.apply(this, arguments)
            }
            _createClass(BonusRespinState, [{
                key: "onEnter",
                value: function onEnter() {
                    var _this2 = this;
                    _app.default.unlock();
                    GR.UI.model.set("round_win_mode", "total_win");
                    GR.UI.model.set("respin.count", _app.default.model.respinsLeft() - 1);
                    Promise.resolve().then(function() {
                        if (_app.default.model.canAction("respin")) {
                            if (!_app.default.board.bonusInited) _app.default.board.createBonusBoard();
                            return Promise.all([_app.default.board.bonusReels.spin(), _app.default.flow.act("respin"), !_app.default.board.bonusSkip.skipped && _app.default.board.respinsFrame.updateCountText()]).then(function() {
                                var minSpinTimePromise = _helpers.utils.deferred();
                                _app.default.board.bonusSkip.add(function() {
                                    return _helpers.utils.wait(100).then(function() {
                                        return minSpinTimePromise.resolve()
                                    })
                                });
                                _helpers.utils.wait(1500).then(function() {
                                    return minSpinTimePromise.resolve()
                                });
                                return Promise.all([minSpinTimePromise.promise, _app.default.flow.result()])
                            }).then(function() {
                                return Promise.all([_app.default.board.bonusReels.stop(), !_app.default.model.statusOk])
                            }).then(function() {
                                _app.default.board.bonusSkip.remove();
                                _app.default.board.bonusSkip.skipped = false
                            }).then(function() {
                                return _app.default.board.bonusCollect.createRespinCountText()
                            }).then(function() {
                                return _app.default.board.checkJackpotWin()
                            }).then(function() {
                                return _app.default.model.isSBTrigger() && !_app.default.model.isSBMysterySymbol() && _app.default.board.showSuperWinSate()
                            }).then(function() {
                                return _app.default.model.isSBTrigger() && !_app.default.model.isSBMysterySymbol() && _app.default.board.showSuperBonus()
                            }).then(function() {
                                return _app.default.board.showMysterySymbols()
                            }).then(function() {
                                return _app.default.board.bonusCollect.onPlay()
                            }).then(function() {
                                return _this2.leave()
                            })
                        } else {
                            _this2.leave()
                        }
                    })
                }
            }]);
            return BonusRespinState
        }(_States.default);
        exports.BonusRespinState = BonusRespinState
    }, {
        "core/app": 33,
        "core/core/Enums": 73,
        "core/core/States": 81,
        "core/helpers": 90
    }],
    122: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;
        var _app = _interopRequireDefault(require("core/app"));
        var _GameSymbol = _interopRequireDefault(require("../gameSymbol/GameSymbol"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var OversizeContainer = function(_PIXI$Container) {
            _inherits(OversizeContainer, _PIXI$Container);
            var _super = _createSuper(OversizeContainer);

            function OversizeContainer() {
                var _this;
                _classCallCheck(this, OversizeContainer);
                _this = _super.call(this);
                _this.symbolContainers = [];
                _this.symbols = [];
                _this.dragons = [];
                _this.explosions = [];
                _this.init();
                return _this
            }
            _createClass(OversizeContainer, [{
                key: "init",
                value: function init() {
                    this.addSymbolContainers()
                }
            }, {
                key: "addSymbolContainers",
                value: function addSymbolContainers() {
                    for (var i = 0; i < _app.default.board.reels.reels.length; i++) {
                        var reel = _app.default.board.reels.reels[i];
                        for (var j = 1; j < reel.symbols.length - 1; j++) {
                            var el = reel.symbols[j],
                                index = i * 3 + (j - 1),
                                symbolContainer = this.addChild(new PIXI.Container),
                                _el$toParentCoords = el.toParentCoords(_app.default.board.reels),
                                x = _el$toParentCoords.x,
                                y = _el$toParentCoords.y;
                            symbolContainer.position.set(x, y);
                            this.symbolContainers[index] = symbolContainer
                        }
                    }
                }
            }, {
                key: "fillSymbols",
                value: function fillSymbols() {
                    for (var i = 0; i < _app.default.board.reels.reels.length; i++) {
                        var reel = _app.default.board.reels.reels[i];
                        for (var j = 1; j < reel.symbols.length - 1; j++) {
                            var bonusBoard = _app.default.model.get("game.bonus.board", []);
                            if (bonusBoard.length === 0) return;
                            var id = bonusBoard[i][j - 1];
                            var bonusSymbolBoard = _app.default.model.bonusSymbolsBoard();
                            if (bonusSymbolBoard.length === 0) return;
                            var currentSymbolsValue = bonusSymbolBoard[i][j - 1];
                            if (_GameSymbol.default.BONUS_SYMBOLS.includes(id)) {
                                var index = i * 3 + (j - 1);
                                this.addOversizeSymbol(id, currentSymbolsValue, index);
                                if (id === _GameSymbol.default.BONUS_ID || id === _GameSymbol.default.SUPER_ID) this.addDragon(index);
                                this.addExplosion(index, id)
                            }
                        }
                    }
                    this.sortOversizeSymbols()
                }
            }, {
                key: "addOversizeSymbol",
                value: function addOversizeSymbol(id, value, index) {
                    var firstSameSymbol = this.symbols.findIndex(function(element) {
                        return (element === null || element === void 0 ? void 0 : element.id) === id
                    });
                    var time = firstSameSymbol !== -1 ? this.symbols[firstSameSymbol].view.itemView.state.tracks[0].trackTime : 0;
                    var symbol = new _GameSymbol.default;
                    symbol.setId(id);
                    if (id !== _GameSymbol.default.SUPER_ID || id === _GameSymbol.default.SUPER_ID && !_app.default.model.isSBTrigger()) symbol.setBonusSymbolValue(value);
                    symbol.setOversizeState();
                    symbol.view.itemView.state.tracks[0].trackTime = time;
                    this.symbolContainers[index].addChildAt(symbol, 0);
                    this.symbols[index] = symbol;
                    return symbol
                }
            }, {
                key: "sortOversizeSymbols",
                value: function sortOversizeSymbols() {
                    this.children.forEach(function(c, i) {
                        return c.zIndex = i
                    });
                    this.children.sort(function(a, b) {
                        return a.zIndex - b.zIndex
                    })
                }
            }, {
                key: "addExplosion",
                value: function addExplosion(index) {
                    var explosion = this.symbolContainers[index].addChild(PIXI.spine.Spine.fromLoader("el_bonus_explosion"));
                    explosion.autoUpdate = false;
                    explosion.visible = false;
                    explosion.show = function() {
                        explosion.autoUpdate = true;
                        explosion.state.setAnimation(0, "animation", false);
                        explosion.visible = true;
                        explosion.update(0)
                    };
                    explosion.hide = function() {
                        explosion.visible = false;
                        explosion.autoUpdate = false
                    };
                    explosion.state.on(PIXI.spine.core.AnimationState.COMPLETE, explosion.hide);
                    this.explosions[index] = explosion;
                    return explosion
                }
            }, {
                key: "addDragon",
                value: function addDragon(index) {
                    var dragon = this.symbolContainers[index].addChild(PIXI.Sprite.fromFrame("bonus_dragon_1"));
                    dragon.anchor.set(.5);
                    dragon.blendMode = 1;
                    dragon.alpha = 1;
                    dragon.visible = 1;
                    this.dragons[index] = dragon;
                    dragon.show = function() {
                        dragon.visible = true;
                        dragon.tween(true).to({
                            alpha: 1
                        }, 300)
                    };
                    dragon.show();
                    return dragon
                }
            }, {
                key: "clear",
                value: function clear() {
                    this.dragons.forEach(function(d) {
                        d.removeFromParent();
                        d.destroy();
                        d = null
                    });
                    this.explosions.forEach(function(e) {
                        e.removeFromParent();
                        e.destroy();
                        e = null
                    });
                    this.symbols.forEach(function(s) {
                        s.view.clear();
                        s.removeFromParent();
                        s.destroy({
                            children: true
                        });
                        s = null
                    });
                    this.symbolContainers.forEach(function(c) {
                        c.removeFromParent();
                        c = null
                    });
                    this.dragons = [];
                    this.symbols = [];
                    this.symbolContainers = []
                }
            }]);
            return OversizeContainer
        }(PIXI.Container);
        exports.default = OversizeContainer
    }, {
        "../gameSymbol/GameSymbol": 130,
        "core/app": 33
    }],
    123: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;
        var _app = _interopRequireDefault(require("core/app"));
        var _helpers = require("core/helpers");
        var _GameSymbol = _interopRequireDefault(require("core/components/GameSymbol"));
        var _GSBonusView = _interopRequireDefault(require("core/components/symbolView/GSBonusView"));
        var _GSSpineNames = _interopRequireDefault(require("core/components/symbolView/GSSpineNames"));
        var _GSViewConfig = _interopRequireDefault(require("core/components/symbolView/GSViewConfig"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }
        Object.assign(_GSBonusView.default.prototype, {
            createState: function createState() {
                var _this = this;
                this.clear();
                var name = _GSSpineNames.default.getSpineName(this.parent.id);
                if (_app.default.model.isSuperBonus() && !_app.default.model.isSBTrigger() && this.parent.id === _GameSymbol.default.BONUS_ID) name = _GSSpineNames.default.superSpineName;
                this.itemView = this.addChild(PIXI.spine.Spine.fromLoader(name));
                this.itemView.autoUpdate = true;
                this.itemView.state.setAnimation(0, _GSSpineNames.default.animations.IDLE, true);
                this.itemView.update(0);
                this.itemView.x = this.config.HALF_WIDTH;
                this.itemView.y = this.config.HALF_HEIGHT;
                this.off(_GameSymbol.default.EventAnimationComplete, this.setStaticState, this);
                this.itemView.onComplete = function() {
                    return _this._onComplete()
                };
                this.itemView.state.timeScale = this.config.timeScale;
                this.scaleX = this.scaleY = this.config.oversizeScaleMin;
                this.isSpineSymbol = true;
                this.isBonusSymbol = true;
                this.complete = false;
                if (_GSViewConfig.default.jackpotNames.includes(this.parent.currentBonusSymbolValue)) {
                    this.setImageValue(this.parent.currentBonusSymbolValue)
                }
                this.setTextValue(this.parent.currentBonusSymbolValue)
            },
            setTextValue: function setTextValue(value) {
                if (!this.text) {
                    if (_GSViewConfig.default.bitmapTextName) {
                        this.text = this.itemView.addChild(new PIXI.extras.BitmapText("", this.config.BITMAP_SYMBOL_TEXT(42)))
                    } else {
                        this.text = this.itemView.addChild(new PIXI.Text(""))
                    }
                    this.text.anchor.set(.5);
                    this.text.alpha = 1
                }
                if (value > 0) {
                    this.text.text = _helpers.i18n.coins(value).toString()
                } else {
                    this.text.text = ""
                }
                _helpers.utils.labelScale(this.text, this.config.labelScaleWidth, this.config.labelScaleHeight)
            },
            setBonusSymbolWinState: function setBonusSymbolWinState() {
                var _this2 = this;
                this.explosion = this.addChild(PIXI.spine.Spine.fromLoader(_GSSpineNames.default.bonusExplosionSpineName));
                this.explosion.isExp = true;
                this.isSpineSymbol = true;
                this.explosion.state.once(PIXI.spine.core.AnimationState.COMPLETE, function() {
                    _this2.explosion.removeFromParent();
                    _helpers.utils.wait(20).then(function() {
                        _this2.explosion.destroy();
                        _this2.explosion = null
                    });
                    _this2._onComplete()
                });
                this.explosion.autoUpdate = true;
                this.explosion.state.setAnimation(0, _GSSpineNames.default.animations.EXPLOSION, false);
                this.explosion.update(0);
                this.explosion.x = _app.default.config.get("GameSymbol.width") / 2;
                this.explosion.y = _app.default.config.get("GameSymbol.height") / 2;
                this.complete = false
            },
            setSuperWinSate: function setSuperWinSate() {
                var _this3 = this;
                this.itemView.state.setAnimation(0, "start", false);
                this.itemView.update(0);
                this.complete = false;
                this.itemView.state.on(PIXI.spine.core.AnimationState.COMPLETE, function() {
                    _this3._onComplete();
                    _this3.itemView.state.setAnimation(0, _GSSpineNames.default.animations.IDLE, false)
                })
            },
            setSuperBonusState: function setSuperBonusState() {
                var _this4 = this;
                this.clear();
                var name = _GSSpineNames.default.superSpineName;
                this.itemView = this.addChild(PIXI.spine.Spine.fromLoader(name));
                this.itemView.autoUpdate = true;
                this.itemView.state.setAnimation(0, _GSSpineNames.default.animations.IDLE, true);
                this.itemView.update(0);
                this.itemView.x = this.config.HALF_WIDTH;
                this.itemView.y = this.config.HALF_HEIGHT;
                this.off(_GameSymbol.default.EventAnimationComplete, this.setStaticState, this);
                this.itemView.onComplete = function() {
                    return _this4._onComplete()
                };
                this.isSpineSymbol = true;
                this.isBonusSymbol = true;
                this.complete = false;
                if (_GSViewConfig.default.jackpotNames.includes(this.parent.currentBonusSymbolValue)) {
                    this.setImageValue(this.parent.currentBonusSymbolValue)
                }
                this.setTextValue(this.parent.currentBonusSymbolValue)
            }
        });
        var _default = _GSBonusView.default;
        exports.default = _default
    }, {
        "core/app": 33,
        "core/components/GameSymbol": 39,
        "core/components/symbolView/GSBonusView": 53,
        "core/components/symbolView/GSSpineNames": 57,
        "core/components/symbolView/GSViewConfig": 61,
        "core/helpers": 90
    }],
    124: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = exports.GSMOversizeMysteryView = void 0;
        var _helpers = require("core/helpers");
        var _GSViewConfig = _interopRequireDefault(require("core/components/symbolView/GSViewConfig"));
        var _GSSpineNames = _interopRequireDefault(require("core/components/symbolView/GSSpineNames"));
        var _GSOversizeBonusView2 = require("core/components/symbolView/GSOversizeBonusView");
        var _GameSymbol = _interopRequireDefault(require("./GameSymbol"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var GSMOversizeMysteryView = function(_GSOversizeBonusView) {
            _inherits(GSMOversizeMysteryView, _GSOversizeBonusView);
            var _super = _createSuper(GSMOversizeMysteryView);

            function GSMOversizeMysteryView() {
                _classCallCheck(this, GSMOversizeMysteryView);
                return _super.call(this)
            }
            _createClass(GSMOversizeMysteryView, [{
                key: "createState",
                value: function createState(state) {
                    var _this = this;
                    this.clear();
                    var name = _GSSpineNames.default.bonusSpineName;
                    if (app.model.isSuperBonus() && !app.model.isSBTrigger()) name = _GSSpineNames.default.superSpineName;
                    this.itemView = this.addChild(PIXI.spine.Spine.fromLoader(name));
                    this.itemView.autoUpdate = true;
                    this.itemView.state.setAnimation(0, _GSSpineNames.default.animations.IDLE, true);
                    this.itemView.update(0);
                    this.itemView.x = this.config.HALF_WIDTH;
                    this.itemView.y = this.config.HALF_HEIGHT;
                    this.off(_GameSymbol.default.EventAnimationComplete, this.setStaticState, this);
                    this.itemView.alpha = 0;
                    this.itemView.onComplete = function() {
                        return _this._onComplete()
                    };
                    this.mysteryAnimation = this.addChild(PIXI.spine.Spine.fromLoader(_GSSpineNames.default.mysterySpineName));
                    this.mysteryAnimation.autoUpdate = true;
                    this.mysteryAnimation.state.setAnimation(0, _GSSpineNames.default.animations.IDLE, true);
                    this.mysteryAnimation.x = this.config.HALF_WIDTH;
                    this.mysteryAnimation.y = this.config.HALF_HEIGHT;
                    this.mysteryAnimation.update(0);
                    this.isSpineSymbol = true;
                    this.isBonusSymbol = true;
                    this.isOpened = false;
                    this.complete = false;
                    this.scaleX = this.scaleY = state === _GameSymbol.default.OVERSIZE ? this.config.oversizeScaleMin : this.config.oversizeScaleMax
                }
            }, {
                key: "setMoveState",
                value: function setMoveState() {
                    if (this.state === _GameSymbol.default.MOVE) return;
                    this.createState(_GameSymbol.default.MOVE);
                    this.view.setMoveState()
                }
            }, {
                key: "setBonusSymbolViewValue",
                value: function setBonusSymbolViewValue(value) {
                    if (_GSViewConfig.default.jackpotNames.includes(value)) {
                        this.setImageValue(value);
                        if (this.text) this.text.text = ""
                    } else if (value > 0) {
                        if (this.image) {
                            this.image.removeFromParent();
                            this.image = null
                        }
                        this.setTextValue(value)
                    }
                }
            }, {
                key: "openMysterySymbol",
                value: function openMysterySymbol() {
                    var _this2 = this;
                    var deferred = _helpers.utils.deferred();
                    if (this.isOpened) return deferred.resolve();
                    this.itemView.alpha = 1;
                    this.isOpened = true;
                    this.mysteryAnimation.state.setAnimation(0, "win", false);
                    this.mysteryAnimation.state.once(PIXI.spine.core.AnimationState.COMPLETE, function() {
                        _this2.mysteryAnimation.removeFromParent();
                        _helpers.utils.wait(20).then(function() {
                            _this2.mysteryAnimation.destroy();
                            _this2.mysteryAnimation = null;
                            deferred.resolve();
                            _this2._onComplete()
                        })
                    });
                    return deferred.promise
                }
            }, {
                key: "clear",
                value: function clear() {
                    var oldItemView = this.itemView;
                    oldItemView && createjs.Tween.removeTweens(oldItemView);
                    createjs.Tween.removeTweens(this);
                    if (this.text) {
                        this.text.removeFromParent();
                        this.text.destroy();
                        this.text = null
                    }
                    if (this.image) {
                        this.image.removeFromParent();
                        this.image.destroy();
                        this.image = null
                    }
                    if (this.mysteryAnimation) {
                        this.mysteryAnimation.removeFromParent();
                        this.mysteryAnimation.destroy();
                        this.mysteryAnimation = null
                    }
                    if (oldItemView) {
                        this.removeChild(oldItemView);
                        oldItemView.destroy();
                        oldItemView.onComplete = null;
                        oldItemView = null
                    }
                }
            }, {
                key: "setSuperBonusState",
                value: function setSuperBonusState() {
                    var _this3 = this;
                    var oldItemView = this.itemView;
                    var index = this.getChildIndex(oldItemView);
                    if (this.text) {
                        this.text.removeFromParent();
                        this.text.destroy();
                        this.text = null
                    }
                    if (this.image) {
                        this.image.removeFromParent();
                        this.image.destroy();
                        this.image = null
                    }
                    if (oldItemView) {
                        this.removeChild(oldItemView);
                        oldItemView.destroy();
                        oldItemView.onComplete = null;
                        oldItemView = null
                    }
                    var name = _GSSpineNames.default.superSpineName;
                    this.itemView = this.addChildAt(PIXI.spine.Spine.fromLoader(name), index);
                    this.itemView.autoUpdate = true;
                    this.itemView.state.setAnimation(0, _GSSpineNames.default.animations.IDLE, true);
                    this.itemView.update(0);
                    this.itemView.x = this.config.HALF_WIDTH;
                    this.itemView.y = this.config.HALF_HEIGHT;
                    this.off(_GameSymbol.default.EventAnimationComplete, this.setStaticState, this);
                    this.itemView.onComplete = function() {
                        return _this3._onComplete()
                    };
                    this.isSpineSymbol = true;
                    this.isBonusSymbol = true;
                    this.complete = false;
                    if (_GSViewConfig.default.jackpotNames.includes(this.parent.currentBonusSymbolValue)) {
                        this.setImageValue(this.parent.currentBonusSymbolValue)
                    }
                    this.setTextValue(this.parent.currentBonusSymbolValue)
                }
            }]);
            return GSMOversizeMysteryView
        }(_GSOversizeBonusView2.GSOversizeBonusView);
        exports.GSMOversizeMysteryView = exports.default = GSMOversizeMysteryView
    }, {
        "./GameSymbol": 130,
        "core/components/symbolView/GSOversizeBonusView": 55,
        "core/components/symbolView/GSSpineNames": 57,
        "core/components/symbolView/GSViewConfig": 61,
        "core/helpers": 90
    }],
    125: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = exports.GSScatterView = void 0;
        var _GameSymbol = _interopRequireDefault(require("core/components/GameSymbol"));
        var _GSSpineNames = _interopRequireDefault(require("core/components/symbolView/GSSpineNames"));
        var _GSSpineView2 = _interopRequireDefault(require("core/components/symbolView/GSSpineView"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var GSScatterView = function(_GSSpineView) {
            _inherits(GSScatterView, _GSSpineView);
            var _super = _createSuper(GSScatterView);

            function GSScatterView() {
                _classCallCheck(this, GSScatterView);
                return _super.call(this)
            }
            _createClass(GSScatterView, [{
                key: "createState",
                value: function createState(state) {
                    var _this = this;
                    this.clear();
                    this.alpha = 1;
                    this.itemView = this.addChild(PIXI.spine.Spine.fromLoader(_GSSpineNames.default.scatterSpineName));
                    this.isSpineSymbol = true;
                    this.itemView.autoUpdate = true;
                    this.itemView.state.setAnimation(0, _GSSpineNames.default.animations.SCATTER.ANTICIPATION_IDLE, true);
                    this.itemView.update(0);
                    this.itemView.state.timeScale = this.config.timeScale;
                    this.itemView.x = this.config.HALF_WIDTH;
                    this.itemView.y = this.config.HALF_HEIGHT;
                    this.complete = false;
                    this.isSpineSymbol = true;
                    this.off(_GameSymbol.default.EventAnimationComplete, this.setStaticState, this);
                    this.itemView.onComplete = function() {
                        return _this._onComplete()
                    };
                    if (this.scaleX !== 1 || this.scaleY !== 1 || this.alpha !== 1) {
                        this.tween(true).to({
                            scaleX: 1,
                            scaleY: 1,
                            alpha: 1
                        }, 160)
                    }
                }
            }, {
                key: "_createView",
                value: function _createView(name, animationName) {
                    var loop = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
                    this.alpha = 1;
                    this.itemView = this.addChild(PIXI.spine.Spine.fromLoader(name));
                    this.isSpineSymbol = true;
                    if (animationName !== _GSSpineNames.default.animations.IDLE) {
                        this.itemView.autoUpdate = true;
                        this.itemView.state.setAnimation(0, animationName, loop);
                        this.itemView.update(0)
                    }
                    this.itemView.x = this.config.HALF_WIDTH;
                    this.itemView.y = this.config.HALF_HEIGHT;
                    this.complete = false
                }
            }, {
                key: "setTriggerState",
                value: function setTriggerState() {
                    var _this2 = this;
                    this.clear();
                    var name = _GSSpineNames.default.getSpineName(this.parent.id);
                    this._createView(name, _GSSpineNames.default.animations.SCATTER.TRIGGER);
                    this.itemView.state.on(PIXI.spine.core.AnimationState.COMPLETE, function() {
                        _this2._onComplete()
                    })
                }
            }, {
                key: "setAnticipationState",
                value: function setAnticipationState() {
                    var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
                    this.itemView.state.addAnimation(0, _GSSpineNames.default.animations.SCATTER.ANTICIPATION_IDLE, true);
                    this.itemView.update(time)
                }
            }, {
                key: "setAnticipationEndState",
                value: function setAnticipationEndState() {
                    var _this3 = this;
                    this.itemView.state.addListener({
                        complete: function complete() {
                            _this3.itemView.state.tracks[0].loop = false;
                            _this3._onComplete()
                        }
                    })
                }
            }, {
                key: "getTrackTime",
                value: function getTrackTime() {
                    return this.itemView.state.tracks[0].trackTime
                }
            }, {
                key: "setTrackTime",
                value: function setTrackTime() {
                    var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
                    this.itemView.state.tracks[0].trackTime = time
                }
            }]);
            return GSScatterView
        }(_GSSpineView2.default);
        exports.GSScatterView = exports.default = GSScatterView
    }, {
        "core/components/GameSymbol": 39,
        "core/components/symbolView/GSSpineNames": 57,
        "core/components/symbolView/GSSpineView": 58
    }],
    126: [function(require, module, exports) {
        "use strict";
        var _GSSpineNames = _interopRequireDefault(require("core/components/symbolView/GSSpineNames"));
        var _GameSymbol = _interopRequireDefault(require("./GameSymbol"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }
        _GSSpineNames.default.animations = {
            IDLE: "idle",
            WIN: "trigger",
            STATIC: "static",
            EXPLOSION: "animation",
            COLLECTED: "collected",
            SCATTER: {
                ANTICIPATION_IDLE: "anticipation_loop",
                TRIGGER: "trigger"
            }
        };
        _GSSpineNames.default.getSpineName = function(id) {
            if (id === _GameSymbol.default.SCATTER_ID) {
                return _GSSpineNames.default.scatterSpineName
            }
            if (_GameSymbol.default.BONUS_ID === id) {
                return _GSSpineNames.default.bonusSpineName
            }
            if (_GameSymbol.default.MYSTERY_ID === id) {
                return _GSSpineNames.default.mysterySpineName
            }
            if (_GameSymbol.default.SUPER_ID === id) {
                return _GSSpineNames.default.superSpineName
            }
        };
        _GSSpineNames.default.bonusSpineName = "el_bonus";
        _GSSpineNames.default.scatterSpineName = "el_scatter";
        _GSSpineNames.default.mysterySpineName = "mystery_animation";
        _GSSpineNames.default.superSpineName = "el_super_bonus";
        _GSSpineNames.default.bonusExplosionSpineName = "el_bonus_explosion"
    }, {
        "./GameSymbol": 130,
        "core/components/symbolView/GSSpineNames": 57
    }],
    127: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;
        var _app = _interopRequireDefault(require("core/app"));
        var _GameSymbol = _interopRequireDefault(require("core/components/GameSymbol"));
        var _GSSpriteView = _interopRequireDefault(require("core/components/symbolView/GSSpriteView"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }
        Object.assign(_GSSpriteView.default.prototype, {
            createState: function createState(state) {
                var _this = this;
                var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "";
                this.clear();
                var imgName = name ? name : "".concat(_GameSymbol.default.mapping[this.parent.id], "_").concat(state);
                if (_app.default.model.isSuperBonus() && this.parent.id === _GameSymbol.default.BONUS_ID && !_app.default.model.isSBTrigger()) imgName = "el_super_bonus_".concat(_GameSymbol.default.STATIC);
                this.itemView = this.addChild(PIXI.extras.AnimatedSprite.fromFrames([imgName]));
                this.itemView.anchor.set(.5);
                this.itemView.x = this.config.HALF_WIDTH;
                this.itemView.y = this.config.HALF_HEIGHT;
                this.complete = false;
                this.off(_GameSymbol.default.EventAnimationComplete, this.setStaticState, this);
                this.itemView.onComplete = function() {
                    return _this._onComplete()
                };
                this._onComplete();
                if (this.scaleX !== 1 || this.scaleY !== 1 || this.alpha !== 1) {
                    this.tween(true).to({
                        scaleX: 1,
                        scaleY: 1,
                        alpha: 1
                    }, 160)
                }
            },
            setSuperBonusState: function setSuperBonusState() {
                this.createState(_GameSymbol.default.STATIC, "el_super_bonus_".concat(_GameSymbol.default.STATIC))
            }
        });
        var _default = _GSSpriteView.default;
        exports.default = _default
    }, {
        "core/app": 33,
        "core/components/GameSymbol": 39,
        "core/components/symbolView/GSSpriteView": 59
    }],
    128: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;
        var _GSView = _interopRequireDefault(require("core/components/symbolView/GSView"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }
        Object.assign(_GSView.default.prototype, {
            setImageValue: function setImageValue(value) {
                if (this.image) {
                    this.image.removeFromParent();
                    this.image = null
                }
                this.image = this.itemView.addChild(PIXI.Sprite.fromFrame("".concat(value, "_symbol")));
                this.image.anchor.set(.5);
                if (this.text) this.text.text = ""
            },
            getTrackTime: function getTrackTime() {},
            setTrackTime: function setTrackTime(time) {},
            setSuperBonusState: function setSuperBonusState() {},
            setSuperWinSate: function setSuperWinSate() {}
        });
        var _default = _GSView.default;
        exports.default = _default
    }, {
        "core/components/symbolView/GSView": 60
    }],
    129: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;
        var _GSViewConfig = _interopRequireDefault(require("core/components/symbolView/GSViewConfig"));
        var _GameSymbol = _interopRequireDefault(require("./GameSymbol"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }
        _GSViewConfig.default.bitmapTextName = "numbers_bonus";
        _GSViewConfig.default.isEmptyViewUsing = true;
        _GSViewConfig.default.jackpotNames = ["minor", "grand", "royal", "major", "mini"];
        Object.assign(_GSViewConfig.default.prototype, {
            setStateMapping: function setStateMapping() {
                var spriteSymbols = this.spriteSymbols();
                this.stateMapping = {
                    static: {
                        sprite: spriteSymbols,
                        spine: []
                    },
                    short: {
                        sprite: spriteSymbols,
                        spine: [_GameSymbol.default.SCATTER_ID]
                    },
                    move: {
                        sprite: [].concat(spriteSymbols).concat([_GameSymbol.default.SCATTER_ID]),
                        spine: []
                    },
                    land: {
                        sprite: [_GameSymbol.default.SCATTER_ID],
                        spine: []
                    },
                    trigger: {
                        sprite: [],
                        spine: [_GameSymbol.default.SCATTER_ID]
                    },
                    anticipation_idle: {
                        sprite: [],
                        spine: [_GameSymbol.default.SCATTER_ID]
                    },
                    oversize: {
                        sprite: [],
                        spine: [_GameSymbol.default.BONUS_ID, _GameSymbol.default.MYSTERY_ID, _GameSymbol.default.SUPER_ID]
                    }
                }
            }
        });
        var _default = _GSViewConfig.default;
        exports.default = _default
    }, {
        "./GameSymbol": 130,
        "core/components/symbolView/GSViewConfig": 61
    }],
    130: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;
        var _app = _interopRequireDefault(require("core/app"));
        var _GameSymbol = _interopRequireDefault(require("core/components/GameSymbol"));
        var _GSOversizeBonusView = require("core/components/symbolView/GSOversizeBonusView");
        var _GSBonusView = _interopRequireDefault(require("core/components/symbolView/GSBonusView"));
        var _GSSpineView = _interopRequireDefault(require("core/components/symbolView/GSSpineView"));
        var _GSEmptyView = _interopRequireDefault(require("core/components/symbolView/GSEmptyView"));
        var _GSSpriteView = require("core/components/symbolView/GSSpriteView");
        var _GSOversizeMysteryView = _interopRequireDefault(require("./GSOversizeMysteryView"));
        var _GSScatterView = require("./GSScatterView");

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }
        Object.assign(_GameSymbol.default, {
            WILD_ID: 9,
            SCATTER_ID: 10,
            BONUS_ID: 11,
            MYSTERY_ID: 13,
            SUPER_ID: 12,
            BONUS: "bonus",
            SUPER: "super",
            LOW_SYMBOLS: [1, 2, 3, 4],
            MIDDLE_SYMBOLS: [8, 7, 6, 5],
            SPECIAL_SYMBOLS: [9, 10],
            BONUS_SYMBOLS: [11, 12, 13]
        });
        Object.assign(_GameSymbol.default.prototype, {
            setMoveState: function setMoveState() {
                if (this.state === _GameSymbol.default.MOVE) return;
                this.createState(_GameSymbol.default.MOVE)
            },
            setBonusSymbolWinState: function setBonusSymbolWinState() {
                this.createState(_GameSymbol.default.OVERSIZE);
                this.setMaxScale();
                return this.view.setBonusSymbolWinState()
            },
            generateView: function generateView(state) {
                if (this.config.stateMapping[state].spine.includes(this.id) && this._isSpineLoaded(this.id)) {
                    if (state === _GameSymbol.default.OVERSIZE && _app.default.config.get("AdvancedReels.oversizeSymbols").includes(this.id)) {
                        if (_GameSymbol.default.MYSTERY_ID === this.id) {
                            this.view = this.addChild(new _GSOversizeMysteryView.default)
                        } else {
                            this.view = this.addChild(new _GSOversizeBonusView.GSOversizeBonusView)
                        }
                    } else {
                        if (_GameSymbol.default.BONUS_ID === this.id || this.id === _GameSymbol.default.SUPER_ID) {
                            this.view = this.addChild(new _GSBonusView.default)
                        } else if (_GameSymbol.default.SCATTER_ID === this.id) {
                            this.view = this.addChild(new _GSScatterView.GSScatterView)
                        } else {
                            this.view = this.addChild(new _GSSpineView.default)
                        }
                    }
                } else if (this.config.stateMapping[state].sprite.includes(this.id)) {
                    if (this.id === _GameSymbol.default.EMPTY_ID) {
                        this.view = this.addChild(new _GSEmptyView.default)
                    } else {
                        this.view = this.addChild(new _GSSpriteView.GSSpriteView)
                    }
                } else {
                    this.view = this.addChild(new _GSSpriteView.GSSpriteView)
                }
            },
            swap: function swap(symbol) {
                this.setId(symbol.id);
                this.createState(symbol.state);
                this.setBonusSymbolValue(symbol.currentBonusSymbolValue);
                if (this.id === _GameSymbol.default.BONUS_ID) this.view.setBonusSymbolViewValue(symbol.currentBonusSymbolValue)
            },
            openMysterySymbol: function openMysterySymbol() {
                return this.view.openMysterySymbol()
            },
            setDeBlurState: function setDeBlurState() {
                var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 300;
                if (this.state !== _GameSymbol.default.BLUR) return;
                this.state = _GameSymbol.default.STATIC;
                if (this.id === _GameSymbol.default.BONUS_ID || this.id === _GameSymbol.default.SUPER_ID) this.state = _GameSymbol.default.OVERSIZE;
                this.view.setDeBlurState(time)
            },
            setAnticipationEndState: function setAnticipationEndState() {
                this.view.setAnticipationEndState();
                this.state = _GameSymbol.default.STATIC
            },
            getTrackTime: function getTrackTime() {
                return this.view.getTrackTime()
            },
            setTrackTime: function setTrackTime() {
                var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
                this.view.setTrackTime(time)
            },
            setSuperBonusState: function setSuperBonusState() {
                this.view.setSuperBonusState()
            },
            setSuperWinSate: function setSuperWinSate() {
                this.view.setSuperWinSate()
            }
        });
        var _default = _GameSymbol.default;
        exports.default = _default
    }, {
        "./GSOversizeMysteryView": 124,
        "./GSScatterView": 125,
        "core/app": 33,
        "core/components/GameSymbol": 39,
        "core/components/symbolView/GSBonusView": 53,
        "core/components/symbolView/GSEmptyView": 54,
        "core/components/symbolView/GSOversizeBonusView": 55,
        "core/components/symbolView/GSSpineView": 58,
        "core/components/symbolView/GSSpriteView": 59
    }],
    131: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;
        var _app = require("core/app");
        var _helpers = require("core/helpers");
        var _BigWin = _interopRequireDefault(require("core/components/bigwin/BigWin"));
        var _BigWinEnums = require("core/components/bigwin/BigWinEnums");
        var _SkipController = _interopRequireDefault(require("../../../slotscore/core/controllers/SkipController"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var BigWin = function(_ParentBigWin) {
            _inherits(BigWin, _ParentBigWin);
            var _super = _createSuper(BigWin);

            function BigWin() {
                _classCallCheck(this, BigWin);
                return _super.apply(this, arguments)
            }
            _createClass(BigWin, [{
                key: "play",
                value: function play() {
                    var _this = this;
                    var roundWin = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
                    this.bigWinType = BigWin.getBigWinType(roundWin);
                    if (this.bigWinType === _BigWinEnums.BigWinType.NO_BIG_WIN) return Promise.resolve();
                    this.roundWinCount = roundWin;
                    this.withoutCounter = _app.app.config.get("Board.bigwinWithoutCounter");
                    var animationStartTime = this.withoutCounter ? this.params.stepCountTimes[1][0] / 1e3 : 0;
                    this.spine.scale.set(this._calculateScale(roundWin));
                    this.spine.state.setAnimation(0, this.params.animations[this.bigWinType], false);
                    this.spine.state.tracks[0].trackTime = animationStartTime;
                    this.spine.update(0);
                    this.spine.state.on(PIXI.spine.core.AnimationState.COMPLETE, this.onCompleteSpineAnimation, this);
                    this._addListeners();
                    _helpers.utils.wait(this.params.stepCountTimes[1][0]).then(function() {
                        !_this.hiden && _this.background.tween(true).to({
                            alpha: 1
                        }, 300)
                    });
                    this._onPlay();
                    return this.playDeferred.promise
                }
            }, {
                key: "_getCounterAnimationsList",
                value: function _getCounterAnimationsList() {
                    var _this2 = this;
                    var list = [];
                    var roundWin = _app.app.model.current("round_win", 0);
                    var roundBet = _app.app.model.get("game.round_bet");
                    var multipliers = _app.app.model.bigWinMultipliers();
                    var diff = this.params.differenceInDuration;
                    var type = BigWin.getBigWinType(roundWin);
                    var stepToStart = 0;
                    if (this.withoutCounter) {
                        var startCoinsText = (_app.app.model.bigWinMultipliers()[0] - diff) * roundBet;
                        this.coinsText.coins = startCoinsText;
                        stepToStart = 1
                    }
                    var _loop = function _loop(i) {
                        var count = _this2.roundWinCount > roundBet * (multipliers[i] - diff) && i !== _this2.bigWinType ? roundBet * (multipliers[i] - diff) : _this2.roundWinCount;
                        var step = i;
                        list.push(function() {
                            return new Promise(function(resolve) {
                                _this2.coinsText.time = 0;
                                _this2.coinsText.tween(true).setFPS(_this2.params.counterFPS).call(function() {
                                    return _this2._onBigWinStep(step)
                                }).to({
                                    coins: count,
                                    time: _this2.params.stepCountTimes[type][step]
                                }, _this2.params.stepCountTimes[type][step]).call(function() {
                                    if (i === _this2.bigWinType) {
                                        _this2._stopParticles();
                                        _app.app.emit(_app.GameEvent.BigWinCountStop)
                                    }
                                    resolve()
                                }).on("change", function() {
                                    GR.UI.model.set("last_win", _this2.coinsText.coins);
                                    GR.UI.model.set("total_win", _app.app.model.current("total_win", 0) - roundWin + _this2.coinsText.coins);
                                    GR.UI.model.set("balance", _app.app.model.get("user.balance") - roundWin + _this2.coinsText.coins);
                                    GR.UI.model.set("freebet.total_win", _app.app.model.get("freebet.total_win", 0) - roundWin + _this2.coinsText.coins)
                                })
                            })
                        })
                    };
                    for (var i = stepToStart; i <= this.bigWinType; i++) {
                        _loop(i)
                    }
                    return list
                }
            }, {
                key: "dispose",
                value: function dispose() {
                    this.skipContainer.off("pointerdown");
                    this.skipContainer && this.skipContainer.destroy();
                    this.children.length && this.removeChildren();
                    _SkipController.default.off(this.skip, this);
                    return this._onDispose()
                }
            }]);
            return BigWin
        }(_BigWin.default);
        exports.default = BigWin
    }, {
        "../../../slotscore/core/controllers/SkipController": 68,
        "core/app": 33,
        "core/components/bigwin/BigWin": 45,
        "core/components/bigwin/BigWinEnums": 46,
        "core/helpers": 90
    }],
    132: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.BigWinParams = void 0;
        var _BigWinParams = _interopRequireDefault(require("core/components/bigwin/BigWinParams"));
        var _CoinsParams = _interopRequireDefault(require("./CoinsParams"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var BigWinParams = function(_ParentParams) {
            _inherits(BigWinParams, _ParentParams);
            var _super = _createSuper(BigWinParams);

            function BigWinParams() {
                var _this;
                _classCallCheck(this, BigWinParams);
                _this = _super.call(this);
                _this.stepCountTimes = [
                    [],
                    [1150, 4700],
                    [1150, 5e3, 4300],
                    [1150, 5100, 4600, 4300]
                ];
                _this.particleClassParams = _CoinsParams.default;
                return _this
            }
            return _createClass(BigWinParams)
        }(_BigWinParams.default);
        exports.BigWinParams = BigWinParams
    }, {
        "./CoinsParams": 135,
        "core/components/bigwin/BigWinParams": 47
    }],
    133: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;
        var _GamePopups2 = _interopRequireDefault(require("core/components/popups/GamePopups"));
        var _GamePopupParams = _interopRequireDefault(require("core/components/popups/GamePopupParams"));
        var _Enums = require("core/core/Enums");
        var _helpers = require("core/helpers");

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
            try {
                var info = gen[key](arg);
                var value = info.value
            } catch (error) {
                reject(error);
                return
            }
            if (info.done) {
                resolve(value)
            } else {
                Promise.resolve(value).then(_next, _throw)
            }
        }

        function _asyncToGenerator(fn) {
            return function() {
                var self = this,
                    args = arguments;
                return new Promise(function(resolve, reject) {
                    var gen = fn.apply(self, args);

                    function _next(value) {
                        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value)
                    }

                    function _throw(err) {
                        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err)
                    }
                    _next(undefined)
                })
            }
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var BonusPopup = function(_GamePopups) {
            _inherits(BonusPopup, _GamePopups);
            var _super = _createSuper(BonusPopup);

            function BonusPopup() {
                var _this;
                _classCallCheck(this, BonusPopup);
                _this = _super.call(this);
                _this.spineAnimation = _GamePopupParams.default.BONUS_START;
                _this.params.showTime = 1;
                _this.params.hideTime = 500;
                _this.params.alphaValue = .8;
                return _this
            }
            _createClass(BonusPopup, [{
                key: "show",
                value: function() {
                    var _show = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {
                        var name, win, _args = arguments;
                        return regeneratorRuntime.wrap(function _callee$(_context) {
                            while (1) {
                                switch (_context.prev = _context.next) {
                                    case 0:
                                        name = _args.length > 0 && _args[0] !== undefined ? _args[0] : "";
                                        win = _args.length > 1 && _args[1] !== undefined ? _args[1] : 0;
                                        this.spineAnimation = app.model.isSuperBonus() ? "StartSuperBonus" : _GamePopupParams.default.BONUS_START;
                                        this.interactiveChildren = true;
                                        this.interactive = true;
                                        _context.next = 7;
                                        return _GamePopups2.default.checkPopupsAssetsReady();
                                    case 7:
                                        this._initView();
                                        this.alpha = 1;
                                        this.background.alpha = 0;
                                        this.playDeferred = _helpers.utils.deferred();
                                        this.spine.alpha = 1;
                                        createjs.Tween.removeTweens(this);
                                        createjs.Tween.removeTweens(this.background);
                                        this.tween(true).wait(50).to({
                                            alpha: 1
                                        }, 50);
                                        this.background.tween(true).to({
                                            alpha: this.params.alphaValue
                                        }, this.params.showTime);
                                        this.spine.state.setAnimation(0, this.spineAnimation, false);
                                        this.spine.update(0);
                                        this.spine.autoUpdate = true;
                                        this.spine.state.once(PIXI.spine.core.AnimationState.COMPLETE, this.onCompleteSpineAnimation, this);
                                        app.emit(_Enums.GameEvent.BasePopupPlay);
                                        GR.UI.model.set("controls.available", false);
                                        this._addListeners();
                                        return _context.abrupt("return", this.playDeferred.promise);
                                    case 24:
                                    case "end":
                                        return _context.stop()
                                }
                            }
                        }, _callee, this)
                    }));

                    function show() {
                        return _show.apply(this, arguments)
                    }
                    return show
                }()
            }, {
                key: "stop",
                value: function stop() {
                    var _this2 = this;
                    app.emit(_Enums.GameEvent.BasePopupStop);
                    app.emit(_Enums.GameEvent.LabelPopupShow);
                    this.spine.state.off(PIXI.spine.core.AnimationState.COMPLETE, this.onCompleteSpineAnimation, this);
                    var time = this.skipped ? 500 : 1;
                    this.spine.autoUpdate = false;
                    this.spine.state.tracks[0].trackTime = PIXI.spine.Spine.getSpineDuration(this.spine, this.spineAnimation);
                    this.spine.update(0);
                    this._removeListeners();
                    _helpers.utils.wait(time).then(function() {
                        return _this2.playDeferred.resolve()
                    })
                }
            }]);
            return BonusPopup
        }(_GamePopups2.default);
        exports.default = BonusPopup
    }, {
        "core/components/popups/GamePopupParams": 50,
        "core/components/popups/GamePopups": 51,
        "core/core/Enums": 73,
        "core/helpers": 90
    }],
    134: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;
        var _app = _interopRequireDefault(require("core/app"));
        var _helpers = require("core/helpers");
        var _Enums = _interopRequireDefault(require("core/core/Enums"));
        var _BitmapCoinsText = require("core/components/BitmapCoinsText");
        var _CoinsFountain = _interopRequireDefault(require("core/components/bigwin/particle/coinsFountain/CoinsFountain"));
        var _GamePopups2 = _interopRequireDefault(require("core/components/popups/GamePopups"));
        var _GamePopupParams = _interopRequireDefault(require("core/components/popups/GamePopupParams"));
        var _SkipController = _interopRequireDefault(require("core/controllers/SkipController"));
        var _CoinsParams = _interopRequireDefault(require("./CoinsParams"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
            try {
                var info = gen[key](arg);
                var value = info.value
            } catch (error) {
                reject(error);
                return
            }
            if (info.done) {
                resolve(value)
            } else {
                Promise.resolve(value).then(_next, _throw)
            }
        }

        function _asyncToGenerator(fn) {
            return function() {
                var self = this,
                    args = arguments;
                return new Promise(function(resolve, reject) {
                    var gen = fn.apply(self, args);

                    function _next(value) {
                        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value)
                    }

                    function _throw(err) {
                        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err)
                    }
                    _next(undefined)
                })
            }
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _get() {
            if (typeof Reflect !== "undefined" && Reflect.get) {
                _get = Reflect.get
            } else {
                _get = function _get(target, property, receiver) {
                    var base = _superPropBase(target, property);
                    if (!base) return;
                    var desc = Object.getOwnPropertyDescriptor(base, property);
                    if (desc.get) {
                        return desc.get.call(arguments.length < 3 ? target : receiver)
                    }
                    return desc.value
                }
            }
            return _get.apply(this, arguments)
        }

        function _superPropBase(object, property) {
            while (!Object.prototype.hasOwnProperty.call(object, property)) {
                object = _getPrototypeOf(object);
                if (object === null) break
            }
            return object
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var BonusWin = function(_GamePopups) {
            _inherits(BonusWin, _GamePopups);
            var _super = _createSuper(BonusWin);

            function BonusWin() {
                var _this;
                _classCallCheck(this, BonusWin);
                _this = _super.call(this);
                _this.spineAnimation = _GamePopupParams.default.BONUS_WIN;
                _this.coins = 0;
                _this.coinsText = new _BitmapCoinsText.BitmapCoinsText(0, {
                    font: "120px bitmapfont"
                });
                _this.emmited = false;
                _this.isSmallWin = false;
                _this.isSkip = false;
                return _this
            }
            _createClass(BonusWin, [{
                key: "show",
                value: function() {
                    var _show = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {
                        var name, win, _args = arguments;
                        return regeneratorRuntime.wrap(function _callee$(_context) {
                            while (1) {
                                switch (_context.prev = _context.next) {
                                    case 0:
                                        name = _args.length > 0 && _args[0] !== undefined ? _args[0] : "";
                                        win = _args.length > 1 && _args[1] !== undefined ? _args[1] : 0;
                                        this.spineAnimation = name.length > 0 ? name : _GamePopupParams.default.BONUS_WIN;
                                        _context.next = 5;
                                        return _GamePopups2.default.checkPopupsAssetsReady();
                                    case 5:
                                        this._initView();
                                        this._setDefaultValues(win);
                                        this.tween(true).wait(50).to({
                                            alpha: 1
                                        }, 50);
                                        this.background.tween(true).to({
                                            alpha: .8
                                        }, this.params.showTime);
                                        _app.default.board.labelWinContainer.hideFromView();
                                        this._showAnimation(win);
                                        this._playCoins(win);
                                        GR.UI.model.set("controls.available", false);
                                        this._addListeners();
                                        return _context.abrupt("return", this.playDeferred.promise);
                                    case 15:
                                    case "end":
                                        return _context.stop()
                                }
                            }
                        }, _callee, this)
                    }));

                    function show() {
                        return _show.apply(this, arguments)
                    }
                    return show
                }()
            }, {
                key: "stop",
                value: function stop() {
                    if (this.isStoped) return;
                    this.isStoped = true;
                    _get(_getPrototypeOf(BonusWin.prototype), "stop", this).call(this)
                }
            }, {
                key: "skip",
                value: function skip() {
                    if (_app.default.controllers.flow.isStream() || this.isSkip) return;
                    this.coinsAnimation && this.coinsAnimation.stop();
                    createjs.Tween.removeTweens(this.coinsText);
                    this.coinsText.coins = this.coins;
                    this.isSmallWin ? _app.default.emit(_Enums.default.BonusWinSkipShort) : _app.default.emit(_Enums.default.BonusWinSkip);
                    this.isSkip = true;
                    return _get(_getPrototypeOf(BonusWin.prototype), "skip", this).call(this)
                }
            }, {
                key: "hide",
                value: function hide() {
                    var _this2 = this;
                    if (!this) return Promise.resolve();
                    if (!this.background) return Promise.resolve();
                    createjs.Tween.removeTweens(this.coinsText);
                    createjs.Tween.removeTweens(this.background);
                    createjs.Tween.removeTweens(this);
                    GR.UI.model.set("controls.available", true);
                    return this.tween(true).to({
                        alpha: 0
                    }, this.params.hideTime).call(function() {
                        _this2.background.removeFromParent();
                        if (_this2.spine && !_this2.spine._destroyed) {
                            _this2.spine.removeFromParent();
                            _this2.spine.destroy();
                            _this2.spine = null
                        }
                        if (_this2.coinsAnimation) {
                            _this2.coinsAnimation.removeFromParent();
                            _this2.coinsAnimation.destroy();
                            _this2.coinsAnimation = null
                        }
                        if (_this2.coinsText) {
                            _this2.coinsText.removeFromParent();
                            _this2.coinsText.destroy();
                            _this2.coinsText = null
                        }
                        _this2.interactiveChildren = false;
                        _this2.interactive = false;
                        _this2.skipped = false
                    }).promise()
                }
            }, {
                key: "_initView",
                value: function _initView() {
                    _get(_getPrototypeOf(BonusWin.prototype), "_initView", this).call(this);
                    var index = this.getChildIndex(this.spine);
                    this.coinsAnimation = this.addChildAt(new _CoinsFountain.default(new _CoinsParams.default), index);
                    this.coinsAnimation.pivot.x = .5;
                    this.coinsAnimation.pivot.y = .5;
                    var animation = this.spine.spineData.findAnimation(this.spineAnimation);
                    animation.apply(this.spine.skeleton, 1e3);
                    this.coinsText = new _BitmapCoinsText.BitmapCoinsText(0, {
                        font: "120px bitmapfont"
                    });
                    this.coinsText.anchor.set(.5, .5);
                    var scale = new PIXI.Point(2, -2);
                    PIXI.spine.Spine.replaceSpineSprite(this.spine, this.params.spineCounterName, this.coinsText, this.spineAnimation, scale)
                }
            }, {
                key: "_showAnimation",
                value: function _showAnimation(win) {
                    var _this3 = this;
                    var isSmallWin = win <= _app.default.model.roundBet() * _app.default.config.get("Board.totalWinCounterMinTB");
                    var animationDuration = PIXI.spine.Spine.getSpineDuration(this.spine, this.spineAnimation);
                    this.spine.state.setAnimation(0, this.spineAnimation, false);
                    if (isSmallWin) {
                        _app.default.emit(_Enums.default.BonusWinPlayShort);
                        this.coinsText.coins = win;
                        this.spine.state.tracks[0].trackTime = PIXI.spine.Spine.getSpineDuration(this.spine, this.spineAnimation);
                        this.spine.update(0);
                        _helpers.utils.wait(1500).then(function() {
                            _this3.stop()
                        })
                    } else {
                        this.spine.autoUpdate = true;
                        this.spine.update(0);
                        this.spine.state.once(PIXI.spine.core.AnimationState.COMPLETE, this.onCompleteSpineAnimation, this);
                        _app.default.emit(_Enums.default.BonusWinPlay);
                        this.coinsText.tween(true).setFPS(25).to({
                            coins: win
                        }, animationDuration * .6).call(function() {
                            _app.default.emit(_Enums.default.BonusWinCoinsStop);
                            _this3.coinsAnimation.stop()
                        });
                        createjs.Tween.get({}).setFPS(25).wait(animationDuration * .95).call(function() {
                            if (!_this3.isSkip) {
                                _app.default.emit(_Enums.default.BonusWinStop)
                            }
                            _app.default.emit(_Enums.default.AutoTestPopupShow);
                            _this3.emmited = true
                        })
                    }
                }
            }, {
                key: "_setDefaultValues",
                value: function _setDefaultValues() {
                    var win = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
                    this.coins = win;
                    this.alpha = 0;
                    this.isStoped = false;
                    this.background.alpha = 0;
                    this.coinsText.coins = 0;
                    this.playDeferred = _helpers.utils.deferred();
                    this.spine.alpha = 1;
                    this.spine.scale.set(this._calculateSpineScale(win));
                    this.interactiveChildren = true;
                    this.interactive = true;
                    this.isSkip = false;
                    createjs.Tween.removeTweens(this);
                    createjs.Tween.removeTweens(this.background);
                    createjs.Tween.removeTweens(this.coinsText)
                }
            }, {
                key: "_calculateSpineScale",
                value: function _calculateSpineScale(win) {
                    var scale = 1;
                    if (!_app.default.config.get("Board.scaleCounter")) return scale;
                    var boardWidth = _app.default.config.get("Screen.available") ? _app.default.config.get("Screen.boardWidth") : _app.default.board.reels.width;
                    if (!this.scaleChecker) {
                        this.scaleChecker = new _BitmapCoinsText.BitmapCoinsText(0, {
                            font: "120px bitmapfont"
                        });
                        this.scaleChecker.scale.set(1.2)
                    }
                    this.scaleChecker.coins = win;
                    if (this.scaleChecker.width > boardWidth) scale = boardWidth / this.scaleChecker.width;
                    return scale
                }
            }, {
                key: "_playCoins",
                value: function _playCoins(win) {
                    if (_GamePopups2.default.getWinType(win) > 0) {
                        this.coinsAnimation.play();
                        _app.default.emit(_Enums.default.BonusWinPlayCoins)
                    }
                }
            }, {
                key: "_removeListeners",
                value: function _removeListeners() {
                    if (_SkipController.default) _SkipController.default.off(this.skip, this);
                    GR.Events.flow.round_start.off(this.skip, this);
                    this.skipContainer.off("pointerdown");
                    this.skipContainer.removeFromParent();
                    this.skipContainer = null
                }
            }]);
            return BonusWin
        }(_GamePopups2.default);
        exports.default = BonusWin
    }, {
        "./CoinsParams": 135,
        "core/app": 33,
        "core/components/BitmapCoinsText": 36,
        "core/components/bigwin/particle/coinsFountain/CoinsFountain": 48,
        "core/components/popups/GamePopupParams": 50,
        "core/components/popups/GamePopups": 51,
        "core/controllers/SkipController": 68,
        "core/core/Enums": 73,
        "core/helpers": 90
    }],
    135: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;
        var _CoinsFountainParams2 = _interopRequireDefault(require("core/components/bigwin/particle/coinsFountain/CoinsFountainParams"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var CoinsParams = function(_CoinsFountainParams) {
            _inherits(CoinsParams, _CoinsFountainParams);
            var _super = _createSuper(CoinsParams);

            function CoinsParams() {
                var _this;
                _classCallCheck(this, CoinsParams);
                _this = _super.call(this);
                _this.imagesNamePattern = /^coins\/coin_\d+/;
                _this.emitterScaleStart = .4;
                _this.emitterScaleEnd = 1.4;
                return _this
            }
            return _createClass(CoinsParams)
        }(_CoinsFountainParams2.default);
        exports.default = CoinsParams
    }, {
        "core/components/bigwin/particle/coinsFountain/CoinsFountainParams": 49
    }],
    136: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;
        var _app = _interopRequireDefault(require("core/app"));
        var _Enums = _interopRequireDefault(require("core/core/Enums"));
        var _helpers = require("core/helpers");
        var _GamePopups2 = _interopRequireDefault(require("core/components/popups/GamePopups"));
        var _GamePopupParams = _interopRequireDefault(require("core/components/popups/GamePopupParams"));
        var _Styles = require("../../styles/Styles");

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
            try {
                var info = gen[key](arg);
                var value = info.value
            } catch (error) {
                reject(error);
                return
            }
            if (info.done) {
                resolve(value)
            } else {
                Promise.resolve(value).then(_next, _throw)
            }
        }

        function _asyncToGenerator(fn) {
            return function() {
                var self = this,
                    args = arguments;
                return new Promise(function(resolve, reject) {
                    var gen = fn.apply(self, args);

                    function _next(value) {
                        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value)
                    }

                    function _throw(err) {
                        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err)
                    }
                    _next(undefined)
                })
            }
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _get() {
            if (typeof Reflect !== "undefined" && Reflect.get) {
                _get = Reflect.get
            } else {
                _get = function _get(target, property, receiver) {
                    var base = _superPropBase(target, property);
                    if (!base) return;
                    var desc = Object.getOwnPropertyDescriptor(base, property);
                    if (desc.get) {
                        return desc.get.call(arguments.length < 3 ? target : receiver)
                    }
                    return desc.value
                }
            }
            return _get.apply(this, arguments)
        }

        function _superPropBase(object, property) {
            while (!Object.prototype.hasOwnProperty.call(object, property)) {
                object = _getPrototypeOf(object);
                if (object === null) break
            }
            return object
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var FreespinsPopup = function(_GamePopups) {
            _inherits(FreespinsPopup, _GamePopups);
            var _super = _createSuper(FreespinsPopup);

            function FreespinsPopup() {
                var _this;
                _classCallCheck(this, FreespinsPopup);
                _this = _super.call(this);
                _this.spineAnimation = _GamePopupParams.default.FREESPINS;
                return _this
            }
            _createClass(FreespinsPopup, [{
                key: "_initView",
                value: function _initView() {
                    _get(_getPrototypeOf(FreespinsPopup.prototype), "_initView", this).call(this);
                    var animation = this.spine.spineData.findAnimation(this.spineAnimation);
                    animation.apply(this.spine.skeleton, 1e3);
                    this.onlyText = new PIXI.Text(_helpers.i18n.get("POPUP_FS_ONLY"), _Styles.JACKPOT_STYLE);
                    this.onlyText.anchor.set(.5);
                    PIXI.spine.Spine.replaceSpineSprite(this.spine, this.params.spineFirstTextName, this.onlyText, this.spineAnimation)
                }
            }, {
                key: "show",
                value: function() {
                    var _show = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {
                        var name, win, _args = arguments;
                        return regeneratorRuntime.wrap(function _callee$(_context) {
                            while (1) {
                                switch (_context.prev = _context.next) {
                                    case 0:
                                        name = _args.length > 0 && _args[0] !== undefined ? _args[0] : "";
                                        win = _args.length > 1 && _args[1] !== undefined ? _args[1] : 0;
                                        this.spineAnimation = name.length > 0 ? name : this.spineAnimation;
                                        this.interactiveChildren = true;
                                        this.interactive = true;
                                        _context.next = 7;
                                        return _GamePopups2.default.checkPopupsAssetsReady();
                                    case 7:
                                        this._initView();
                                        this.alpha = 1;
                                        this.background.alpha = 0;
                                        this.playDeferred = _helpers.utils.deferred();
                                        this.spine.alpha = 1;
                                        createjs.Tween.removeTweens(this);
                                        createjs.Tween.removeTweens(this.background);
                                        this.tween(true).wait(50).to({
                                            alpha: 1
                                        }, 50);
                                        this.background.tween(true).to({
                                            alpha: .8
                                        }, this.params.showTime);
                                        this.spine.state.setAnimation(0, this.spineAnimation, false);
                                        this.spine.update(0);
                                        this.spine.autoUpdate = true;
                                        this.spine.state.once(PIXI.spine.core.AnimationState.COMPLETE, this.onCompleteSpineAnimation, this);
                                        _app.default.emit(_Enums.default.FreespinsPopupPlay);
                                        GR.UI.model.set("controls.available", false);
                                        if (name === _GamePopupParams.default.ADDITIONAL_FREESPINS) {
                                            GR.UI.model.set("freespins.count", _app.default.model.current("rounds_left", 0))
                                        }
                                        this._addListeners();
                                        return _context.abrupt("return", this.playDeferred.promise);
                                    case 25:
                                    case "end":
                                        return _context.stop()
                                }
                            }
                        }, _callee, this)
                    }));

                    function show() {
                        return _show.apply(this, arguments)
                    }
                    return show
                }()
            }]);
            return FreespinsPopup
        }(_GamePopups2.default);
        exports.default = FreespinsPopup
    }, {
        "../../styles/Styles": 145,
        "core/app": 33,
        "core/components/popups/GamePopupParams": 50,
        "core/components/popups/GamePopups": 51,
        "core/core/Enums": 73,
        "core/helpers": 90
    }],
    137: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;
        var _app = _interopRequireDefault(require("core/app"));
        var _Enums = _interopRequireDefault(require("core/core/Enums"));
        var _helpers = require("core/helpers");
        var _GamePopups2 = _interopRequireDefault(require("core/components/popups/GamePopups"));
        var _GamePopupParams = _interopRequireDefault(require("core/components/popups/GamePopupParams"));
        var _BitmapCoinsText = require("core/components/BitmapCoinsText");
        var _SkipController = _interopRequireDefault(require("core/controllers/SkipController"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
            try {
                var info = gen[key](arg);
                var value = info.value
            } catch (error) {
                reject(error);
                return
            }
            if (info.done) {
                resolve(value)
            } else {
                Promise.resolve(value).then(_next, _throw)
            }
        }

        function _asyncToGenerator(fn) {
            return function() {
                var self = this,
                    args = arguments;
                return new Promise(function(resolve, reject) {
                    var gen = fn.apply(self, args);

                    function _next(value) {
                        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value)
                    }

                    function _throw(err) {
                        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err)
                    }
                    _next(undefined)
                })
            }
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _get() {
            if (typeof Reflect !== "undefined" && Reflect.get) {
                _get = Reflect.get
            } else {
                _get = function _get(target, property, receiver) {
                    var base = _superPropBase(target, property);
                    if (!base) return;
                    var desc = Object.getOwnPropertyDescriptor(base, property);
                    if (desc.get) {
                        return desc.get.call(arguments.length < 3 ? target : receiver)
                    }
                    return desc.value
                }
            }
            return _get.apply(this, arguments)
        }

        function _superPropBase(object, property) {
            while (!Object.prototype.hasOwnProperty.call(object, property)) {
                object = _getPrototypeOf(object);
                if (object === null) break
            }
            return object
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        _GamePopupParams.default.JACKPOT_WIN = "Grand";
        var JackpotWin = function(_GamePopups) {
            _inherits(JackpotWin, _GamePopups);
            var _super = _createSuper(JackpotWin);

            function JackpotWin() {
                var _this;
                _classCallCheck(this, JackpotWin);
                _this = _super.call(this);
                _this.spineAnimation = _GamePopupParams.default.JACKPOT_WIN;
                _this.coinsText = new _BitmapCoinsText.BitmapCoinsText(0, {
                    font: "120px bitmapfont"
                });
                _this.params.alphaValue = .8;
                return _this
            }
            _createClass(JackpotWin, [{
                key: "_initView",
                value: function _initView() {
                    _get(_getPrototypeOf(JackpotWin.prototype), "_initView", this).call(this);
                    var animation = this.spine.spineData.findAnimation(this.spineAnimation);
                    animation.apply(this.spine.skeleton, 1e3);
                    PIXI.spine.Spine.replaceSpineSprite(this.spine, this.params.spineCounterName, this.coinsText, this.spineAnimation, new PIXI.Point(2, -2))
                }
            }, {
                key: "_removeListeners",
                value: function _removeListeners() {
                    _SkipController.default.off(this.skip, this);
                    GR.Events.flow.round_start.off(this.skip, this);
                    this.skipContainer.off("pointerdown")
                }
            }, {
                key: "show",
                value: function() {
                    var _show = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {
                        var name, win, _args = arguments;
                        return regeneratorRuntime.wrap(function _callee$(_context) {
                            while (1) {
                                switch (_context.prev = _context.next) {
                                    case 0:
                                        name = _args.length > 0 && _args[0] !== undefined ? _args[0] : "";
                                        win = _args.length > 1 && _args[1] !== undefined ? _args[1] : 0;
                                        this.spineAnimation = name.length > 0 ? name : this.spineAnimation;
                                        this.interactiveChildren = true;
                                        this.interactive = true;
                                        this.coinsText.text = _helpers.i18n.coins(win).toString();
                                        this.coinsText.anchor.set(.5);
                                        _context.next = 9;
                                        return _GamePopups2.default.checkPopupsAssetsReady();
                                    case 9:
                                        this._initView();
                                        this.alpha = 1;
                                        this.background.alpha = 0;
                                        this.playDeferred = _helpers.utils.deferred();
                                        this.spine.alpha = 1;
                                        this.spine.scale.set(this._calculateSpineScale(win));
                                        createjs.Tween.removeTweens(this);
                                        createjs.Tween.removeTweens(this.background);
                                        this.tween(true).wait(50).to({
                                            alpha: 1
                                        }, 50);
                                        this.background.tween(true).to({
                                            alpha: this.params.alphaValue
                                        }, this.params.showTime);
                                        this.spine.state.setAnimation(0, this.spineAnimation, false);
                                        this.spine.update(0);
                                        this.spine.autoUpdate = true;
                                        this.spine.state.once(PIXI.spine.core.AnimationState.COMPLETE, this.onCompleteSpineAnimation, this);
                                        _app.default.emit(_Enums.default.BasePopupPlay);
                                        _app.default.emit(_Enums.default.BonusAmbientFade);
                                        GR.UI.model.set("controls.available", false);
                                        this._addListeners();
                                        return _context.abrupt("return", this.playDeferred.promise);
                                    case 28:
                                    case "end":
                                        return _context.stop()
                                }
                            }
                        }, _callee, this)
                    }));

                    function show() {
                        return _show.apply(this, arguments)
                    }
                    return show
                }()
            }, {
                key: "_calculateSpineScale",
                value: function _calculateSpineScale(win) {
                    var scale = 1;
                    if (!_app.default.config.get("Board.scaleCounter")) return scale;
                    var boardWidth = _app.default.config.get("Screen.available") ? _app.default.config.get("Screen.boardWidth") : _app.default.board.reels.width;
                    if (!this.scaleChecker) {
                        this.scaleChecker = new _BitmapCoinsText.BitmapCoinsText(0, {
                            font: "120px bitmapfont"
                        });
                        this.scaleChecker.scale.set(1.2)
                    }
                    this.scaleChecker.coins = win;
                    if (this.scaleChecker.width > boardWidth) scale = boardWidth / this.scaleChecker.width;
                    return scale
                }
            }, {
                key: "skip",
                value: function skip() {
                    _app.default.emit(_Enums.default.JackpotWinSkip);
                    return _get(_getPrototypeOf(JackpotWin.prototype), "skip", this).call(this)
                }
            }, {
                key: "hide",
                value: function hide() {
                    var _this2 = this;
                    if (!this) return Promise.resolve();
                    if (!this.background) return Promise.resolve();
                    createjs.Tween.removeTweens(this);
                    createjs.Tween.removeTweens(this.background);
                    _app.default.emit(_Enums.default.JackpotGrandHide);
                    GR.UI.model.set("controls.available", true);
                    return this.tween(true).to({
                        alpha: 0
                    }, this.params.hideTime).call(function() {
                        _this2.background.removeFromParent();
                        if (_this2.spine && !_this2.spine._destroyed) {
                            _this2.spine.removeFromParent();
                            _this2.spine.destroy();
                            _this2.spine = null
                        }
                        _this2.interactiveChildren = false;
                        _this2.interactive = false;
                        _this2.skipped = false
                    }).promise()
                }
            }]);
            return JackpotWin
        }(_GamePopups2.default);
        exports.default = JackpotWin
    }, {
        "core/app": 33,
        "core/components/BitmapCoinsText": 36,
        "core/components/popups/GamePopupParams": 50,
        "core/components/popups/GamePopups": 51,
        "core/controllers/SkipController": 68,
        "core/core/Enums": 73,
        "core/helpers": 90
    }],
    138: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;
        var _TotalWin = _interopRequireDefault(require("core/components/popups/TotalWin"));
        var _Enums = _interopRequireDefault(require("core/core/Enums"));
        var _GamePopups = _interopRequireDefault(require("core/components/popups/GamePopups"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var TotalWin = function(_ParentTotalWin) {
            _inherits(TotalWin, _ParentTotalWin);
            var _super = _createSuper(TotalWin);

            function TotalWin() {
                _classCallCheck(this, TotalWin);
                return _super.apply(this, arguments)
            }
            _createClass(TotalWin, [{
                key: "_playCoins",
                value: function _playCoins(win) {
                    if (_GamePopups.default.getWinType(win) > 0) {
                        this.coinsAnimation.play();
                        app.emit(_Enums.default.BonusWinPlayCoins)
                    }
                }
            }]);
            return TotalWin
        }(_TotalWin.default);
        exports.default = TotalWin
    }, {
        "core/components/popups/GamePopups": 51,
        "core/components/popups/TotalWin": 52,
        "core/core/Enums": 73
    }],
    139: [function(require, module, exports) {
        module.exports = {
            Board: {
                idleAnimationTime: 1500,
                idleAnimationInterval: 200,
                idleAnimationDelay: 300,
                winAnimationMinTime: 600,
                resultStateDelay: 300,
                resultStateDelayQuickSpin: 400,
                roundWinScattersDelay: 200,
                playSymbolsBeforeBigWin: true,
                replayWinLines: false,
                replayWinLinesOnStart: false,
                winCounterMinTB: 5,
                freespinsInitDelay: 300,
                skipTriggerAnimation: true,
                bigwinWithoutCounter: false,
                totalWinCounterMinTB: 20,
                showWinLines: false,
                scaleCounter: true,
                coinsY: 600
            },
            GameSymbol: {
                width: 182,
                height: 174
            },
            Reel: {
                startTime: 282,
                cycleTime: 60,
                leaveTime: 282,
                leaveTimeAnticipation: 250,
                quickStartTime: 200,
                quickCycleTime: 50,
                quickLeaveTime: 200,
                skipCycleTime: 25,
                skipLeaveTime: 160,
                turboSkip: true,
                turboStop: true,
                backInAmount: 1.7,
                backOutAmount: 3.5,
                backOutAmountAnticipation: 1.7,
                maskType: "rect",
                maskStep: 20,
                maskVerticalPadding: 0,
                sortZIndex: true,
                higherBoard: true,
                enableTopSymbolWhenStop: true,
                enableBottomSymbolWhenStop: true,
                enableMaskWhenStop: true,
                anticipationTimingMultiplier: [],
                needAdditionalScatter: false,
                additionalScatterProbability: .5,
                customizeAnticipationSymbols: false,
                symbolsHigherBoard: [12, 11, 10, 9],
                useQuickAnticipation: false,
                backOutAmountQiuckAnticipation: 1.3,
                quickAnticipationTimingMultiplier: [],
                backOutAmountQuickAnticipation: 1.3
            },
            Reels: {
                gapH: 0,
                gapV: 0,
                spinStartDelay: 0,
                startTime: 0,
                startTimeQuick: 0,
                leaveTime: 300,
                leaveTimeAnticipation: 1500,
                leaveTimeQuick: 80,
                leaveTimeQuickAnticipation: 600,
                leaveTimeSkip: 0,
                turboStopOversizeTime: 180
            },
            App: {
                rows: 3,
                cols: 5,
                width: 1280,
                height: 720,
                safeWidth: 1280,
                scaleStage: true,
                resizeCanvas: true,
                roundPixels: false,
                transparent: false,
                antialias: true,
                clearBeforeRender: true,
                usePortraitMode: false,
                portraitScale: 1.1,
                portraitDeltaX: 0,
                showStartScreen: true
            },
            Screen: {
                available: true,
                boardWidth: 920,
                backWidth: 1560,
                backHeight: 2144,
                pivotY: 522,
                rectDisplayCoef: .72
            },
            UI: {
                width: 1280,
                height: 720
            },
            Markers: {
                order: [],
                left: 230,
                right: 1040
            },
            assetsResolutions: {
                desktop: {
                    prefix: "720",
                    scale: 1
                },
                mobile: {
                    prefix: "720",
                    scale: 1
                }
            },
            Sounds: {
                useOggSounds: true,
                bonusGame: true,
                fadeVolume: .06
            },
            Licenses: {
                glossaryRequiredLanguages: ["sv", "es"]
            },
            CommonRules: {
                available: true,
                textId: "PAYTABLE_COMMON_RULES"
            },
            AdvancedReels: {
                useAdvancedReels: true,
                useAdjacencyMatrix: true,
                adjacencyMatrix: {
                    1: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                    2: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                    3: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                    4: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                    5: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                    6: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                    7: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                    8: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                    9: [0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 3, 0],
                    10: [0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 0],
                    11: [0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 0, 0, 0],
                    12: [0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 0, 3, 0],
                    13: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                },
                useCustomSymbolProbability: false,
                symbolProbability: {
                    1: .1,
                    2: .1,
                    3: .1,
                    4: .1,
                    5: .1,
                    6: .1,
                    7: .1,
                    8: .1,
                    9: .1,
                    10: .1
                },
                useCustomZIndex: true,
                symbolZIndex: {
                    1: .1,
                    2: .1,
                    3: .1,
                    4: .1,
                    5: .1,
                    6: .1,
                    7: .1,
                    8: .1,
                    9: .7,
                    10: .6,
                    11: .8,
                    12: .9
                },
                useStackSymbols: true,
                stackSymbols: [{
                    id: 1,
                    stack: [1, 2, 3]
                }, {
                    id: 2,
                    stack: [1, 2, 3]
                }, {
                    id: 3,
                    stack: [1, 2, 3]
                }, {
                    id: 4,
                    stack: [1, 2, 3]
                }, {
                    id: 5,
                    stack: [1, 2, 3]
                }, {
                    id: 6,
                    stack: [1, 2, 3]
                }, {
                    id: 7,
                    stack: [1, 2, 3]
                }, {
                    id: 8,
                    stack: [1, 2, 3]
                }, {
                    id: 9,
                    stack: [3, 4, 5]
                }, {
                    id: 11,
                    stack: [3]
                }],
                useExtendedSymbols: false,
                extendedSymbols: [{
                    id: 3,
                    size: 3
                }],
                useOversizeSymbols: true,
                oversizeSymbols: [11, 12, 13],
                useAdvancedAnticipationMultipliers: true,
                anticipationMultipliers: {
                    2: {
                        additionalTimes: [1, 1, 1, 1, .857, .75, .667, .591, .477],
                        backOutAmount: .8
                    },
                    3: {
                        additionalTimes: [1, 1, 1, 1, .857, .75, .667, .591, .477],
                        backOutAmount: .8
                    },
                    4: {
                        additionalTimes: [1, 1, 1, 1, .857, .75, .667, .591, .477, .4, .35],
                        backOutAmount: .6
                    },
                    5: {
                        additionalTimes: [1, 1, 1, 1, .857, .75, .667, .591, .477, .4, .35],
                        backOutAmount: .6
                    }
                },
                "quikAnticipationMultipliers": {
                    2: {
                        additionalTimes: [1, 1, 1, 1, 1, 1, 1, 1, .857, .75, .667, .591, .477],
                        backOutAmount: .8
                    },
                    3: {
                        additionalTimes: [1, 1, 1, 1, 1, 1, 1, 1, .857, .75, .667, .591, .477],
                        backOutAmount: .8
                    },
                    4: {
                        additionalTimes: [1, 1, 1, 1, 1, 1, 1, 1, .857, .75, .667, .591, .477, .4, .35],
                        backOutAmount: .6
                    },
                    5: {
                        additionalTimes: [1, 1, 1, 1, 1, 1, 1, 1, .857, .75, .667, .591, .477, .4, .35],
                        backOutAmount: .6
                    }
                }
            },
            BonusReels: {
                symbolsProbabilityConfig: {
                    0: 1,
                    11: .3,
                    12: .02,
                    13: .01
                }
            },
            BonusGame: {
                totalBonusSymbolLoop: 11,
                totalAnticipationCount: 5,
                anticipationContainers: 3,
                lastSymbolsWithAnticipation: 3
            }
        }
    }, {}],
    140: [function(require, module, exports) {
        "use strict";

        function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
            }, _typeof(obj)
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.default = void 0;
        var _app = _interopRequireDefault(require("core/app"));
        var _Sound = _interopRequireDefault(require("core/core/Sound"));
        var _Enums = require("core/core/Enums");
        var _Reels = _interopRequireDefault(require("core/components/Reels"));
        var _Reel = _interopRequireDefault(require("core/components/Reel"));
        var _GameSymbol = _interopRequireDefault(require("core/components/GameSymbol"));
        var _utils = _interopRequireDefault(require("core/helpers/utils"));
        var _SoundController = _interopRequireDefault(require("core/controllers/SoundController"));
        var _BonusState = require("../components/bonus/BonusState");
        var _soundsconfig = require("../soundsconfig.json");

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }

        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }

        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }

        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", {
                writable: false
            });
            return Constructor
        }

        function _get() {
            if (typeof Reflect !== "undefined" && Reflect.get) {
                _get = Reflect.get
            } else {
                _get = function _get(target, property, receiver) {
                    var base = _superPropBase(target, property);
                    if (!base) return;
                    var desc = Object.getOwnPropertyDescriptor(base, property);
                    if (desc.get) {
                        return desc.get.call(arguments.length < 3 ? target : receiver)
                    }
                    return desc.value
                }
            }
            return _get.apply(this, arguments)
        }

        function _superPropBase(object, property) {
            while (!Object.prototype.hasOwnProperty.call(object, property)) {
                object = _getPrototypeOf(object);
                if (object === null) break
            }
            return object
        }

        function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function")
            }
            Object.defineProperty(subClass, "prototype", {
                value: Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        writable: true,
                        configurable: true
                    }
                }),
                writable: false
            });
            if (superClass) _setPrototypeOf(subClass, superClass)
        }

        function _setPrototypeOf(o, p) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o
            };
            return _setPrototypeOf(o, p)
        }

        function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
                var Super = _getPrototypeOf(Derived),
                    result;
                if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result = Reflect.construct(Super, arguments, NewTarget)
                } else {
                    result = Super.apply(this, arguments)
                }
                return _possibleConstructorReturn(this, result)
            }
        }

        function _possibleConstructorReturn(self, call) {
            if (call && (_typeof(call) === "object" || typeof call === "function")) {
                return call
            } else if (call !== void 0) {
                throw new TypeError("Derived constructors may only return object or undefined")
            }
            return _assertThisInitialized(self)
        }

        function _assertThisInitialized(self) {
            if (self === void 0) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
            return self
        }

        function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if (typeof Proxy === "function") return true;
            try {
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
                return true
            } catch (e) {
                return false
            }
        }

        function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
                return o.__proto__ || Object.getPrototypeOf(o)
            };
            return _getPrototypeOf(o)
        }
        var SoundController = function(_SuperSoundController) {
            _inherits(SoundController, _SuperSoundController);
            var _super = _createSuper(SoundController);

            function SoundController() {
                _classCallCheck(this, SoundController);
                return _super.apply(this, arguments)
            }
            _createClass(SoundController, [{
                key: "setUpConfig",
                value: function setUpConfig() {
                    this.config = _soundsconfig.config
                }
            }, {
                key: "initAmbient",
                value: function initAmbient() {
                    var _this = this;
                    _get(_getPrototypeOf(SoundController.prototype), "initAmbient", this).call(this);
                    _BonusState.BonusRespinState.on(_Enums.GameEvent.EnterState, function() {
                        return _this.playMusic("bonus")
                    });
                    this.app.on(_Enums.GameEvent.BonusStartAmbient, function() {
                        return _this.playMusic("bonus")
                    })
                }
            }, {
                key: "initSounds",
                value: function initSounds() {
                    _get(_getPrototypeOf(SoundController.prototype), "initSounds", this).call(this);
                    this.initReelSpin();
                    this.initBonusSounds()
                }
            }, {
                key: "initReelSpin",
                value: function initReelSpin() {
                    var _this2 = this;
                    this.app.board.reels.on(_Reels.default.StartEvent, function() {
                        _this2.anticipationStarted = false;
                        _this2.bonusSoundNumber = 1
                    });
                    this.app.board.reels.reels.forEach(function(reel) {
                        reel.on(_Reel.default.EVENT.STOP_BEFORE_BACK_OUT, function() {
                            var reelData = _this2.app.model.triggerMap()[reel.id - 1];
                            var isScatterAnticipation = _app.default.model.getGeneratedScatterMap()[reel.id - 1] || _app.default.model.getGeneratedScatterMap().indexOf(1) - 1 === reel.id - 1;
                            var isBonusAnticipation = _app.default.model.generateBonusSymbolsMap()[reel.id - 1] || _app.default.model.generateBonusSymbolsMap().indexOf(1) - 1 === reel.id - 1;
                            var quickSpin = GR.UI.model.data.quick_spin || _this2.app.board.reels._skipping || GR.UI.model.data["turboskip.active"];
                            if (quickSpin) {
                                if (_this2._symbolOnReel(reel.id - 1, _GameSymbol.default.SCATTER_ID) && isScatterAnticipation) {
                                    _this2.playSound({
                                        file: "scatter_stop_".concat(reel.id)
                                    })
                                } else if (_this2._symbolOnReel(reel.id - 1, _GameSymbol.default.BONUS_ID) && isBonusAnticipation) {
                                    _this2.playSound({
                                        file: "bonus_stop_".concat(_this2.bonusSoundNumber)
                                    });
                                    _this2.bonusSoundNumber++
                                } else if (_this2._symbolOnReel(reel.id - 1, _GameSymbol.default.SUPER_ID && isBonusAnticipation)) {
                                    _this2.playSound({
                                        file: "super_bonus_stop"
                                    });
                                    _this2.bonusSoundNumber++
                                }
                                if (reel.id === 5 && !_app.default.model.anticipationMap()[reel.id - 1] && !_app.default.model.anticipationMap()[reel.id - 2]) {
                                    _this2._playLastSymbol()
                                }
                            } else {
                                if (reelData.filter(function(s) {
                                        return s === 1
                                    }).length) {
                                    _this2.playSound({
                                        file: "scatter_stop_".concat(reel.id)
                                    })
                                } else if (_this2._symbolOnReel(reel.id - 1, _GameSymbol.default.SUPER_ID)) {
                                    _this2.playSound({
                                        file: "super_bonus_stop"
                                    });
                                    _this2.bonusSoundNumber++
                                } else if (_this2._symbolOnReel(reel.id - 1, _GameSymbol.default.BONUS_ID)) {
                                    _this2.playSound({
                                        file: "bonus_stop_".concat(_this2.bonusSoundNumber)
                                    });
                                    _this2.bonusSoundNumber++
                                }
                            }
                            var indexFirstAnticipation = _app.default.model.anticipationMap().indexOf(1);
                            if (!quickSpin || _app.default.model.anticipationMap()[reel.id - 1]) {
                                _this2.playSound({
                                    file: "reel_stop"
                                })
                            } else if (reel.id === 5 || indexFirstAnticipation - 1 === reel.id - 1 && quickSpin) {
                                _this2.playSound({
                                    file: "reel_stop_all"
                                })
                            }
                            var winScatters = _app.default.model.winscatters();
                            var wonFreespins = winScatters.some(function(i) {
                                return i.trigger === "freespins"
                            });
                            var anticipationOnReel = _app.default.model.anticipationMap()[reel.id - 1] === 1;
                            var anticipationIsOver = reel.id === 5 || _app.default.model.anticipationMap()[reel.id] === 0;
                            if (reel.id === 4 && wonFreespins || reel.id === 5 && _app.default.model.canAction("bonus_init")) {
                                if (!_Sound.default.isPlaying("rise_melody")) {
                                    return
                                }
                                _this2.stopSound("rise_melody");
                                _this2.playSound({
                                    file: "rise_win",
                                    id: "rise_win"
                                });
                                _this2.fadeInAmbient(50);
                                _this2.anticipationStarted = false
                            } else if (anticipationOnReel && anticipationIsOver) {
                                if (!_Sound.default.isPlaying("rise_melody")) {
                                    return
                                }
                                _this2.stopSound("rise_melody");
                                _this2.playSound({
                                    file: "rise_lose",
                                    id: "rise_lose"
                                });
                                _this2.fadeInAmbient(50);
                                _this2.anticipationStarted = false
                            }
                        });
                        reel.on(_Reel.default.EVENT.ANTICIPATION_STOPPING, function() {
                            if (!_this2.anticipationStarted) {
                                _this2.fadeOutAmbient(50);
                                var riseDuration;
                                if (reel.id === 2 || reel.id === 3) riseDuration = "long";
                                if (reel.id === 4) riseDuration = "middle";
                                if (reel.id === 5) riseDuration = "short";
                                _this2.playSound({
                                    file: "rise_melody_".concat(riseDuration),
                                    id: "rise_melody"
                                });
                                _this2.anticipationStarted = true
                            }
                        })
                    });
                    this.app.board.reels.on(_Reels.default.StopEvent, function() {
                        return _Sound.default.stop("reelspin_".concat(_this2.reelspinCounter))
                    })
                }
            }, {
                key: "_playLastSymbol",
                value: function _playLastSymbol() {
                    var _this3 = this;
                    var lastScatter = undefined;
                    var lastBonus = undefined;
                    var lastSB = undefined;
                    for (var i = 0; i < _app.default.model.board().length; i++) {
                        if (this._symbolOnReel(i, _GameSymbol.default.SCATTER_ID) && (i === 1 || i > 1 && lastScatter === i - 1)) {
                            lastScatter = i
                        }
                        if (this._symbolOnReel(i, _GameSymbol.default.BONUS_ID)) lastBonus = i;
                        if (this._symbolOnReel(i, _GameSymbol.default.SUPER_ID)) lastSB = i
                    }
                    if (lastScatter && lastScatter > lastBonus && lastScatter > lastSB) {
                        _utils.default.wait(100).then(function() {
                            _this3.playSound({
                                file: "scatter_stop_".concat(lastScatter + 1)
                            })
                        })
                    } else if (lastBonus !== undefined && (lastBonus > lastSB || lastSB === undefined)) {
                        _utils.default.wait(100).then(function() {
                            _this3._playBonusSound()
                        })
                    } else if (lastSB !== undefined) {
                        _utils.default.wait(100).then(function() {
                            _this3.playSound({
                                file: "super_bonus_stop"
                            })
                        })
                    }
                }
            }, {
                key: "_symbolOnReel",
                value: function _symbolOnReel(reelId, symbolId) {
                    return _app.default.model.board()[reelId].filter(function(s) {
                        return s === symbolId
                    }).length
                }
            }, {
                key: "_getSymbolLengthOnReels",
                value: function _getSymbolLengthOnReels(symbolId) {
                    var _this4 = this;
                    var count = 0;
                    _app.default.model.board().forEach(function(r, i) {
                        if (_this4._symbolOnReel(i, symbolId)) count++
                    });
                    return count
                }
            }, {
                key: "_playBonusSound",
                value: function _playBonusSound() {
                    var count = this._getSymbolLengthOnReels(_GameSymbol.default.BONUS_ID) + this._getSymbolLengthOnReels(_GameSymbol.default.SUPER_ID);
                    this.playSound({
                        file: "bonus_stop_".concat(count)
                    })
                }
            }, {
                key: "initBonusSounds",
                value: function initBonusSounds() {
                    var _this5 = this;
                    this.app.on(_Enums.GameEvent.JackpotGrandHide, function() {
                        _this5.fadeInAmbient(50)
                    });
                    this.app.on(_Enums.GameEvent.BonusNumberFly, function() {
                        return _this5.playSound({
                            file: "bonus_number_fly",
                            id: "bonus_number_fly"
                        })
                    });
                    this.app.on(_Enums.GameEvent.StartGameCollect, function() {
                        _this5.fadeOutAmbient(200)
                    });
                    this.app.on(_Enums.GameEvent.EndGameCollect, function() {
                        _this5.fadeInAmbient(200)
                    })
                }
            }, {
                key: "initWin",
                value: function initWin() {
                    var _this6 = this;
                    this.app.on(_Enums.GameEvent.StartGameCollect, function() {
                        _this6.fadeOutAmbient(200)
                    });
                    this.app.on(_Enums.GameEvent.EndGameCollect, function() {
                        _this6.fadeInAmbient(200)
                    });
                    this.app.on(_Enums.GameEvent.JackpotAnticipation, function() {
                        _this6.fadeOutAmbient(10, .04);
                        if (!_Sound.default.isPlaying("rise_grand_jackpot")) {
                            _this6.playSound({
                                file: "rise_grand_jackpot",
                                id: "rise_grand_jackpot"
                            })
                        }
                    });
                    this.app.on(_Enums.GameEvent.JackpotAnticipationStop, function() {
                        if (_Sound.default.isPlaying("rise_grand_jackpot")) {
                            _this6.stopSound("rise_grand_jackpot")
                        }
                    });
                    this.app.on(_Enums.GameEvent.JackpotAnticipationStopLose, function() {
                        _this6.stopSound("rise_grand_jackpot");
                        _this6.playSound({
                            file: "rise_grand_jackpot_lose",
                            id: "rise_grand_jackpot_lose"
                        })
                    });
                    this.app.on(_Enums.GameEvent.JackpotAnticipationStopFinal, function() {
                        _this6.fadeInAmbient(200)
                    });
                    this.app.on(_Enums.GameEvent.WinScatter, function() {
                        var winscatters = _this6.app.model.winscatters();
                        if (winscatters.length) {
                            _this6.playSound({
                                file: "scatter_win",
                                id: "scatter_win"
                            })
                        }
                    });
                    this.app.on(_Enums.GameEvent.WinCountStart, function() {
                        _this6.fadeOutAmbient(50);
                        _this6.playSound({
                            file: "cntr_rllng"
                        })
                    });
                    this.app.on(_Enums.GameEvent.WinOneTB, function() {
                        var fadingAmbient = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
                        fadingAmbient && _this6.fadeOutAmbient(50);
                        _this6.playSFX("small_win");
                        fadingAmbient && _utils.default.wait(150).then(function() {
                            return _this6.fadeInAmbient(50)
                        })
                    });
                    this.app.on(_Enums.GameEvent.WinCountEnd, function() {
                        _this6.stopSound("cntr_rllng");
                        _this6.playSound({
                            file: "cntr_rllng_stop"
                        });
                        _utils.default.wait(50).then(function() {
                            return _this6.fadeInAmbient(50)
                        })
                    });
                    this.app.on(_Enums.GameEvent.TotalWinPlay, function() {
                        return _this6._startCounter(false, true)
                    });
                    this.app.on(_Enums.GameEvent.TotalWinPlayShort, function() {
                        return _this6._startCounter(false, false)
                    });
                    this.app.on(_Enums.GameEvent.TotalWinStop, function() {
                        return _this6._stopBackSound(false, true)
                    });
                    this.app.on(_Enums.GameEvent.TotalWinStopShort, function() {
                        return _this6._stopBackSound(false, false)
                    });
                    this.app.on(_Enums.GameEvent.TotalWinCoinsStop, function() {
                        return _this6._stopCounter()
                    });
                    this.app.on(_Enums.GameEvent.TotalWinSkip, function() {
                        if (_Sound.default.isPlaying("fs_total_win_long")) {
                            _this6.stopSound("fs_total_win_long")
                        }
                        _this6._stopCounter();
                        _this6.stopSound(_this6.currentAmbient)
                    });
                    this.app.on(_Enums.GameEvent.TotalWinSkipShort, function() {
                        if (_Sound.default.isPlaying("fs_total_win_short")) {
                            _this6.stopSound("fs_total_win_short")
                        }
                        _this6.stopSound(_this6.currentAmbient)
                    });
                    this.app.on(_Enums.GameEvent.MysteryOpen, function() {
                        _this6.playSound({
                            file: "mystery_open"
                        })
                    });
                    this.app.on(_Enums.GameEvent.WinSuperBonus, function() {
                        _this6.playSound({
                            file: "sb_explosion"
                        })
                    });
                    this.app.on(_Enums.GameEvent.TotalWinPlayCoins, function() {
                        _this6.playSound({
                            file: "coins",
                            id: "coins"
                        })
                    });
                    if (this.hasBonusGame) {
                        this.initBonusWin()
                    }
                    this.app.on(_Enums.GameEvent.TurnToSuperBonus, function() {
                        return _this6.playSound({
                            file: "sb_trigger",
                            id: "sb_trigger"
                        })
                    })
                }
            }]);
            return SoundController
        }(_SoundController.default);
        exports.default = SoundController
    }, {
        "../components/bonus/BonusState": 121,
        "../soundsconfig.json": 143,
        "core/app": 33,
        "core/components/GameSymbol": 39,
        "core/components/Reel": 42,
        "core/components/Reels": 43,
        "core/controllers/SoundController": 69,
        "core/core/Enums": 73,
        "core/core/Sound": 80,
        "core/helpers/utils": 91
    }],
    141: [function(require, module, exports) {
        module.exports = ["bg", "de", "en", "en-soc", "es", "fi", "fr", "id", "it", "ja", "ka", "ko", "nl", "no", "pt", "ru", "sv", "th", "tr", "uk", "vi", "zh", "zh-hant"]
    }, {}],
    142: [function(require, module, exports) {
        module.exports = {
            720: [{
                name: "anticipation",
                url: "./assets/packs/720/anticipation.json",
                size: 9205,
                delay: false,
                onDemand: false,
                localized: false,
                version: "2bf6f9e9f9"
            }, {
                name: "anticipation_atlas",
                url: "./assets/packs/720/anticipation.atlas",
                size: 2994,
                delay: false,
                onDemand: false,
                localized: false,
                version: "be1894b5b2"
            }, {
                name: "anticipation_atlas_page_anticipation.png",
                url: "./assets/packs/720/anticipation.png",
                size: 704136,
                delay: false,
                onDemand: false,
                localized: false,
                version: "a80df7b642"
            }, {
                name: "anticipation_bonus",
                url: "./assets/packs/720/anticipation_bonus.json",
                size: 3489,
                delay: false,
                onDemand: true,
                localized: false,
                version: "b82665a336"
            }, {
                name: "anticipation_bonus_atlas",
                url: "./assets/packs/720/anticipation_bonus.atlas",
                size: 1660,
                delay: false,
                onDemand: true,
                localized: false,
                version: "b158d148ba"
            }, {
                name: "anticipation_bonus_atlas_page_anticipation_bonus.png",
                url: "./assets/packs/720/anticipation_bonus.png",
                size: 127977,
                delay: false,
                onDemand: true,
                localized: false,
                version: "875633df97"
            }, {
                name: "back_bonus_game",
                url: "./assets/packs/720/back_bonus_game.jpg",
                size: 278730,
                delay: false,
                onDemand: false,
                localized: false,
                version: "84ba32e589"
            }, {
                name: "back_freespins",
                url: "./assets/packs/720/back_freespins.jpg",
                size: 328010,
                delay: false,
                onDemand: false,
                localized: false,
                version: "946f712a48"
            }, {
                name: "background",
                url: "./assets/packs/720/background.jpg",
                size: 352002,
                delay: false,
                onDemand: false,
                localized: false,
                version: "7184ce83c2"
            }, {
                name: "bigwin",
                url: "./assets/packs/720/bigwin.json",
                size: 71442,
                delay: false,
                onDemand: true,
                localized: false,
                version: "b35491dab0"
            }, {
                name: "bigwin_atlas",
                url: "./assets/packs/720/bigwin.atlas",
                size: 10637,
                delay: false,
                onDemand: true,
                localized: false,
                version: "b6e4a8c485"
            }, {
                name: "bigwin_atlas_page_bigwin.png",
                url: "./assets/packs/720/bigwin.png",
                size: 4995160,
                delay: false,
                onDemand: true,
                localized: false,
                version: "9759acae0b"
            }, {
                name: "bigwin-0",
                url: "./assets/packs/720/bigwin-0.json",
                size: 2205,
                delay: false,
                onDemand: true,
                localized: false,
                version: "387bf58238"
            }, {
                name: "bigwin-0_image",
                url: "./assets/packs/720/bigwin-0.png",
                size: 107765,
                delay: false,
                onDemand: true,
                localized: false,
                version: "2bcfbdd967"
            }, {
                name: "bitmapFont",
                url: "./assets/packs/720/bitmapFont.xml",
                size: 1511,
                delay: false,
                onDemand: false,
                localized: false,
                version: "690501f649"
            }, {
                name: "bitmapFont_image",
                url: "./assets/packs/720/bitmapFont.png",
                size: 130330,
                delay: false,
                onDemand: false,
                localized: false,
                version: "08d4e9cd53"
            }, {
                name: "bonus_collect_fly",
                url: "./assets/packs/720/bonus_collect_fly.json",
                size: 77485,
                delay: false,
                onDemand: true,
                localized: false,
                version: "91af39f7e7"
            }, {
                name: "bonus_collect_fly_atlas",
                url: "./assets/packs/720/bonus_collect_fly.atlas",
                size: 3695,
                delay: false,
                onDemand: true,
                localized: false,
                version: "d113dc7905"
            }, {
                name: "bonus_collect_fly_atlas_page_bonus_collect_fly.png",
                url: "./assets/packs/720/bonus_collect_fly.png",
                size: 193852,
                delay: false,
                onDemand: true,
                localized: false,
                version: "83f4efcadb"
            }, {
                name: "bonus_dragon_1",
                url: "./assets/packs/720/bonus_dragon_1.png",
                size: 17682,
                delay: false,
                onDemand: false,
                localized: false,
                version: "25dfeab531"
            }, {
                name: "bonus_transition",
                url: "./assets/packs/720/bonus_transition.json",
                size: 13244,
                delay: false,
                onDemand: true,
                localized: false,
                version: "079fecb015"
            }, {
                name: "bonus_transition_atlas",
                url: "./assets/packs/720/bonus_transition.atlas",
                size: 281,
                delay: false,
                onDemand: true,
                localized: false,
                version: "7a9f2e3819"
            }, {
                name: "bonus_transition_atlas_page_bonus_transition.png",
                url: "./assets/packs/720/bonus_transition.png",
                size: 168335,
                delay: false,
                onDemand: true,
                localized: false,
                version: "d5a4f98c9b"
            }, {
                name: "bonus-0",
                url: "./assets/packs/720/bonus-0.json",
                size: 708,
                delay: false,
                onDemand: false,
                localized: false,
                version: "7c944eb5a7"
            }, {
                name: "bonus-0_image",
                url: "./assets/packs/720/bonus-0.png",
                size: 10885,
                delay: false,
                onDemand: false,
                localized: false,
                version: "771a7b29f7"
            }, {
                name: "bw_emitter",
                url: "./assets/packs/720/bw_emitter.json",
                size: 709,
                delay: false,
                onDemand: false,
                localized: false,
                version: "c2e06dfb1d"
            }, {
                name: "el_bonus",
                url: "./assets/packs/720/el_bonus.json",
                size: 2529,
                delay: false,
                onDemand: false,
                localized: false,
                version: "edf19fdc3a"
            }, {
                name: "el_bonus_atlas",
                url: "./assets/packs/720/el_bonus.atlas",
                size: 3267,
                delay: false,
                onDemand: false,
                localized: false,
                version: "90c68f29a6"
            }, {
                name: "el_bonus_atlas_page_el_bonus.png",
                url: "./assets/packs/720/el_bonus.png",
                size: 2975147,
                delay: false,
                onDemand: false,
                localized: false,
                version: "f1acfd5181"
            }, {
                name: "el_bonus_explosion",
                url: "./assets/packs/720/el_bonus_explosion.json",
                size: 1140,
                delay: false,
                onDemand: false,
                localized: false,
                version: "3c514218fe"
            }, {
                name: "el_bonus_explosion_atlas",
                url: "./assets/packs/720/el_bonus_explosion.atlas",
                size: 282,
                delay: false,
                onDemand: false,
                localized: false,
                version: "ace3bf4c87"
            }, {
                name: "el_bonus_explosion_atlas_page_el_bonus_explosion.png",
                url: "./assets/packs/720/el_bonus_explosion.png",
                size: 90816,
                delay: false,
                onDemand: false,
                localized: false,
                version: "d748cec7b2"
            }, {
                name: "el_scatter",
                url: "./assets/packs/720/el_scatter.json",
                size: 17804,
                delay: false,
                onDemand: false,
                localized: false,
                version: "7a9d7ebc42"
            }, {
                name: "el_scatter_atlas",
                url: "./assets/packs/720/el_scatter.atlas",
                size: 4905,
                delay: false,
                onDemand: false,
                localized: false,
                version: "3660b411b0"
            }, {
                name: "el_scatter_atlas_page_el_scatter.png",
                url: "./assets/packs/720/el_scatter.png",
                size: 987376,
                delay: false,
                onDemand: false,
                localized: false,
                version: "a6585aaa79"
            }, {
                name: "el_super_bonus",
                url: "./assets/packs/720/el_super_bonus.json",
                size: 6608,
                delay: false,
                onDemand: false,
                localized: false,
                version: "cdda633e38"
            }, {
                name: "el_super_bonus_atlas",
                url: "./assets/packs/720/el_super_bonus.atlas",
                size: 3752,
                delay: false,
                onDemand: false,
                localized: false,
                version: "a966295dea"
            }, {
                name: "el_super_bonus_atlas_page_el_super_bonus.png",
                url: "./assets/packs/720/el_super_bonus.png",
                size: 3291628,
                delay: false,
                onDemand: false,
                localized: false,
                version: "a5a1bf89ba"
            }, {
                name: "el_super_bonus_explosion",
                url: "./assets/packs/720/el_super_bonus_explosion.json",
                size: 1418,
                delay: false,
                onDemand: false,
                localized: false,
                version: "353b59ef84"
            }, {
                name: "el_super_bonus_explosion_atlas",
                url: "./assets/packs/720/el_super_bonus_explosion.atlas",
                size: 287,
                delay: false,
                onDemand: false,
                localized: false,
                version: "e29902b20d"
            }, {
                name: "el_super_bonus_explosion_atlas_page_el_super_bonus_explosion.png",
                url: "./assets/packs/720/el_super_bonus_explosion.png",
                size: 123661,
                delay: false,
                onDemand: false,
                localized: false,
                version: "1c7976039c"
            }, {
                name: "frame-0",
                url: "./assets/packs/720/frame-0.json",
                size: 1476,
                delay: false,
                onDemand: false,
                localized: false,
                version: "bb0d16dcc7"
            }, {
                name: "frame-0_image",
                url: "./assets/packs/720/frame-0.png",
                size: 120969,
                delay: false,
                onDemand: false,
                localized: false,
                version: "885a2d789f"
            }, {
                name: "game_popups",
                url: "./assets/packs/720/game_popups.json",
                size: 71748,
                delay: false,
                onDemand: true,
                localized: false,
                version: "046ffecd9d"
            }, {
                name: "game_popups_atlas",
                url: "./assets/packs/720/game_popups.atlas",
                size: 10637,
                delay: false,
                onDemand: true,
                localized: false,
                version: "b6e4a8c485"
            }, {
                name: "logo-0",
                url: "./assets/packs/720/logo-0.json",
                size: 706,
                delay: false,
                onDemand: false,
                localized: false,
                version: "3a3b740161"
            }, {
                name: "logo-0_image",
                url: "./assets/packs/720/logo-0.png",
                size: 161165,
                delay: false,
                onDemand: false,
                localized: false,
                version: "0a71bc91ca"
            }, {
                name: "mystery_animation",
                url: "./assets/packs/720/mystery_animation.json",
                size: 9525,
                delay: false,
                onDemand: false,
                localized: false,
                version: "f962d93df8"
            }, {
                name: "mystery_animation_atlas",
                url: "./assets/packs/720/mystery_animation.atlas",
                size: 1628,
                delay: false,
                onDemand: false,
                localized: false,
                version: "b68261fdb2"
            }, {
                name: "mystery_animation_atlas_page_mystery_animation.png",
                url: "./assets/packs/720/mystery_animation.png",
                size: 568368,
                delay: false,
                onDemand: false,
                localized: false,
                version: "0cce91f7fa"
            }, {
                name: "mystery_wave",
                url: "./assets/packs/720/mystery_wave.json",
                size: 695,
                delay: false,
                onDemand: false,
                localized: false,
                version: "19e1a2a96a"
            }, {
                name: "mystery_wave_image",
                url: "./assets/packs/720/mystery_wave_image.png",
                size: 1281,
                delay: false,
                onDemand: false,
                localized: false,
                version: "81def7475c"
            }, {
                name: "numbers_bonus",
                url: "./assets/packs/720/numbers_bonus.xml",
                size: 1494,
                delay: false,
                onDemand: false,
                localized: false,
                version: "6102854825"
            }, {
                name: "numbers_bonus_image",
                url: "./assets/packs/720/numbers_bonus.png",
                size: 23333,
                delay: false,
                onDemand: false,
                localized: false,
                version: "c145eff7c0"
            }, {
                name: "paytable-0",
                url: "./assets/packs/720/paytable-0.json",
                size: 2467,
                delay: false,
                onDemand: false,
                localized: false,
                version: "d17014574c"
            }, {
                name: "paytable-0_image",
                url: "./assets/packs/720/paytable-0.png",
                size: 765805,
                delay: false,
                onDemand: false,
                localized: false,
                version: "d50ee80fff"
            }, {
                name: "respins_frame",
                url: "./assets/packs/720/respins_frame.json",
                size: 7990,
                delay: false,
                onDemand: true,
                localized: false,
                version: "ed98b223ee"
            }, {
                name: "respins_frame_atlas",
                url: "./assets/packs/720/respins_frame.atlas",
                size: 1306,
                delay: false,
                onDemand: true,
                localized: false,
                version: "480cfb8666"
            }, {
                name: "respins_frame_atlas_page_respins_frame.png",
                url: "./assets/packs/720/respins_frame.png",
                size: 310154,
                delay: false,
                onDemand: true,
                localized: false,
                version: "6496acc841"
            }, {
                name: "respins_frame_level",
                url: "./assets/packs/720/respins_frame_level.json",
                size: 16191,
                delay: false,
                onDemand: true,
                localized: false,
                version: "d12516dd6d"
            }, {
                name: "respins_frame_level_atlas",
                url: "./assets/packs/720/respins_frame_level.atlas",
                size: 3881,
                delay: false,
                onDemand: true,
                localized: false,
                version: "99330d437e"
            }, {
                name: "respins_frame_level_atlas_page_respins_frame_level.png",
                url: "./assets/packs/720/respins_frame_level.png",
                size: 673916,
                delay: false,
                onDemand: true,
                localized: false,
                version: "9dc60362af"
            }, {
                name: "start_screen_d",
                url: "./assets/packs/720/start_screen_d.jpg",
                size: 336432,
                delay: false,
                onDemand: false,
                localized: false,
                version: "170895934e"
            }, {
                name: "start_screen_m",
                url: "./assets/packs/720/start_screen_m.jpg",
                size: 363285,
                delay: false,
                onDemand: false,
                localized: false,
                version: "77bc7a5ff9"
            }, {
                name: "symbols-0",
                url: "./assets/packs/720/symbols-0.json",
                size: 5997,
                delay: false,
                onDemand: false,
                localized: false,
                version: "8604669492"
            }, {
                name: "symbols-0_image",
                url: "./assets/packs/720/symbols-0.png",
                size: 766321,
                delay: false,
                onDemand: false,
                localized: false,
                version: "eff814707c"
            }],
            fonts: [{
                name: "bonzai",
                url: "./assets/packs/fonts/bonzai.ttf",
                size: 24500,
                delay: false,
                onDemand: false,
                localized: false,
                version: "5f338722af"
            }, {
                name: "Calibri",
                url: "./assets/packs/fonts/Calibri.ttf",
                size: 343420,
                delay: false,
                onDemand: false,
                localized: false,
                version: "8c8e1a43b3"
            }, {
                name: "Roboto-Black",
                url: "./assets/packs/fonts/Roboto-Black.ttf",
                size: 171480,
                delay: false,
                onDemand: false,
                localized: false,
                version: "ec4c9962ba"
            }, {
                name: "Roboto-Bold",
                url: "./assets/packs/fonts/Roboto-Bold.ttf",
                size: 170760,
                delay: false,
                onDemand: false,
                localized: false,
                version: "ee7b96fa85"
            }, {
                name: "Roboto-Medium",
                url: "./assets/packs/fonts/Roboto-Medium.ttf",
                size: 172064,
                delay: false,
                onDemand: false,
                localized: false,
                version: "d08840599e"
            }],
            mp3: [{
                name: "bigwin_popup",
                url: "./assets/packs/mp3/bigwin_popup.mp3",
                size: 112012,
                delay: true,
                onDemand: false,
                localized: false,
                version: "8a77b7415e"
            }, {
                name: "bn_collect_popup",
                url: "./assets/packs/mp3/bn_collect_popup.mp3",
                size: 40959,
                delay: true,
                onDemand: false,
                localized: false,
                version: "6c3ad8d91c"
            }, {
                name: "bn_start_popup",
                url: "./assets/packs/mp3/bn_start_popup.mp3",
                size: 40959,
                delay: true,
                onDemand: false,
                localized: false,
                version: "9d258b6cb0"
            }, {
                name: "bn_total_win_long",
                url: "./assets/packs/mp3/bn_total_win_long.mp3",
                size: 162585,
                delay: true,
                onDemand: false,
                localized: false,
                version: "ddc61258aa"
            }, {
                name: "bn_total_win_short",
                url: "./assets/packs/mp3/bn_total_win_short.mp3",
                size: 82754,
                delay: true,
                onDemand: false,
                localized: false,
                version: "2548e97a6d"
            }, {
                name: "bonus_collect",
                url: "./assets/packs/mp3/bonus_collect.mp3",
                size: 33017,
                delay: true,
                onDemand: false,
                localized: false,
                version: "7b34be33c9"
            }, {
                name: "bonus_number_fly",
                url: "./assets/packs/mp3/bonus_number_fly.mp3",
                size: 25076,
                delay: true,
                onDemand: false,
                localized: false,
                version: "0e00efa3a2"
            }, {
                name: "bonus_stop_1",
                url: "./assets/packs/mp3/bonus_stop_1.mp3",
                size: 53915,
                delay: true,
                onDemand: false,
                localized: false,
                version: "5bb1efc6c8"
            }, {
                name: "bonus_stop_2",
                url: "./assets/packs/mp3/bonus_stop_2.mp3",
                size: 53915,
                delay: true,
                onDemand: false,
                localized: false,
                version: "924239fa99"
            }, {
                name: "bonus_stop_3",
                url: "./assets/packs/mp3/bonus_stop_3.mp3",
                size: 53915,
                delay: true,
                onDemand: false,
                localized: false,
                version: "409a9f7fd6"
            }, {
                name: "bonus_stop_4",
                url: "./assets/packs/mp3/bonus_stop_4.mp3",
                size: 53915,
                delay: true,
                onDemand: false,
                localized: false,
                version: "635e4aa83a"
            }, {
                name: "bonus_stop_5",
                url: "./assets/packs/mp3/bonus_stop_5.mp3",
                size: 53915,
                delay: true,
                onDemand: false,
                localized: false,
                version: "680e82c81c"
            }, {
                name: "bonus_track",
                url: "./assets/packs/mp3/bonus_track.mp3",
                size: 530807,
                delay: true,
                onDemand: false,
                localized: false,
                version: "e5d22ddb91"
            }, {
                name: "bonus_track_collect",
                url: "./assets/packs/mp3/bonus_track_collect.mp3",
                size: 398314,
                delay: true,
                onDemand: false,
                localized: false,
                version: "df6f48644b"
            }, {
                name: "bonus_win",
                url: "./assets/packs/mp3/bonus_win.mp3",
                size: 25076,
                delay: true,
                onDemand: false,
                localized: false,
                version: "0a2c9d50b7"
            }, {
                name: "bonus_win_stop",
                url: "./assets/packs/mp3/bonus_win_stop.mp3",
                size: 33017,
                delay: true,
                onDemand: false,
                localized: false,
                version: "643fae6ee3"
            }, {
                name: "cntr_rllng",
                url: "./assets/packs/mp3/cntr_rllng.mp3",
                size: 63894,
                delay: true,
                onDemand: false,
                localized: false,
                version: "2763bae1e5"
            }, {
                name: "cntr_rllng_stop",
                url: "./assets/packs/mp3/cntr_rllng_stop.mp3",
                size: 40541,
                delay: true,
                onDemand: false,
                localized: false,
                version: "865bfd7abf"
            }, {
                name: "coins",
                url: "./assets/packs/mp3/coins.mp3",
                size: 204930,
                delay: true,
                onDemand: false,
                localized: false,
                version: "859af6b17a"
            }, {
                name: "freespin_track",
                url: "./assets/packs/mp3/freespin_track.mp3",
                size: 627773,
                delay: true,
                onDemand: false,
                localized: false,
                version: "1095e4daad"
            }, {
                name: "fs_additional_popup",
                url: "./assets/packs/mp3/fs_additional_popup.mp3",
                size: 65618,
                delay: true,
                onDemand: false,
                localized: false,
                version: "2600a6e6ad"
            }, {
                name: "fs_start_popup",
                url: "./assets/packs/mp3/fs_start_popup.mp3",
                size: 64782,
                delay: true,
                onDemand: false,
                localized: false,
                version: "962a4bc600"
            }, {
                name: "fs_total_win_long",
                url: "./assets/packs/mp3/fs_total_win_long.mp3",
                size: 159241,
                delay: true,
                onDemand: false,
                localized: false,
                version: "1361b9569a"
            }, {
                name: "fs_total_win_short",
                url: "./assets/packs/mp3/fs_total_win_short.mp3",
                size: 59767,
                delay: true,
                onDemand: false,
                localized: false,
                version: "c9cc9ddaa7"
            }, {
                name: "jackpot_win_popup",
                url: "./assets/packs/mp3/jackpot_win_popup.mp3",
                size: 173034,
                delay: true,
                onDemand: false,
                localized: false,
                version: "b06a2886ff"
            }, {
                name: "mainform_track",
                url: "./assets/packs/mp3/mainform_track.mp3",
                size: 1070392,
                delay: true,
                onDemand: false,
                localized: false,
                version: "623bf87f26"
            }, {
                name: "megawin_popup",
                url: "./assets/packs/mp3/megawin_popup.mp3",
                size: 269582,
                delay: true,
                onDemand: false,
                localized: false,
                version: "61dbda75fb"
            }, {
                name: "mystery_open",
                url: "./assets/packs/mp3/mystery_open.mp3",
                size: 56841,
                delay: true,
                onDemand: false,
                localized: false,
                version: "49b5aa67e7"
            }, {
                name: "mystery_stop",
                url: "./assets/packs/mp3/mystery_stop.mp3",
                size: 33017,
                delay: true,
                onDemand: false,
                localized: false,
                version: "d5aa068ff4"
            }, {
                name: "numbers_popup",
                url: "./assets/packs/mp3/numbers_popup.mp3",
                size: 63894,
                delay: true,
                onDemand: false,
                localized: false,
                version: "2763bae1e5"
            }, {
                name: "numbers_popup_skip",
                url: "./assets/packs/mp3/numbers_popup_skip.mp3",
                size: 40541,
                delay: true,
                onDemand: false,
                localized: false,
                version: "1b9d28d1f8"
            }, {
                name: "reel_stop",
                url: "./assets/packs/mp3/reel_stop.mp3",
                size: 3753,
                delay: true,
                onDemand: false,
                localized: false,
                version: "bc664ca0e5"
            }, {
                name: "reel_stop_all",
                url: "./assets/packs/mp3/reel_stop_all.mp3",
                size: 40750,
                delay: true,
                onDemand: false,
                localized: false,
                version: "4f0bf0e1fe"
            }, {
                name: "rise_grand_jackpot",
                url: "./assets/packs/mp3/rise_grand_jackpot.mp3",
                size: 81919,
                delay: true,
                onDemand: false,
                localized: false,
                version: "918e2f0283"
            }, {
                name: "rise_grand_jackpot_lose",
                url: "./assets/packs/mp3/rise_grand_jackpot_lose.mp3",
                size: 17135,
                delay: true,
                onDemand: false,
                localized: false,
                version: "f99089e4b0"
            }, {
                name: "rise_grand_jackpot_win",
                url: "./assets/packs/mp3/rise_grand_jackpot_win.mp3",
                size: 35525,
                delay: true,
                onDemand: false,
                localized: false,
                version: "f99b0e9c92"
            }, {
                name: "rise_lose",
                url: "./assets/packs/mp3/rise_lose.mp3",
                size: 34271,
                delay: true,
                onDemand: false,
                localized: false,
                version: "be6f2019bc"
            }, {
                name: "rise_melody_long",
                url: "./assets/packs/mp3/rise_melody_long.mp3",
                size: 183065,
                delay: true,
                onDemand: false,
                localized: false,
                version: "5502a00eb5"
            }, {
                name: "rise_melody_middle",
                url: "./assets/packs/mp3/rise_melody_middle.mp3",
                size: 158405,
                delay: true,
                onDemand: false,
                localized: false,
                version: "e7247c09c1"
            }, {
                name: "rise_melody_short",
                url: "./assets/packs/mp3/rise_melody_short.mp3",
                size: 133746,
                delay: true,
                onDemand: false,
                localized: false,
                version: "d089b80fce"
            }, {
                name: "rise_win",
                url: "./assets/packs/mp3/rise_win.mp3",
                size: 34271,
                delay: true,
                onDemand: false,
                localized: false,
                version: "e9aaa49146"
            }, {
                name: "sb_explosion",
                url: "./assets/packs/mp3/sb_explosion.mp3",
                size: 41377,
                delay: true,
                onDemand: false,
                localized: false,
                version: "7f8d8980cc"
            }, {
                name: "sb_trigger",
                url: "./assets/packs/mp3/sb_trigger.mp3",
                size: 11283,
                delay: true,
                onDemand: false,
                localized: false,
                version: "21c1a72d1e"
            }, {
                name: "scatter_stop_2",
                url: "./assets/packs/mp3/scatter_stop_2.mp3",
                size: 11701,
                delay: true,
                onDemand: false,
                localized: false,
                version: "dc0a72b4d0"
            }, {
                name: "scatter_stop_3",
                url: "./assets/packs/mp3/scatter_stop_3.mp3",
                size: 11701,
                delay: true,
                onDemand: false,
                localized: false,
                version: "e6f53abe64"
            }, {
                name: "scatter_stop_4",
                url: "./assets/packs/mp3/scatter_stop_4.mp3",
                size: 11701,
                delay: true,
                onDemand: false,
                localized: false,
                version: "d416df0a48"
            }, {
                name: "scatter_win",
                url: "./assets/packs/mp3/scatter_win.mp3",
                size: 53497,
                delay: true,
                onDemand: false,
                localized: false,
                version: "8b281781a9"
            }, {
                name: "small_win",
                url: "./assets/packs/mp3/small_win.mp3",
                size: 25494,
                delay: true,
                onDemand: false,
                localized: false,
                version: "9988fecfc5"
            }, {
                name: "super_bonus_stop",
                url: "./assets/packs/mp3/super_bonus_stop.mp3",
                size: 43884,
                delay: true,
                onDemand: false,
                localized: false,
                version: "9b47cd22ac"
            }, {
                name: "superwin_popup",
                url: "./assets/packs/mp3/superwin_popup.mp3",
                size: 193096,
                delay: true,
                onDemand: false,
                localized: false,
                version: "1b7431a2ea"
            }],
            ogg: [{
                name: "bigwin_popup",
                url: "./assets/packs/ogg/bigwin_popup.ogg",
                size: 116547,
                delay: true,
                onDemand: false,
                localized: false,
                version: "3bde8f9221"
            }, {
                name: "bn_collect_popup",
                url: "./assets/packs/ogg/bn_collect_popup.ogg",
                size: 44145,
                delay: true,
                onDemand: false,
                localized: false,
                version: "3c4ad8c90c"
            }, {
                name: "bn_start_popup",
                url: "./assets/packs/ogg/bn_start_popup.ogg",
                size: 42537,
                delay: true,
                onDemand: false,
                localized: false,
                version: "c9775943af"
            }, {
                name: "bn_total_win_long",
                url: "./assets/packs/ogg/bn_total_win_long.ogg",
                size: 168288,
                delay: true,
                onDemand: false,
                localized: false,
                version: "1eeeb3f3d4"
            }, {
                name: "bn_total_win_short",
                url: "./assets/packs/ogg/bn_total_win_short.ogg",
                size: 87300,
                delay: true,
                onDemand: false,
                localized: false,
                version: "5bf7935003"
            }, {
                name: "bonus_collect",
                url: "./assets/packs/ogg/bonus_collect.ogg",
                size: 36911,
                delay: true,
                onDemand: false,
                localized: false,
                version: "09a9e3e246"
            }, {
                name: "bonus_number_fly",
                url: "./assets/packs/ogg/bonus_number_fly.ogg",
                size: 28825,
                delay: true,
                onDemand: false,
                localized: false,
                version: "e7276f0f25"
            }, {
                name: "bonus_stop_1",
                url: "./assets/packs/ogg/bonus_stop_1.ogg",
                size: 58203,
                delay: true,
                onDemand: false,
                localized: false,
                version: "136d947554"
            }, {
                name: "bonus_stop_2",
                url: "./assets/packs/ogg/bonus_stop_2.ogg",
                size: 58230,
                delay: true,
                onDemand: false,
                localized: false,
                version: "2cb02a785f"
            }, {
                name: "bonus_stop_3",
                url: "./assets/packs/ogg/bonus_stop_3.ogg",
                size: 58143,
                delay: true,
                onDemand: false,
                localized: false,
                version: "24bcc0d3ca"
            }, {
                name: "bonus_stop_4",
                url: "./assets/packs/ogg/bonus_stop_4.ogg",
                size: 58208,
                delay: true,
                onDemand: false,
                localized: false,
                version: "14e8f0566c"
            }, {
                name: "bonus_stop_5",
                url: "./assets/packs/ogg/bonus_stop_5.ogg",
                size: 58160,
                delay: true,
                onDemand: false,
                localized: false,
                version: "a0dd213e7e"
            }, {
                name: "bonus_track",
                url: "./assets/packs/ogg/bonus_track.ogg",
                size: 541613,
                delay: true,
                onDemand: false,
                localized: false,
                version: "5bfb131c93"
            }, {
                name: "bonus_track_collect",
                url: "./assets/packs/ogg/bonus_track_collect.ogg",
                size: 407346,
                delay: true,
                onDemand: false,
                localized: false,
                version: "d0ee84a6f1"
            }, {
                name: "bonus_win",
                url: "./assets/packs/ogg/bonus_win.ogg",
                size: 28401,
                delay: true,
                onDemand: false,
                localized: false,
                version: "4a45aa1eea"
            }, {
                name: "bonus_win_stop",
                url: "./assets/packs/ogg/bonus_win_stop.ogg",
                size: 36977,
                delay: true,
                onDemand: false,
                localized: false,
                version: "f328ebe552"
            }, {
                name: "cntr_rllng",
                url: "./assets/packs/ogg/cntr_rllng.ogg",
                size: 85476,
                delay: true,
                onDemand: false,
                localized: false,
                version: "ce84c8acb5"
            }, {
                name: "cntr_rllng_stop",
                url: "./assets/packs/ogg/cntr_rllng_stop.ogg",
                size: 44587,
                delay: true,
                onDemand: false,
                localized: false,
                version: "ce50cfe5b2"
            }, {
                name: "coins",
                url: "./assets/packs/ogg/coins.ogg",
                size: 116740,
                delay: true,
                onDemand: false,
                localized: false,
                version: "dbf1d8ecc5"
            }, {
                name: "freespin_track",
                url: "./assets/packs/ogg/freespin_track.ogg",
                size: 640673,
                delay: true,
                onDemand: false,
                localized: false,
                version: "2fc791b521"
            }, {
                name: "fs_additional_popup",
                url: "./assets/packs/ogg/fs_additional_popup.ogg",
                size: 66797,
                delay: true,
                onDemand: false,
                localized: false,
                version: "2f27bd9cb1"
            }, {
                name: "fs_start_popup",
                url: "./assets/packs/ogg/fs_start_popup.ogg",
                size: 68815,
                delay: true,
                onDemand: false,
                localized: false,
                version: "335b55f3ee"
            }, {
                name: "fs_total_win_long",
                url: "./assets/packs/ogg/fs_total_win_long.ogg",
                size: 164819,
                delay: true,
                onDemand: false,
                localized: false,
                version: "6bfb99e207"
            }, {
                name: "fs_total_win_short",
                url: "./assets/packs/ogg/fs_total_win_short.ogg",
                size: 64109,
                delay: true,
                onDemand: false,
                localized: false,
                version: "e7ea7856c4"
            }, {
                name: "jackpot_win_popup",
                url: "./assets/packs/ogg/jackpot_win_popup.ogg",
                size: 177789,
                delay: true,
                onDemand: false,
                localized: false,
                version: "4e89339ea0"
            }, {
                name: "mainform_track",
                url: "./assets/packs/ogg/mainform_track.ogg",
                size: 1089101,
                delay: true,
                onDemand: false,
                localized: false,
                version: "919a28efe8"
            }, {
                name: "megawin_popup",
                url: "./assets/packs/ogg/megawin_popup.ogg",
                size: 273891,
                delay: true,
                onDemand: false,
                localized: false,
                version: "2173af1521"
            }, {
                name: "mystery_open",
                url: "./assets/packs/ogg/mystery_open.ogg",
                size: 60865,
                delay: true,
                onDemand: false,
                localized: false,
                version: "4b4f911f65"
            }, {
                name: "mystery_stop",
                url: "./assets/packs/ogg/mystery_stop.ogg",
                size: 37052,
                delay: true,
                onDemand: false,
                localized: false,
                version: "e21f8d9f54"
            }, {
                name: "numbers_popup",
                url: "./assets/packs/ogg/numbers_popup.ogg",
                size: 85526,
                delay: true,
                onDemand: false,
                localized: false,
                version: "c7708e1179"
            }, {
                name: "numbers_popup_skip",
                url: "./assets/packs/ogg/numbers_popup_skip.ogg",
                size: 44647,
                delay: true,
                onDemand: false,
                localized: false,
                version: "26cd940bd9"
            }, {
                name: "reel_stop",
                url: "./assets/packs/ogg/reel_stop.ogg",
                size: 7302,
                delay: true,
                onDemand: false,
                localized: false,
                version: "bdc57322a7"
            }, {
                name: "reel_stop_all",
                url: "./assets/packs/ogg/reel_stop_all.ogg",
                size: 20550,
                delay: true,
                onDemand: false,
                localized: false,
                version: "b2762605b6"
            }, {
                name: "rise_grand_jackpot",
                url: "./assets/packs/ogg/rise_grand_jackpot.ogg",
                size: 86452,
                delay: true,
                onDemand: false,
                localized: false,
                version: "1a72c3bc37"
            }, {
                name: "rise_grand_jackpot_lose",
                url: "./assets/packs/ogg/rise_grand_jackpot_lose.ogg",
                size: 20127,
                delay: true,
                onDemand: false,
                localized: false,
                version: "89a18dd3a7"
            }, {
                name: "rise_grand_jackpot_win",
                url: "./assets/packs/ogg/rise_grand_jackpot_win.ogg",
                size: 39315,
                delay: true,
                onDemand: false,
                localized: false,
                version: "c980765530"
            }, {
                name: "rise_lose",
                url: "./assets/packs/ogg/rise_lose.ogg",
                size: 37826,
                delay: true,
                onDemand: false,
                localized: false,
                version: "e7e65aa035"
            }, {
                name: "rise_melody_long",
                url: "./assets/packs/ogg/rise_melody_long.ogg",
                size: 188529,
                delay: true,
                onDemand: false,
                localized: false,
                version: "e85be27212"
            }, {
                name: "rise_melody_middle",
                url: "./assets/packs/ogg/rise_melody_middle.ogg",
                size: 163585,
                delay: true,
                onDemand: false,
                localized: false,
                version: "3a7ed9f316"
            }, {
                name: "rise_melody_short",
                url: "./assets/packs/ogg/rise_melody_short.ogg",
                size: 138627,
                delay: true,
                onDemand: false,
                localized: false,
                version: "a760bcba4f"
            }, {
                name: "rise_win",
                url: "./assets/packs/ogg/rise_win.ogg",
                size: 37632,
                delay: true,
                onDemand: false,
                localized: false,
                version: "b85970a5d0"
            }, {
                name: "sb_explosion",
                url: "./assets/packs/ogg/sb_explosion.ogg",
                size: 44910,
                delay: true,
                onDemand: false,
                localized: false,
                version: "100639f932"
            }, {
                name: "sb_trigger",
                url: "./assets/packs/ogg/sb_trigger.ogg",
                size: 14827,
                delay: true,
                onDemand: false,
                localized: false,
                version: "d26b54c8bb"
            }, {
                name: "scatter_stop_2",
                url: "./assets/packs/ogg/scatter_stop_2.ogg",
                size: 14737,
                delay: true,
                onDemand: false,
                localized: false,
                version: "148467568e"
            }, {
                name: "scatter_stop_3",
                url: "./assets/packs/ogg/scatter_stop_3.ogg",
                size: 14419,
                delay: true,
                onDemand: false,
                localized: false,
                version: "91afedca3d"
            }, {
                name: "scatter_stop_4",
                url: "./assets/packs/ogg/scatter_stop_4.ogg",
                size: 14815,
                delay: true,
                onDemand: false,
                localized: false,
                version: "4eadd2e121"
            }, {
                name: "scatter_win",
                url: "./assets/packs/ogg/scatter_win.ogg",
                size: 57732,
                delay: true,
                onDemand: false,
                localized: false,
                version: "9059577517"
            }, {
                name: "small_win",
                url: "./assets/packs/ogg/small_win.ogg",
                size: 26253,
                delay: true,
                onDemand: false,
                localized: false,
                version: "8878ca8e22"
            }, {
                name: "super_bonus_stop",
                url: "./assets/packs/ogg/super_bonus_stop.ogg",
                size: 47366,
                delay: true,
                onDemand: false,
                localized: false,
                version: "167763c31d"
            }, {
                name: "superwin_popup",
                url: "./assets/packs/ogg/superwin_popup.ogg",
                size: 197493,
                delay: true,
                onDemand: false,
                localized: false,
                version: "ad9ea37578"
            }]
        }
    }, {}],
    143: [function(require, module, exports) {
        module.exports = {
            config: {
                sounds: {
                    mainform_track: {
                        volume: .1,
                        loop: -1,
                        fade: 1e3,
                        playOnLoad: true
                    },
                    freespin_track: {
                        volume: .11,
                        loop: -1,
                        playOnLoad: true
                    },
                    bonus_track: {
                        volume: .11,
                        loop: -1,
                        playOnLoad: true
                    },
                    bonus_track_collect: {
                        volume: .12,
                        loop: -1
                    },
                    cntr_rllng: {
                        volume: .32,
                        loop: -1
                    },
                    cntr_rllng_stop: {
                        volume: .18,
                        loop: 0
                    },
                    small_win: {
                        volume: .33,
                        loop: 0
                    },
                    scatter_win: {
                        volume: .45,
                        loop: 0
                    },
                    bonus_win: {
                        volume: .36,
                        loop: 0
                    },
                    reel_stop: {
                        volume: .4,
                        loop: 0
                    },
                    reel_stop_all: {
                        volume: .4,
                        loop: 0
                    },
                    scatter_stop_1: {
                        volume: .06,
                        loop: 0
                    },
                    scatter_stop_2: {
                        volume: .07,
                        loop: 0
                    },
                    scatter_stop_3: {
                        volume: .09,
                        loop: 0
                    },
                    scatter_stop_4: {
                        volume: .11,
                        loop: 0
                    },
                    scatter_stop_5: {
                        volume: .14,
                        loop: 0
                    },
                    bonus_stop_1: {
                        volume: .22,
                        loop: 0
                    },
                    bonus_stop_2: {
                        volume: .25,
                        loop: 0
                    },
                    bonus_stop_3: {
                        volume: .3,
                        loop: 0
                    },
                    bonus_stop_4: {
                        volume: .36,
                        loop: 0
                    },
                    bonus_stop_5: {
                        volume: .4,
                        loop: 0
                    },
                    super_bonus_stop: {
                        volume: .3,
                        loop: 0
                    },
                    rise_bonus: {
                        volume: .34,
                        loop: 0
                    },
                    rise_melody_long: {
                        volume: .34,
                        loop: 0
                    },
                    rise_melody_middle: {
                        volume: .3,
                        loop: 0
                    },
                    rise_melody_short: {
                        volume: .26,
                        loop: 0
                    },
                    rise_win: {
                        volume: .34,
                        loop: 0
                    },
                    rise_lose: {
                        volume: .13,
                        loop: 0
                    },
                    coins: {
                        volume: .24,
                        loop: -1
                    },
                    numbers_popup: {
                        volume: .3,
                        loop: -1
                    },
                    numbers_popup_skip: {
                        volume: .2,
                        loop: 0
                    },
                    bigwin_popup: {
                        volume: .25,
                        loop: 0
                    },
                    superwin_popup: {
                        volume: .26,
                        loop: 0
                    },
                    megawin_popup: {
                        volume: .27,
                        loop: 0
                    },
                    fs_start_popup: {
                        volume: .24,
                        loop: 0
                    },
                    fs_transition_popup: {
                        volume: .34,
                        loop: 0
                    },
                    fs_additional_popup: {
                        volume: .34,
                        loop: 0
                    },
                    fs_total_win_short: {
                        volume: .16,
                        loop: 0
                    },
                    fs_total_win_long: {
                        volume: .17,
                        loop: 0
                    },
                    bn_start_popup: {
                        volume: .3,
                        loop: 0
                    },
                    bn_collect_popup: {
                        volume: .29,
                        loop: 0
                    },
                    bn_total_win_short: {
                        volume: .16,
                        loop: 0
                    },
                    bn_total_win_long: {
                        volume: .18,
                        loop: 0
                    },
                    jackpot_win_popup: {
                        volume: .18,
                        loop: 0
                    },
                    rise_grand_jackpot: {
                        volume: .25,
                        loop: 0
                    },
                    rise_grand_jackpot_win: {
                        volume: .4,
                        loop: 0
                    },
                    rise_grand_jackpot_lose: {
                        volume: .23,
                        loop: 0
                    },
                    bonus_win_stop: {
                        volume: .2,
                        loop: 0
                    },
                    mystery_stop: {
                        volume: .39,
                        loop: 0
                    },
                    mystery_open: {
                        volume: .37,
                        loop: 0
                    },
                    bonus_number_fly: {
                        volume: .2,
                        loop: 0
                    },
                    bonus_collect: {
                        volume: .2,
                        loop: 0
                    },
                    sb_trigger: {
                        volume: .2,
                        loop: 0
                    },
                    sb_explosion: {
                        volume: .3,
                        loop: 0
                    }
                }
            }
        }
    }, {}],
    144: [function(require, module, exports) {
        "use strict";
        var _app = _interopRequireDefault(require("core/app"));
        var _SpinsStates = require("core/states/SpinsStates");
        var _FreeSpinsStates = require("core/states/FreeSpinsStates");
        var _helpers = require("core/helpers");
        var _Enums = _interopRequireDefault(require("core/core/Enums"));
        var _SkipController = _interopRequireDefault(require("core/controllers/SkipController"));

        function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : {
                default: obj
            }
        }
        _SpinsStates.IdleSpinsState.prototype.onEnter = function() {
            _app.default.unlock();
            _app.default.ui.use("spins");
            _app.default.ui.setRoundWin();
            _app.default.ui.setBalance();
            _app.default.emit(_Enums.default.stateReady("spin"))
        };
        _SpinsStates.ResultSpinsState.prototype.onEnter = function() {
            var _this = this;
            if (_app.default.model.canAction("spin") && !_app.default.flow.isSpectator()) {
                _app.default.unlock()
            }
            _app.default.ui.setRoundWin();
            _app.default.ui.setBalance();
            var waitDefer = _helpers.utils.deferred();
            _SkipController.default.once(waitDefer.resolve);
            Promise.resolve().then(function() {
                if (_app.default.model.canAction("freespin_init") || _app.default.model.canAction("bonus_init")) {
                    GR.UI.model.set("round_win_mode", "total_win");
                    GR.UI.model.set("total_win", 0)
                }
            }).then(function() {
                return _helpers.utils.wait(100)
            }).then(function() {
                return _app.default.model.statusOk && _app.default.board.showRoundResult()
            }).then(function() {
                var waitTime = _app.default.model.isAutoGame() ? _app.default.model.isQuickSpin() ? _app.default.config.get("Board.resultStateDelayQuickSpin") : _app.default.config.get("Board.resultStateDelay") : 0;
                _helpers.utils.wait(waitTime).then(waitDefer.resolve);
                return waitDefer.promise
            }).then(function() {
                return _this.beforeLeave()
            }).then(function() {
                return _this.leave()
            })
        };
        _SpinsStates.ResultSpinsState.prototype.beforeLeave = function() {
            return Promise.resolve().then(function() {
                if (!_app.default.model.canAction("bonus_init") && !_app.default.model.canAction("freespin_init") && !_app.default.model.isBigWin() && !_app.default.model.roundWin()) {
                    _app.default.board.reels.forEachSymbol(function(symbol) {
                        return symbol.setDeBlurState()
                    });
                    _app.default.board.reels.forEachAdditionalSymbol(function(symbol) {
                        return symbol.setDeBlurState()
                    });
                    _app.default.board.reels.forEachOversizeSymbol(function(symbol) {
                        return symbol.setDeBlurState()
                    })
                } else if (_app.default.model.canAction("bonus_init")) {
                    _app.default.board.reels.forEachSymbol(function(symbol) {
                        return symbol.setDeBlurState()
                    });
                    _app.default.board.reels.forEachAdditionalSymbol(function(symbol) {
                        return symbol.setDeBlurState()
                    })
                } else if (_app.default.model.isBigWin()) {
                    _app.default.board.reels.forEachSymbol(function(symbol) {
                        return symbol.setDeBlurState()
                    });
                    _app.default.board.reels.forEachAdditionalSymbol(function(symbol) {
                        return symbol.setDeBlurState()
                    });
                    _app.default.board.reels.forEachOversizeSymbol(function(symbol) {
                        return symbol.setDeBlurState()
                    })
                }
            })
        };
        _FreeSpinsStates.ResultFreeSpinsState.prototype.onEnter = function() {
            var _this2 = this;
            _app.default.lock();
            var waitDefer = _helpers.utils.deferred();
            _SkipController.default.once(waitDefer.resolve);
            _helpers.utils.wait(100).then(function() {
                return _app.default.board.showRoundResult()
            }).then(function() {
                var waitTime = _app.default.model.isAutoGame() ? _app.default.model.isQuickSpin() ? _app.default.config.get("Board.resultStateDelayQuickSpin") : _app.default.config.get("Board.resultStateDelay") : 0;
                _helpers.utils.wait(waitTime).then(waitDefer.resolve);
                return waitDefer.promise
            }).then(function() {
                return _this2.beforeLeave()
            }).then(function() {
                return _this2.leave()
            });
            _app.default.ui.setRoundWin();
            _app.default.ui.setBalance()
        };
        _FreeSpinsStates.ResultFreeSpinsState.prototype.beforeLeave = function() {
            return Promise.resolve().then(function() {
                if (!_app.default.model.canAction("bonus_init") && !_app.default.model.canAction("freespin_init") && !_app.default.model.isBigWin() && !_app.default.model.roundWin()) {
                    _app.default.board.reels.forEachSymbol(function(symbol) {
                        return symbol.setDeBlurState()
                    });
                    _app.default.board.reels.forEachAdditionalSymbol(function(symbol) {
                        return symbol.setDeBlurState()
                    });
                    _app.default.board.reels.forEachOversizeSymbol(function(symbol) {
                        return symbol.setDeBlurState()
                    })
                } else if (_app.default.model.canAction("bonus_init")) {
                    _app.default.board.reels.forEachSymbol(function(symbol) {
                        return symbol.setDeBlurState()
                    });
                    _app.default.board.reels.forEachAdditionalSymbol(function(symbol) {
                        return symbol.setDeBlurState()
                    })
                }
            })
        };
        _FreeSpinsStates.LoadFreeSpinsState.prototype.beforeLeave = function() {
            return Promise.resolve().then(function() {
                return _app.default.bg.changeBackground()
            }).then(function() {
                return _app.default.board.showFreespinsFrame()
            }).then(function() {
                return _app.default.board.reset()
            }).then(function() {
                return _app.default.board.freespinsPopup.hide()
            })
        };
        _FreeSpinsStates.UnloadFreeSpinsState.prototype.beforeLeave = function() {
            return Promise.resolve().then(function() {
                return _app.default.flow.actIfPossible("freespin_stop")
            }).then(function() {
                return _app.default.board.totalWin.setBackAlpha()
            }).then(function() {
                return _app.default.board.reset()
            }).then(function() {
                return GR.UI.model.set("game_mode", "spins")
            }).then(function() {
                return _app.default.bg.changeBackground()
            }).then(function() {
                return _app.default.board.showSpinsFrame()
            }).then(function() {
                return _app.default.board.totalWin.hide()
            })
        };
        _FreeSpinsStates.UnloadFreeSpinsState.prototype.onEnter = function() {
            var _this3 = this;
            _app.default.lock();
            _app.default.ui.use();
            GR.UI.model.set("round_win_mode", "total_win");
            GR.UI.model.set("total_win", _app.default.model.current("total_win", 0));
            var promise = _app.default.flow.actIfPossible("freespin_stop").then(function() {
                return _this3.beforeLeave()
            }).then(function() {
                return _this3.leave()
            });
            return promise
        };
        _FreeSpinsStates.ResultFreeSpinsState.prototype.onLeave = function() {
            if (_app.default.model.isFreeSpinsOutro()) {
                return _helpers.utils.wait(300).then(function() {
                    _app.default.board.reels.setSymbolsStaticState()
                }).then(function() {
                    return _app.default.board.showFreeSpinsOutroLabel()
                }).then(function() {
                    _app.default.model.setDefaults();
                    _app.default.board.reset()
                })
            }
            return _helpers.utils.wait(250).then(function() {
                return _app.default.board.reset()
            })
        };
        _SpinsStates.SpinningSpinsState.prototype.onEnter = function() {
            var _this4 = this;
            _app.default.model.setDefaults();
            _app.default.lock();
            _app.default.ui.setRoundWin(null);
            _app.default.board.reset().then(function() {
                return Promise.all([_app.default.board.spin(), _app.default.flow.result()])
            }).then(function() {
                return Promise.all([_app.default.board.stop(), !_app.default.model.statusOk && _app.default.board.skip()])
            }).then(function() {
                return _this4.leave()
            })
        };
        _FreeSpinsStates.SpinningFreeSpinsState.prototype.onEnter = function() {
            var _this5 = this;
            _app.default.model.setDefaults();
            _app.default.lock();
            _app.default.ui.setRoundWin(null);
            GR.UI.model.set("round_win_mode", "total_win");
            GR.UI.model.set("freespins.count", _app.default.model.current("rounds_left") - 1);
            Promise.all([_app.default.board.spin(), _app.default.flow.act("freespin")]).then(function() {
                return _app.default.board.stop()
            }).then(function() {
                return _this5.leave()
            })
        }
    }, {
        "core/app": 33,
        "core/controllers/SkipController": 68,
        "core/core/Enums": 73,
        "core/helpers": 90,
        "core/states/FreeSpinsStates": 93,
        "core/states/SpinsStates": 94
    }],
    145: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
        exports.BASE_STYLE = void 0;
        exports.BONUS_SYMBOL_TEXT = BONUS_SYMBOL_TEXT;
        exports.COINS_TEXT = COINS_TEXT;
        exports.SPLASH_SCREEN_BASE_STYLE = exports.JACKPOT_STYLE = void 0;
        var BASE_STYLE = {
            fontFamily: "Roboto-Medium",
            fontSize: 106,
            fill: ["#ffee53", "#ffc", "#ffc", "#fe9a50", "#df8600", "#fc0"],
            fillGradientStops: [.52, .56, .55, .63, .58, .7],
            lineJoin: "round",
            dropShadow: true,
            dropShadowAngle: 1.5,
            dropShadowColor: "#9f2800",
            dropShadowDistance: 3,
            miterLimit: 0,
            stroke: "#3c0b00",
            strokeThickness: 6,
            useSystemFont: false
        };
        exports.BASE_STYLE = BASE_STYLE;
        var SPLASH_SCREEN_BASE_STYLE = {
            dropShadow: true,
            dropShadowAngle: 1.4,
            dropShadowBlur: 11,
            dropShadowDistance: 3,
            fill: ["#fefdf1", "#d1b07e"],
            fillGradientStops: [.5, .8],
            fontSize: 70,
            lineJoin: "round",
            miterLimit: 3,
            align: "center",
            fontWeight: "bold",
            padding: 15
        };
        exports.SPLASH_SCREEN_BASE_STYLE = SPLASH_SCREEN_BASE_STYLE;

        function COINS_TEXT() {
            var size = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 12;
            return {
                font: "".concat(size, "px bitmapfont")
            }
        }

        function BONUS_SYMBOL_TEXT() {
            var size = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 12;
            return {
                font: "".concat(size, "px numbers_bonus")
            }
        }
        var JACKPOT_STYLE = {
            fontFamily: "Roboto-Bold",
            fill: ["#fcf9e3", "#e48a37"],
            fillGradientStops: [.5, .8],
            dropShadow: true,
            dropShadowAngle: 1.4,
            dropShadowBlur: 8,
            dropShadowDistance: 1,
            dropShadowColor: "#000000",
            stroke: "#111",
            strokeThickness: 4,
            fontSize: "40px",
            lineJoin: "round",
            miterLimit: 3,
            useSystemFont: false,
            padding: 20
        };
        exports.JACKPOT_STYLE = JACKPOT_STYLE
    }, {}],
    146: [function(require, module, exports) {
        module.exports = require("browserify-postcss")("/* SYMBOLS PAGE */ .symbols-page {     width: 100%;     display: -webkit-box;     display: -webkit-flex;     display: -ms-flexbox;     display: flex;     -webkit-box-orient: vertical;     -webkit-box-direction: normal;     -webkit-flex-direction: column;         -ms-flex-direction: column;             flex-direction: column;     -webkit-box-align: center;     -webkit-align-items: center;         -ms-flex-align: center;             align-items: center;     } .gr__orientation_landscape .symbols-page  {     top: 45%;     position: absolute;     -webkit-transform: translateY(-40%);             transform: translateY(-40%);     width: 100%; } .gr__orientation_portrait .symbols-page-second .symbols-page {     top: 50%;     position: absolute;     -webkit-transform: translateY(-40%);             transform: translateY(-40%);     width: 100%; } .paytable-symbol-inner-wrapper.column.pays-in-column {     display: -webkit-box;     display: -webkit-flex;     display: -ms-flexbox;     display: flex;     -webkit-box-orient: vertical;     -webkit-box-direction: normal;     -webkit-flex-direction: column;         -ms-flex-direction: column;             flex-direction: column;     -webkit-box-align: center;     -webkit-align-items: center;         -ms-flex-align: center;             align-items: center; } .paytable-symbol {     width: 49% } .gr__orientation_landscape .paytable-symbol:nth-child(n+3) {     width: 24%; } .symbols-page-first .paytable-symbol:nth-child(n+3) img {     width: 83%;     margin-left: 13px; } .gr__orientation_landscape .symbols-page-first .paytable-symbol:nth-child(n+3) .paytable-symbol-pays {     margin-top: 15px; } .gr__orientation_portrait .symbols-page-first .paytable-symbol:nth-child(n+3) .paytable-symbol-pays {     margin-top: 10px; } .gr__orientation_landscape .paytable-symbol:nth-child(n+3), .gr__orientation_portrait .paytable-symbol {     margin-top: 15px; } .paytable-symbol .paytable-symbol-pays {     font-size: 22px;     margin-top: -5px; } .gr__orientation_landscape .paytable-symbol-icon img {     margin-bottom: -8px; } .gr__orientation_portrait .paytable-symbol-pays {     font-size: 18px; } .symbols-page-second .paytable-symbol-pays {     margin-top: -20px; } .paytable-tb-fs, .paytable-symbol-title {     display: none; } /* SPECIAL SYMBOLS PAGE */ .sp-symbols-page-wrapper {     top: 50%;     position: absolute;     -webkit-transform: translateY(-50%);     transform: translateY(-50%);     z-index: -100;     width: 100%; } .gr__orientation_portrait .sp-symbols-page-wrapper {     -webkit-transform: translateY(-40%);             transform: translateY(-40%); } .sp-symbols-page-block {     display: -webkit-box;     display: -webkit-flex;     display: -ms-flexbox;     display: flex;     -webkit-box-pack: justify;     -webkit-justify-content: space-between;         -ms-flex-pack: justify;             justify-content: space-between;     -webkit-box-align: center;     -webkit-align-items: center;         -ms-flex-align: center;             align-items: center;     font-size: 1.6em;     margin-top: 40px; } .sp-symbols-texts-block {     width: 70%; } .sp-symbols-texts {     width: 95%; } .sp-symbols-image {     display: -webkit-box;     display: -webkit-flex;     display: -ms-flexbox;     display: flex;     -webkit-box-pack: center;     -webkit-justify-content: center;         -ms-flex-pack: center;             justify-content: center;     width: 30%;     margin: -55px 0px; } .gr__orientation_portrait .sp-symbols-image {     width: 40%; } .gr__orientation_portrait .sp-symbols-page-block {     font-size: 1.5em; } .sp-symbols-image img {     -webkit-transform: scale(0.7);             transform: scale(0.7); } .paytable-page--tr .sp-symbols-texts {     font-size: 0.9em; } .paytable-page--es .sp-symbols-texts {     font-size: 0.9em; } .paytable-page--ja .sp-symbols-texts {     font-size: 0.85em; } .paytable-page--th .sp-symbols-texts, .paytable-page--ru .sp-symbols-texts {     font-size: 0.9em; } .paytable-page--vi .sp-symbols-texts, .paytable-page--fr .sp-symbols-texts, .paytable-page--id .sp-symbols-texts {     line-height: 1em; } /* COMMON PAGE */ .common-page-wrapper {     display: -webkit-box;     display: -webkit-flex;     display: -ms-flexbox;     display: flex;     -webkit-box-align: start;     -webkit-align-items: flex-start;         -ms-flex-align: start;             align-items: flex-start;     -webkit-flex-wrap: wrap;         -ms-flex-wrap: wrap;             flex-wrap: wrap;     -webkit-box-pack: center;     -webkit-justify-content: center;         -ms-flex-pack: center;             justify-content: center;     position: absolute;     top: 50%;     -webkit-transform: translateY(-45%);             transform: translateY(-45%); } .gr__orientation_portrait .common-page-wrapper {     -webkit-transform: translateY(-35%);             transform: translateY(-35%); } .common-page {     display: -webkit-box;     display: -webkit-flex;     display: -ms-flexbox;     display: flex;     -webkit-box-orient: vertical;     -webkit-box-direction: normal;     -webkit-flex-direction: column;         -ms-flex-direction: column;             flex-direction: column;     -webkit-box-align: center;     -webkit-align-items: center;         -ms-flex-align: center;             align-items: center;     width: 50%; } .common-page-text {     font-size: 1.5em;     width: 90%;     text-align: center; } .gr__orientation_portrait .common-page-text {     font-size: 1.4em; } .paytable-page--ja  .common-page-text {     font-size: 1.4em; } .gr__orientation_portrait .paytable-page--ja  .common-page-text {     font-size: 1.3em; } .common-scatter-symbol {     display: -webkit-box;     display: -webkit-flex;     display: -ms-flexbox;     display: flex;     -webkit-box-align: center;     -webkit-align-items: center;         -ms-flex-align: center;             align-items: center; } .paytable-symbol-pays .occurrences {     color: #ffcc00;     padding: 0 0.2em;     text-align: right; } .paytable-symbol-pays .pays {     padding: 0 0.2em;     text-align: left;     line-height: 0.5em; } .common-scatter-symbol .paytable-symbol-pays {     line-height: 0.5em; } .common-page-bottom {     width: 90%;     -webkit-box-align: start;     -webkit-align-items: flex-start;         -ms-flex-align: start;             align-items: flex-start;     margin-top: 20px; } .common-page-bottom div{     display: list-item; } .common-image-block {     display: -webkit-box;     display: -webkit-flex;     display: -ms-flexbox;     display: flex;     -webkit-box-align: center;     -webkit-align-items: center;         -ms-flex-align: center;             align-items: center; } .common-page-bottom .common-page-text {     text-align: start; } /* FREE SPINS PAGE */ .common-fs-page-bottom {     margin-top: 20px;     min-width: 80%;     max-width: 100%;     text-align: center;     -webkit-box-align: center;     -webkit-align-items: center;         -ms-flex-align: center;             align-items: center; } .common-fs-page-bottom .common-page-text {     width: 100%; } .common-fs-page-bottom img {     max-width: 700px; } .gr__orientation_portrait .common-fs-page-bottom img {     max-width: 90%; } /* PAYLINES PAGE */ .paytable-paylines {     top: 50%;     position: absolute;     -webkit-transform: translateY(-45%);     transform: translateY(-45%);     z-index: -100;     width: 100%; } .gr__orientation_portrait .paytable-paylines {     -webkit-transform: translateY(-40%);             transform: translateY(-40%); } .gr__orientation_portrait .paytable-paylines {     -webkit-transform: scale(0.80) translateY(-55%);     transform: scale(0.80) translateY(-55%); } .payline {     -webkit-flex-basis: 12%;     -ms-flex-preferred-size: 12%;     flex-basis: 12%; } ")
    }, {
        "browserify-postcss": 1
    }]
}, {}, [107]);